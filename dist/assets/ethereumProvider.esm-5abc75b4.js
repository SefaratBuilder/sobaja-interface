import{U as Ze,H as D,V as ns,G as Tt,X as eo,Y as Wn,Z as Xr,$ as is,a0 as os,I as ss,R as as,T as fs,a1 as cs,a2 as to,a3 as us,a4 as Kr,a5 as di,a6 as li,a7 as mi,a8 as hs,a9 as Jn,aa as Xn,N as nr,_ as Nt,ab as be,ac as qt,W as pi,P as gn,O as Vr,ad as Qn,p as ei,ae as ro,af as ds,ag as ls,ah as no,ai as io,aj as Kt,ak as ms,al as oo,am as wn,an as Lt,ao as so,L as vn,Q as ps}from"./index-0ddfbe09.js";var ao={},Qr={},wr={},Yr={},En={},fo={};/*! crc32.js (C) 2014-present SheetJS -- http://sheetjs.com */(function(n){(function(e){e(typeof DO_NOT_EXPORT_CRC>"u"?n:{})})(function(e){e.version="1.2.2";function t(){for(var F=0,O=new Array(256),C=0;C!=256;++C)F=C,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,O[C]=F;return typeof Int32Array<"u"?new Int32Array(O):O}var r=t();function a(F){var O=0,C=0,y=0,i=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(y=0;y!=256;++y)i[y]=F[y];for(y=0;y!=256;++y)for(C=F[y],O=256+y;O<4096;O+=256)C=i[O]=C>>>8^F[C&255];var c=[];for(y=1;y!=16;++y)c[y-1]=typeof Int32Array<"u"?i.subarray(y*256,y*256+256):i.slice(y*256,y*256+256);return c}var o=a(r),d=o[0],g=o[1],E=o[2],A=o[3],I=o[4],U=o[5],G=o[6],pe=o[7],le=o[8],_e=o[9],Ie=o[10],Ee=o[11],$e=o[12],Me=o[13],Se=o[14];function j(F,O){for(var C=O^-1,y=0,i=F.length;y<i;)C=C>>>8^r[(C^F.charCodeAt(y++))&255];return~C}function ne(F,O){for(var C=O^-1,y=F.length-15,i=0;i<y;)C=Se[F[i++]^C&255]^Me[F[i++]^C>>8&255]^$e[F[i++]^C>>16&255]^Ee[F[i++]^C>>>24]^Ie[F[i++]]^_e[F[i++]]^le[F[i++]]^pe[F[i++]]^G[F[i++]]^U[F[i++]]^I[F[i++]]^A[F[i++]]^E[F[i++]]^g[F[i++]]^d[F[i++]]^r[F[i++]];for(y+=15;i<y;)C=C>>>8^r[(C^F[i++])&255];return~C}function oe(F,O){for(var C=O^-1,y=0,i=F.length,c=0,m=0;y<i;)c=F.charCodeAt(y++),c<128?C=C>>>8^r[(C^c)&255]:c<2048?(C=C>>>8^r[(C^(192|c>>6&31))&255],C=C>>>8^r[(C^(128|c&63))&255]):c>=55296&&c<57344?(c=(c&1023)+64,m=F.charCodeAt(y++)&1023,C=C>>>8^r[(C^(240|c>>8&7))&255],C=C>>>8^r[(C^(128|c>>2&63))&255],C=C>>>8^r[(C^(128|m>>6&15|(c&3)<<4))&255],C=C>>>8^r[(C^(128|m&63))&255]):(C=C>>>8^r[(C^(224|c>>12&15))&255],C=C>>>8^r[(C^(128|c>>6&63))&255],C=C>>>8^r[(C^(128|c&63))&255]);return~C}e.table=r,e.bstr=j,e.buf=ne,e.str=oe})})(fo);const gs="goerli",vs=5,ys=5,bs="merge",xs={type:"poa",algorithm:"clique",clique:{period:15,epoch:3e4}},ws="Cross-client PoA test network",Es="https://github.com/goerli/testnet",Ps={timestamp:"0x5c51a607",gasLimit:10485760,difficulty:1,nonce:"0x0000000000000000",extraData:"0x22466c6578692069732061207468696e6722202d204166726900000000000000e0a2bd4258d2768837baa26a28fe71dc079f84c70000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"},Ms=[{name:"chainstart",block:0,forkHash:"0xa3f5ab08"},{name:"homestead",block:0,forkHash:"0xa3f5ab08"},{name:"tangerineWhistle",block:0,forkHash:"0xa3f5ab08"},{name:"spuriousDragon",block:0,forkHash:"0xa3f5ab08"},{name:"byzantium",block:0,forkHash:"0xa3f5ab08"},{name:"constantinople",block:0,forkHash:"0xa3f5ab08"},{name:"petersburg",block:0,forkHash:"0xa3f5ab08"},{name:"istanbul",block:1561651,forkHash:"0xc25efa5c"},{name:"berlin",block:4460644,forkHash:"0x757a1c47"},{name:"london",block:5062605,forkHash:"0xb8c6299d"},{"//_comment":"The forkHash will remain same as mergeForkIdTransition is post merge, terminal block: https://goerli.etherscan.io/block/7382818",name:"merge",ttd:"10790000",block:7382819,forkHash:"0xb8c6299d"},{name:"mergeForkIdTransition",block:null,forkHash:null},{name:"shanghai",block:null,timestamp:"1678832736",forkHash:"0xf9843abf"}],Ts=[{ip:"51.141.78.53",port:30303,id:"011f758e6552d105183b1761c5e2dea0111bc20fd5f6422bc7f91e0fabbec9a6595caf6239b37feb773dddd3f87240d99d859431891e4a642cf2a0a9e6cbb98a",location:"",comment:"Upstream bootnode 1"},{ip:"13.93.54.137",port:30303,id:"176b9417f511d05b6b2cf3e34b756cf0a7096b3094572a8f6ef4cdcb9d1f9d00683bf0f83347eebdf3b81c3521c2332086d9592802230bf528eaf606a1d9677b",location:"",comment:"Upstream bootnode 2"},{ip:"94.237.54.114",port:30313,id:"46add44b9f13965f7b9875ac6b85f016f341012d84f975377573800a863526f4da19ae2c620ec73d11591fa9510e992ecc03ad0751f53cc02f7c7ed6d55c7291",location:"",comment:"Upstream bootnode 3"},{ip:"18.218.250.66",port:30313,id:"b5948a2d3e9d486c4d75bf32713221c2bd6cf86463302339299bd227dc2e276cd5a1c7ca4f43a0e9122fe9af884efed563bd2a1fd28661f3b5f5ad7bf1de5949",location:"",comment:"Upstream bootnode 4"},{ip:"3.11.147.67",port:30303,id:"a61215641fb8714a373c80edbfa0ea8878243193f57c96eeb44d0bc019ef295abd4e044fd619bfc4c59731a73fb79afe84e9ab6da0c743ceb479cbb6d263fa91",location:"",comment:"Ethereum Foundation bootnode"},{ip:"51.15.116.226",port:30303,id:"a869b02cec167211fb4815a82941db2e7ed2936fd90e78619c53eb17753fcf0207463e3419c264e2a1dd8786de0df7e68cf99571ab8aeb7c4e51367ef186b1dd",location:"",comment:"Goerli Initiative bootnode"},{ip:"51.15.119.157",port:30303,id:"807b37ee4816ecf407e9112224494b74dd5933625f655962d892f2f0f02d7fbbb3e2a94cf87a96609526f30c998fd71e93e2f53015c558ffc8b03eceaf30ee33",location:"",comment:"Goerli Initiative bootnode"},{ip:"51.15.119.157",port:40303,id:"a59e33ccd2b3e52d578f1fbd70c6f9babda2650f0760d6ff3b37742fdcdfdb3defba5d56d315b40c46b70198c7621e63ffa3f987389c7118634b0fefbbdfa7fd",location:"",comment:"Goerli Initiative bootnode"}],_s=["enrtree://AKA3AM6LPBYEUDMVNU3BSVQJ5AD45Y7YPOHJLEF6W26QOE4VTUDPE@all.goerli.ethdisco.net"],As={name:gs,chainId:vs,networkId:ys,defaultHardfork:bs,consensus:xs,comment:ws,url:Es,genesis:Ps,hardforks:Ms,bootstrapNodes:Ts,dnsNetworks:_s},Ss="mainnet",Is=1,$s=1,ks="merge",Bs={type:"pow",algorithm:"ethash",ethash:{}},Fs="The Ethereum main chain",Cs="https://ethstats.net/",Os={gasLimit:5e3,difficulty:17179869184,nonce:"0x0000000000000042",extraData:"0x11bbe8db4e347b4e8c937c1c8370e4b5ed33adb3db69cbdb7a38e1e50b1b82fa"},Ls=[{name:"chainstart",block:0,forkHash:"0xfc64ec04"},{name:"homestead",block:115e4,forkHash:"0x97c2c34c"},{name:"dao",block:192e4,forkHash:"0x91d1f948"},{name:"tangerineWhistle",block:2463e3,forkHash:"0x7a64da13"},{name:"spuriousDragon",block:2675e3,forkHash:"0x3edd5b10"},{name:"byzantium",block:437e4,forkHash:"0xa00bc324"},{name:"constantinople",block:728e4,forkHash:"0x668db0af"},{name:"petersburg",block:728e4,forkHash:"0x668db0af"},{name:"istanbul",block:9069e3,forkHash:"0x879d6e30"},{name:"muirGlacier",block:92e5,forkHash:"0xe029e991"},{name:"berlin",block:12244e3,forkHash:"0x0eb440f6"},{name:"london",block:12965e3,forkHash:"0xb715077d"},{name:"arrowGlacier",block:13773e3,forkHash:"0x20c327fc"},{name:"grayGlacier",block:1505e4,forkHash:"0xf0afd0e3"},{"//_comment":"The forkHash will remain same as mergeForkIdTransition is post merge, terminal block: https://etherscan.io/block/15537393",name:"merge",ttd:"58750000000000000000000",block:15537394,forkHash:"0xf0afd0e3"},{name:"mergeForkIdTransition",block:null,forkHash:null},{name:"shanghai",block:null,timestamp:"1681338455",forkHash:"0xdce96c2d"}],Hs=[{ip:"18.138.108.67",port:30303,id:"d860a01f9722d78051619d1e2351aba3f43f943f6f00718d1b9baa4101932a1f5011f16bb2b1bb35db20d6fe28fa0bf09636d26a87d31de9ec6203eeedb1f666",location:"ap-southeast-1-001",comment:"bootnode-aws-ap-southeast-1-001"},{ip:"3.209.45.79",port:30303,id:"22a8232c3abc76a16ae9d6c3b164f98775fe226f0917b0ca871128a74a8e9630b458460865bab457221f1d448dd9791d24c4e5d88786180ac185df813a68d4de",location:"us-east-1-001",comment:"bootnode-aws-us-east-1-001"},{ip:"65.108.70.101",port:30303,id:"2b252ab6a1d0f971d9722cb839a42cb81db019ba44c08754628ab4a823487071b5695317c8ccd085219c3a03af063495b2f1da8d18218da2d6a82981b45e6ffc",location:"eu-west-1-001",comment:"bootnode-hetzner-hel"},{ip:"157.90.35.166",port:30303,id:"4aeb4ab6c14b23e2c4cfdce879c04b0748a20d8e9b59e25ded2a08143e265c6c25936e74cbc8e641e3312ca288673d91f2f93f8e277de3cfa444ecdaaf982052",location:"eu-central-1-001",comment:"bootnode-hetzner-fsn"}],Ns=["enrtree://AKA3AM6LPBYEUDMVNU3BSVQJ5AD45Y7YPOHJLEF6W26QOE4VTUDPE@all.mainnet.ethdisco.net"],Ds={name:Ss,chainId:Is,networkId:$s,defaultHardfork:ks,consensus:Bs,comment:Fs,url:Cs,genesis:Os,hardforks:Ls,bootstrapNodes:Hs,dnsNetworks:Ns},Gs="rinkeby",Rs=4,zs=4,Us="london",js={type:"poa",algorithm:"clique",clique:{period:15,epoch:3e4}},qs="PoA test network",Zs="https://www.rinkeby.io",Ks={timestamp:"0x58ee40ba",gasLimit:47e5,difficulty:1,nonce:"0x0000000000000000",extraData:"0x52657370656374206d7920617574686f7269746168207e452e436172746d616e42eb768f2244c8811c63729a21a3569731535f067ffc57839b00206d1ad20c69a1981b489f772031b279182d99e65703f0076e4812653aab85fca0f00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"},Vs=[{name:"chainstart",block:0,forkHash:"0x3b8e0691"},{name:"homestead",block:1,forkHash:"0x60949295"},{name:"tangerineWhistle",block:2,forkHash:"0x8bde40dd"},{name:"spuriousDragon",block:3,forkHash:"0xcb3a64bb"},{name:"byzantium",block:1035301,forkHash:"0x8d748b57"},{name:"constantinople",block:3660663,forkHash:"0xe49cab14"},{name:"petersburg",block:4321234,forkHash:"0xafec6b27"},{name:"istanbul",block:5435345,forkHash:"0xcbdb8838"},{name:"berlin",block:8290928,forkHash:"0x6910c8bd"},{name:"london",block:8897988,forkHash:"0x8e29f2f3"},{name:"merge",block:null,forkHash:null},{name:"shanghai",block:null,forkHash:null}],Ys=[{ip:"52.169.42.101",port:30303,id:"a24ac7c5484ef4ed0c5eb2d36620ba4e4aa13b8c84684e1b4aab0cebea2ae45cb4d375b77eab56516d34bfbd3c1a833fc51296ff084b770b94fb9028c4d25ccf",location:"",comment:"IE"},{ip:"52.3.158.184",port:30303,id:"343149e4feefa15d882d9fe4ac7d88f885bd05ebb735e547f12e12080a9fa07c8014ca6fd7f373123488102fe5e34111f8509cf0b7de3f5b44339c9f25e87cb8",location:"",comment:"INFURA"},{ip:"159.89.28.211",port:30303,id:"b6b28890b006743680c52e64e0d16db57f28124885595fa03a562be1d2bf0f3a1da297d56b13da25fb992888fd556d4c1a27b1f39d531bde7de1921c90061cc6",location:"",comment:"AKASHA"}],Ws=["enrtree://AKA3AM6LPBYEUDMVNU3BSVQJ5AD45Y7YPOHJLEF6W26QOE4VTUDPE@all.rinkeby.ethdisco.net"],Js={name:Gs,chainId:Rs,networkId:zs,defaultHardfork:Us,consensus:js,comment:qs,url:Zs,genesis:Ks,hardforks:Vs,bootstrapNodes:Ys,dnsNetworks:Ws},Xs="ropsten",Qs=3,ea=3,ta="merge",ra={type:"pow",algorithm:"ethash",ethash:{}},na="PoW test network",ia="https://github.com/ethereum/ropsten",oa={gasLimit:16777216,difficulty:1048576,nonce:"0x0000000000000042",extraData:"0x3535353535353535353535353535353535353535353535353535353535353535"},sa=[{name:"chainstart",block:0,forkHash:"0x30c7ddbc"},{name:"homestead",block:0,forkHash:"0x30c7ddbc"},{name:"tangerineWhistle",block:0,forkHash:"0x30c7ddbc"},{name:"spuriousDragon",block:10,forkHash:"0x63760190"},{name:"byzantium",block:17e5,forkHash:"0x3ea159c7"},{name:"constantinople",block:423e4,forkHash:"0x97b544f3"},{name:"petersburg",block:4939394,forkHash:"0xd6e2149b"},{name:"istanbul",block:6485846,forkHash:"0x4bc66396"},{name:"muirGlacier",block:7117117,forkHash:"0x6727ef90"},{name:"berlin",block:9812189,forkHash:"0xa157d377"},{name:"london",block:10499401,forkHash:"0x7119b6b3"},{"//_comment":"The forkHash will remain same as mergeForkIdTransition is post merge",name:"merge",ttd:"50000000000000000",block:null,forkHash:"0x7119b6b3"},{name:"mergeForkIdTransition",block:null,forkHash:null},{name:"shanghai",block:null,forkHash:null}],aa=[{ip:"52.176.7.10",port:30303,id:"30b7ab30a01c124a6cceca36863ece12c4f5fa68e3ba9b0b51407ccc002eeed3b3102d20a88f1c1d3c3154e2449317b8ef95090e77b312d5cc39354f86d5d606",location:"",comment:"US-Azure geth"},{ip:"52.176.100.77",port:30303,id:"865a63255b3bb68023b6bffd5095118fcc13e79dcf014fe4e47e065c350c7cc72af2e53eff895f11ba1bbb6a2b33271c1116ee870f266618eadfc2e78aa7349c",location:"",comment:"US-Azure parity"},{ip:"52.232.243.152",port:30303,id:"6332792c4a00e3e4ee0926ed89e0d27ef985424d97b6a45bf0f23e51f0dcb5e66b875777506458aea7af6f9e4ffb69f43f3778ee73c81ed9d34c51c4b16b0b0f",location:"",comment:"Parity"},{ip:"192.81.208.223",port:30303,id:"94c15d1b9e2fe7ce56e458b9a3b672ef11894ddedd0c6f247e0f1d3487f52b66208fb4aeb8179fce6e3a749ea93ed147c37976d67af557508d199d9594c35f09",location:"",comment:"@gpip"}],fa=["enrtree://AKA3AM6LPBYEUDMVNU3BSVQJ5AD45Y7YPOHJLEF6W26QOE4VTUDPE@all.ropsten.ethdisco.net"],ca={name:Xs,chainId:Qs,networkId:ea,defaultHardfork:ta,consensus:ra,comment:na,url:ia,genesis:oa,hardforks:sa,bootstrapNodes:aa,dnsNetworks:fa},ua="sepolia",ha=11155111,da=11155111,la="merge",ma={type:"pow",algorithm:"ethash",ethash:{}},pa="PoW test network to replace Ropsten",ga="https://github.com/ethereum/go-ethereum/pull/23730",va={timestamp:"0x6159af19",gasLimit:3e7,difficulty:131072,nonce:"0x0000000000000000",extraData:"0x5365706f6c69612c20417468656e732c204174746963612c2047726565636521"},ya=[{name:"chainstart",block:0,forkHash:"0xfe3366e7"},{name:"homestead",block:0,forkHash:"0xfe3366e7"},{name:"tangerineWhistle",block:0,forkHash:"0xfe3366e7"},{name:"spuriousDragon",block:0,forkHash:"0xfe3366e7"},{name:"byzantium",block:0,forkHash:"0xfe3366e7"},{name:"constantinople",block:0,forkHash:"0xfe3366e7"},{name:"petersburg",block:0,forkHash:"0xfe3366e7"},{name:"istanbul",block:0,forkHash:"0xfe3366e7"},{name:"muirGlacier",block:0,forkHash:"0xfe3366e7"},{name:"berlin",block:0,forkHash:"0xfe3366e7"},{name:"london",block:0,forkHash:"0xfe3366e7"},{"//_comment":"The forkHash will remain same as mergeForkIdTransition is post merge, terminal block: https://sepolia.etherscan.io/block/1450408",name:"merge",ttd:"17000000000000000",block:1450409,forkHash:"0xfe3366e7"},{name:"mergeForkIdTransition",block:1735371,forkHash:"0xb96cbd13"},{name:"shanghai",block:null,timestamp:"1677557088",forkHash:"0xf7f9bc08"}],ba=[{ip:"18.168.182.86",port:30303,id:"9246d00bc8fd1742e5ad2428b80fc4dc45d786283e05ef6edbd9002cbc335d40998444732fbe921cb88e1d2c73d1b1de53bae6a2237996e9bfe14f871baf7066",location:"",comment:"geth"},{ip:"52.14.151.177",port:30303,id:"ec66ddcf1a974950bd4c782789a7e04f8aa7110a72569b6e65fcd51e937e74eed303b1ea734e4d19cfaec9fbff9b6ee65bf31dcb50ba79acce9dd63a6aca61c7",location:"",comment:"besu"},{ip:"165.22.196.173",port:30303,id:"ce970ad2e9daa9e14593de84a8b49da3d54ccfdf83cbc4fe519cb8b36b5918ed4eab087dedd4a62479b8d50756b492d5f762367c8d20329a7854ec01547568a6",location:"",comment:"EF"},{ip:"65.108.95.67",port:30303,id:"075503b13ed736244896efcde2a992ec0b451357d46cb7a8132c0384721742597fc8f0d91bbb40bb52e7d6e66728d36a1fda09176294e4a30cfac55dcce26bc6",location:"",comment:"lodestar"}],xa=["enrtree://AKA3AM6LPBYEUDMVNU3BSVQJ5AD45Y7YPOHJLEF6W26QOE4VTUDPE@all.sepolia.ethdisco.net"],wa={name:ua,chainId:ha,networkId:da,defaultHardfork:la,consensus:ma,comment:pa,url:ga,genesis:va,hardforks:ya,bootstrapNodes:ba,dnsNetworks:xa};var Pn={};const Ea="EIP-1153",Pa=1153,Ma="Transient Storage",Ta="https://eips.ethereum.org/EIPS/eip-1153",_a="Review",Aa="chainstart",Sa=[],Ia={},$a={tstore:{v:100,d:"Base fee of the TSTORE opcode"},tload:{v:100,d:"Base fee of the TLOAD opcode"}},ka={},Ba={},Fa={name:Ea,number:Pa,comment:Ma,url:Ta,status:_a,minimumHardfork:Aa,requiredEIPs:Sa,gasConfig:Ia,gasPrices:$a,vm:ka,pow:Ba},Ca="EIP-1559",Oa=1559,La="Fee market change for ETH 1.0 chain",Ha="https://eips.ethereum.org/EIPS/eip-1559",Na="Final",Da="berlin",Ga=[2930],Ra={baseFeeMaxChangeDenominator:{v:8,d:"Maximum base fee change denominator"},elasticityMultiplier:{v:2,d:"Maximum block gas target elasticity"},initialBaseFee:{v:1e9,d:"Initial base fee on first EIP1559 block"}},za={},Ua={},ja={},qa={name:Ca,number:Oa,comment:La,url:Ha,status:Na,minimumHardfork:Da,requiredEIPs:Ga,gasConfig:Ra,gasPrices:za,vm:Ua,pow:ja},Za="EIP-2315",Ka=2315,Va="Simple subroutines for the EVM",Ya="https://eips.ethereum.org/EIPS/eip-2315",Wa="Draft",Ja="istanbul",Xa={},Qa={beginsub:{v:2,d:"Base fee of the BEGINSUB opcode"},returnsub:{v:5,d:"Base fee of the RETURNSUB opcode"},jumpsub:{v:10,d:"Base fee of the JUMPSUB opcode"}},ef={},tf={},rf={name:Za,number:Ka,comment:Va,url:Ya,status:Wa,minimumHardfork:Ja,gasConfig:Xa,gasPrices:Qa,vm:ef,pow:tf},nf="EIP-2537",of=2537,sf="BLS12-381 precompiles",af="https://eips.ethereum.org/EIPS/eip-2537",ff="Draft",cf="chainstart",uf={},hf={Bls12381G1AddGas:{v:600,d:"Gas cost of a single BLS12-381 G1 addition precompile-call"},Bls12381G1MulGas:{v:12e3,d:"Gas cost of a single BLS12-381 G1 multiplication precompile-call"},Bls12381G2AddGas:{v:4500,d:"Gas cost of a single BLS12-381 G2 addition precompile-call"},Bls12381G2MulGas:{v:55e3,d:"Gas cost of a single BLS12-381 G2 multiplication precompile-call"},Bls12381PairingBaseGas:{v:115e3,d:"Base gas cost of BLS12-381 pairing check"},Bls12381PairingPerPairGas:{v:23e3,d:"Per-pair gas cost of BLS12-381 pairing check"},Bls12381MapG1Gas:{v:5500,d:"Gas cost of BLS12-381 map field element to G1"},Bls12381MapG2Gas:{v:11e4,d:"Gas cost of BLS12-381 map field element to G2"},Bls12381MultiExpGasDiscount:{v:[[1,1200],[2,888],[3,764],[4,641],[5,594],[6,547],[7,500],[8,453],[9,438],[10,423],[11,408],[12,394],[13,379],[14,364],[15,349],[16,334],[17,330],[18,326],[19,322],[20,318],[21,314],[22,310],[23,306],[24,302],[25,298],[26,294],[27,289],[28,285],[29,281],[30,277],[31,273],[32,269],[33,268],[34,266],[35,265],[36,263],[37,262],[38,260],[39,259],[40,257],[41,256],[42,254],[43,253],[44,251],[45,250],[46,248],[47,247],[48,245],[49,244],[50,242],[51,241],[52,239],[53,238],[54,236],[55,235],[56,233],[57,232],[58,231],[59,229],[60,228],[61,226],[62,225],[63,223],[64,222],[65,221],[66,220],[67,219],[68,219],[69,218],[70,217],[71,216],[72,216],[73,215],[74,214],[75,213],[76,213],[77,212],[78,211],[79,211],[80,210],[81,209],[82,208],[83,208],[84,207],[85,206],[86,205],[87,205],[88,204],[89,203],[90,202],[91,202],[92,201],[93,200],[94,199],[95,199],[96,198],[97,197],[98,196],[99,196],[100,195],[101,194],[102,193],[103,193],[104,192],[105,191],[106,191],[107,190],[108,189],[109,188],[110,188],[111,187],[112,186],[113,185],[114,185],[115,184],[116,183],[117,182],[118,182],[119,181],[120,180],[121,179],[122,179],[123,178],[124,177],[125,176],[126,176],[127,175],[128,174]],d:"Discount gas costs of calls to the MultiExp precompiles with `k` (point, scalar) pair"}},df={},lf={},mf={name:nf,number:of,comment:sf,url:af,status:ff,minimumHardfork:cf,gasConfig:uf,gasPrices:hf,vm:df,pow:lf},pf="EIP-2565",gf=2565,vf="ModExp gas cost",yf="https://eips.ethereum.org/EIPS/eip-2565",bf="Final",xf="byzantium",wf={},Ef={modexpGquaddivisor:{v:3,d:"Gquaddivisor from modexp precompile for gas calculation"}},Pf={},Mf={},Tf={name:pf,number:gf,comment:vf,url:yf,status:bf,minimumHardfork:xf,gasConfig:wf,gasPrices:Ef,vm:Pf,pow:Mf},_f="EIP-2718",Af="Typed Transaction Envelope",Sf="https://eips.ethereum.org/EIPS/eip-2718",If="Final",$f="chainstart",kf={},Bf={},Ff={},Cf={},Of={name:_f,comment:Af,url:Sf,status:If,minimumHardfork:$f,gasConfig:kf,gasPrices:Bf,vm:Ff,pow:Cf},Lf="EIP-2929",Hf="Gas cost increases for state access opcodes",Nf="https://eips.ethereum.org/EIPS/eip-2929",Df="Final",Gf="chainstart",Rf={},zf={coldsload:{v:2100,d:"Gas cost of the first read of storage from a given location (per transaction)"},coldaccountaccess:{v:2600,d:"Gas cost of the first read of a given address (per transaction)"},warmstorageread:{v:100,d:"Gas cost of reading storage locations which have already loaded 'cold'"},sstoreCleanGasEIP2200:{v:2900,d:"Once per SSTORE operation from clean non-zero to something else"},sstoreNoopGasEIP2200:{v:100,d:"Once per SSTORE operation if the value doesn't change"},sstoreDirtyGasEIP2200:{v:100,d:"Once per SSTORE operation if a dirty value is changed"},sstoreInitRefundEIP2200:{v:19900,d:"Once per SSTORE operation for resetting to the original zero value"},sstoreCleanRefundEIP2200:{v:4900,d:"Once per SSTORE operation for resetting to the original non-zero value"},call:{v:0,d:"Base fee of the CALL opcode"},callcode:{v:0,d:"Base fee of the CALLCODE opcode"},delegatecall:{v:0,d:"Base fee of the DELEGATECALL opcode"},staticcall:{v:0,d:"Base fee of the STATICCALL opcode"},balance:{v:0,d:"Base fee of the BALANCE opcode"},extcodesize:{v:0,d:"Base fee of the EXTCODESIZE opcode"},extcodecopy:{v:0,d:"Base fee of the EXTCODECOPY opcode"},extcodehash:{v:0,d:"Base fee of the EXTCODEHASH opcode"},sload:{v:0,d:"Base fee of the SLOAD opcode"},sstore:{v:0,d:"Base fee of the SSTORE opcode"}},Uf={},jf={},qf={name:Lf,comment:Hf,url:Nf,status:Df,minimumHardfork:Gf,gasConfig:Rf,gasPrices:zf,vm:Uf,pow:jf},Zf="EIP-2930",Kf="Optional access lists",Vf="https://eips.ethereum.org/EIPS/eip-2930",Yf="Final",Wf="istanbul",Jf=[2718,2929],Xf={},Qf={accessListStorageKeyCost:{v:1900,d:"Gas cost per storage key in an Access List transaction"},accessListAddressCost:{v:2400,d:"Gas cost per storage key in an Access List transaction"}},ec={},tc={},rc={name:Zf,comment:Kf,url:Vf,status:Yf,minimumHardfork:Wf,requiredEIPs:Jf,gasConfig:Xf,gasPrices:Qf,vm:ec,pow:tc},nc="EIP-3074",ic=3074,oc="AUTH and AUTHCALL opcodes",sc="https://eips.ethereum.org/EIPS/eip-3074",ac="Review",fc="london",cc={},uc={auth:{v:3100,d:"Gas cost of the AUTH opcode"},authcall:{v:0,d:"Gas cost of the AUTHCALL opcode"},authcallValueTransfer:{v:6700,d:"Paid for CALL when the value transfer is non-zero"}},hc={},dc={},lc={name:nc,number:ic,comment:oc,url:sc,status:ac,minimumHardfork:fc,gasConfig:cc,gasPrices:uc,vm:hc,pow:dc},mc="EIP-3198",pc=3198,gc="BASEFEE opcode",vc="https://eips.ethereum.org/EIPS/eip-3198",yc="Final",bc="london",xc={},wc={basefee:{v:2,d:"Gas cost of the BASEFEE opcode"}},Ec={},Pc={},Mc={name:mc,number:pc,comment:gc,url:vc,status:yc,minimumHardfork:bc,gasConfig:xc,gasPrices:wc,vm:Ec,pow:Pc},Tc="EIP-3529",_c="Reduction in refunds",Ac="https://eips.ethereum.org/EIPS/eip-3529",Sc="Final",Ic="berlin",$c=[2929],kc={maxRefundQuotient:{v:5,d:"Maximum refund quotient; max tx refund is min(tx.gasUsed/maxRefundQuotient, tx.gasRefund)"}},Bc={selfdestructRefund:{v:0,d:"Refunded following a selfdestruct operation"},sstoreClearRefundEIP2200:{v:4800,d:"Once per SSTORE operation for clearing an originally existing storage slot"}},Fc={},Cc={},Oc={name:Tc,comment:_c,url:Ac,status:Sc,minimumHardfork:Ic,requiredEIPs:$c,gasConfig:kc,gasPrices:Bc,vm:Fc,pow:Cc},Lc="EIP-3540",Hc=3540,Nc="EVM Object Format (EOF) v1",Dc="https://eips.ethereum.org/EIPS/eip-3540",Gc="Review",Rc="london",zc=[3541],Uc={},jc={},qc={},Zc={},Kc={name:Lc,number:Hc,comment:Nc,url:Dc,status:Gc,minimumHardfork:Rc,requiredEIPs:zc,gasConfig:Uc,gasPrices:jc,vm:qc,pow:Zc},Vc="EIP-3541",Yc="Reject new contracts starting with the 0xEF byte",Wc="https://eips.ethereum.org/EIPS/eip-3541",Jc="Final",Xc="berlin",Qc=[],e0={},t0={},r0={},n0={},i0={name:Vc,comment:Yc,url:Wc,status:Jc,minimumHardfork:Xc,requiredEIPs:Qc,gasConfig:e0,gasPrices:t0,vm:r0,pow:n0},o0="EIP-3554",s0="Reduction in refunds",a0="Difficulty Bomb Delay to December 1st 2021",f0="Final",c0="muirGlacier",u0=[],h0={},d0={},l0={},m0={difficultyBombDelay:{v:95e5,d:"the amount of blocks to delay the difficulty bomb with"}},p0={name:o0,comment:s0,url:a0,status:f0,minimumHardfork:c0,requiredEIPs:u0,gasConfig:h0,gasPrices:d0,vm:l0,pow:m0},g0="EIP-3607",v0=3607,y0="Reject transactions from senders with deployed code",b0="https://eips.ethereum.org/EIPS/eip-3607",x0="Final",w0="chainstart",E0=[],P0={},M0={},T0={},_0={},A0={name:g0,number:v0,comment:y0,url:b0,status:x0,minimumHardfork:w0,requiredEIPs:E0,gasConfig:P0,gasPrices:M0,vm:T0,pow:_0},S0="EIP-3651",I0=3198,$0="Warm COINBASE",k0="https://eips.ethereum.org/EIPS/eip-3651",B0="Review",F0="london",C0=[2929],O0={},L0={},H0={},N0={},D0={name:S0,number:I0,comment:$0,url:k0,status:B0,minimumHardfork:F0,requiredEIPs:C0,gasConfig:O0,gasPrices:L0,vm:H0,pow:N0},G0="EIP-3670",R0=3670,z0="EOF - Code Validation",U0="https://eips.ethereum.org/EIPS/eip-3670",j0="Review",q0="london",Z0=[3540],K0={},V0={},Y0={},W0={},J0={name:G0,number:R0,comment:z0,url:U0,status:j0,minimumHardfork:q0,requiredEIPs:Z0,gasConfig:K0,gasPrices:V0,vm:Y0,pow:W0},X0="EIP-3675",Q0=3675,eu="Upgrade consensus to Proof-of-Stake",tu="https://eips.ethereum.org/EIPS/eip-3675",ru="Final",nu="london",iu=[],ou={},su={},au={},fu={},cu={name:X0,number:Q0,comment:eu,url:tu,status:ru,minimumHardfork:nu,requiredEIPs:iu,gasConfig:ou,gasPrices:su,vm:au,pow:fu},uu="EIP-3855",hu=3855,du="PUSH0 instruction",lu="https://eips.ethereum.org/EIPS/eip-3855",mu="Review",pu="chainstart",gu=[],vu={},yu={push0:{v:2,d:"Base fee of the PUSH0 opcode"}},bu={},xu={},wu={name:uu,number:hu,comment:du,url:lu,status:mu,minimumHardfork:pu,requiredEIPs:gu,gasConfig:vu,gasPrices:yu,vm:bu,pow:xu},Eu="EIP-3860",Pu=3860,Mu="Limit and meter initcode",Tu="https://eips.ethereum.org/EIPS/eip-3860",_u="Review",Au="spuriousDragon",Su=[],Iu={},$u={initCodeWordCost:{v:2,d:"Gas to pay for each word (32 bytes) of initcode when creating a contract"}},ku={maxInitCodeSize:{v:49152,d:"Maximum length of initialization code when creating a contract"}},Bu={},Fu={name:Eu,number:Pu,comment:Mu,url:Tu,status:_u,minimumHardfork:Au,requiredEIPs:Su,gasConfig:Iu,gasPrices:$u,vm:ku,pow:Bu},Cu="EIP-4345",Ou=4345,Lu="Difficulty Bomb Delay to June 2022",Hu="https://eips.ethereum.org/EIPS/eip-4345",Nu="Final",Du="london",Gu={},Ru={},zu={},Uu={difficultyBombDelay:{v:107e5,d:"the amount of blocks to delay the difficulty bomb with"}},ju={name:Cu,number:Ou,comment:Lu,url:Hu,status:Nu,minimumHardfork:Du,gasConfig:Gu,gasPrices:Ru,vm:zu,pow:Uu},qu="EIP-4399",Zu=4399,Ku="Supplant DIFFICULTY opcode with PREVRANDAO",Vu="https://eips.ethereum.org/EIPS/eip-4399",Yu="Review",Wu="london",Ju=[],Xu={},Qu={},eh={},th={},rh={name:qu,number:Zu,comment:Ku,url:Vu,status:Yu,minimumHardfork:Wu,requiredEIPs:Ju,gasConfig:Xu,gasPrices:Qu,vm:eh,pow:th},nh="EIP-4844",ih=4844,oh="Shard Blob Transactions",sh="https://eips.ethereum.org/EIPS/eip-4844",ah="Draft",fh="merge",ch=[1559,2718,2930,4895],uh={dataGasPerBlob:{v:131072,d:"The base fee for data gas per blob"},targetDataGasPerBlock:{v:262144,d:"The target data gas consumed per block"},maxDataGasPerBlock:{v:524288,d:"The max data gas allowable per block"},dataGasPriceUpdateFraction:{v:2225652,d:"The denominator used in the exponential when calculating a data gas price"}},hh={simpleGasPerBlob:{v:12e3,d:"The basic gas fee for each blob"},minDataGasPrice:{v:1,d:"The minimum fee per data gas"},kzgPointEvaluationGasPrecompilePrice:{v:5e4,d:"The fee associated with the point evaluation precompile"},datahash:{v:3,d:"Base fee of the DATAHASH opcode"}},dh={blobCommitmentVersionKzg:{v:1,d:"The number indicated a versioned hash is a KZG commitment"},fieldElementsPerBlob:{v:4096,d:"The number of field elements allowed per blob"}},lh={},mh={},ph={name:nh,number:ih,comment:oh,url:sh,status:ah,minimumHardfork:fh,requiredEIPs:ch,gasConfig:uh,gasPrices:hh,sharding:dh,vm:lh,pow:mh},gh="EIP-4895",vh=4895,yh="Beacon chain push withdrawals as operations",bh="https://eips.ethereum.org/EIPS/eip-4895",xh="Review",wh="merge",Eh=[],Ph={},Mh={},Th={},_h={},Ah={name:gh,number:vh,comment:yh,url:bh,status:xh,minimumHardfork:wh,requiredEIPs:Eh,gasConfig:Ph,gasPrices:Mh,vm:Th,pow:_h},Sh="EIP-5133",Ih=5133,$h="Delaying Difficulty Bomb to mid-September 2022",kh="https://eips.ethereum.org/EIPS/eip-5133",Bh="Draft",Fh="grayGlacier",Ch={},Oh={},Lh={},Hh={difficultyBombDelay:{v:114e5,d:"the amount of blocks to delay the difficulty bomb with"}},Nh={name:Sh,number:Ih,comment:$h,url:kh,status:Bh,minimumHardfork:Fh,gasConfig:Ch,gasPrices:Oh,vm:Lh,pow:Hh};Object.defineProperty(Pn,"__esModule",{value:!0});Pn.EIPs=void 0;Pn.EIPs={1153:Fa,1559:qa,2315:rf,2537:mf,2565:Tf,2718:Of,2929:qf,2930:rc,3074:lc,3198:Mc,3529:Oc,3540:Kc,3541:i0,3554:p0,3607:A0,3651:D0,3670:J0,3675:cu,3855:wu,3860:Fu,4345:ju,4399:rh,4844:ph,4895:Ah,5133:Nh};var Mn={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.CustomChain=n.ConsensusAlgorithm=n.ConsensusType=n.Hardfork=n.Chain=void 0,function(e){e[e.Mainnet=1]="Mainnet",e[e.Ropsten=3]="Ropsten",e[e.Rinkeby=4]="Rinkeby",e[e.Goerli=5]="Goerli",e[e.Sepolia=11155111]="Sepolia"}(n.Chain||(n.Chain={})),function(e){e.Chainstart="chainstart",e.Homestead="homestead",e.Dao="dao",e.TangerineWhistle="tangerineWhistle",e.SpuriousDragon="spuriousDragon",e.Byzantium="byzantium",e.Constantinople="constantinople",e.Petersburg="petersburg",e.Istanbul="istanbul",e.MuirGlacier="muirGlacier",e.Berlin="berlin",e.London="london",e.ArrowGlacier="arrowGlacier",e.GrayGlacier="grayGlacier",e.MergeForkIdTransition="mergeForkIdTransition",e.Merge="merge",e.Shanghai="shanghai",e.ShardingForkDev="shardingFork"}(n.Hardfork||(n.Hardfork={})),function(e){e.ProofOfStake="pos",e.ProofOfWork="pow",e.ProofOfAuthority="poa"}(n.ConsensusType||(n.ConsensusType={})),function(e){e.Ethash="ethash",e.Clique="clique",e.Casper="casper"}(n.ConsensusAlgorithm||(n.ConsensusAlgorithm={})),function(e){e.PolygonMainnet="polygon-mainnet",e.PolygonMumbai="polygon-mumbai",e.ArbitrumRinkebyTestnet="arbitrum-rinkeby-testnet",e.ArbitrumOne="arbitrum-one",e.xDaiChain="x-dai-chain",e.OptimisticKovan="optimistic-kovan",e.OptimisticEthereum="optimistic-ethereum"}(n.CustomChain||(n.CustomChain={}))})(Mn);var Tn={};const Dh="chainstart",Gh="Start of the Ethereum main chain",Rh="",zh="",Uh={minGasLimit:{v:5e3,d:"Minimum the gas limit may ever be"},gasLimitBoundDivisor:{v:1024,d:"The bound divisor of the gas limit, used in update calculations"},maxRefundQuotient:{v:2,d:"Maximum refund quotient; max tx refund is min(tx.gasUsed/maxRefundQuotient, tx.gasRefund)"}},jh={base:{v:2,d:"Gas base cost, used e.g. for ChainID opcode (Istanbul)"},tierStep:{v:[0,2,3,5,8,10,20],d:"Once per operation, for a selection of them"},exp:{v:10,d:"Base fee of the EXP opcode"},expByte:{v:10,d:"Times ceil(log256(exponent)) for the EXP instruction"},sha3:{v:30,d:"Base fee of the SHA3 opcode"},sha3Word:{v:6,d:"Once per word of the SHA3 operation's data"},sload:{v:50,d:"Base fee of the SLOAD opcode"},sstoreSet:{v:2e4,d:"Once per SSTORE operation if the zeroness changes from zero"},sstoreReset:{v:5e3,d:"Once per SSTORE operation if the zeroness does not change from zero"},sstoreRefund:{v:15e3,d:"Once per SSTORE operation if the zeroness changes to zero"},jumpdest:{v:1,d:"Base fee of the JUMPDEST opcode"},log:{v:375,d:"Base fee of the LOG opcode"},logData:{v:8,d:"Per byte in a LOG* operation's data"},logTopic:{v:375,d:"Multiplied by the * of the LOG*, per LOG transaction. e.g. LOG0 incurs 0 * c_txLogTopicGas, LOG4 incurs 4 * c_txLogTopicGas"},create:{v:32e3,d:"Base fee of the CREATE opcode"},call:{v:40,d:"Base fee of the CALL opcode"},callStipend:{v:2300,d:"Free gas given at beginning of call"},callValueTransfer:{v:9e3,d:"Paid for CALL when the value transfor is non-zero"},callNewAccount:{v:25e3,d:"Paid for CALL when the destination address didn't exist prior"},selfdestructRefund:{v:24e3,d:"Refunded following a selfdestruct operation"},memory:{v:3,d:"Times the address of the (highest referenced byte in memory + 1). NOTE: referencing happens on read, write and in instructions such as RETURN and CALL"},quadCoeffDiv:{v:512,d:"Divisor for the quadratic particle of the memory cost equation"},createData:{v:200,d:""},tx:{v:21e3,d:"Per transaction. NOTE: Not payable on data of calls between transactions"},txCreation:{v:32e3,d:"The cost of creating a contract via tx"},txDataZero:{v:4,d:"Per byte of data attached to a transaction that equals zero. NOTE: Not payable on data of calls between transactions"},txDataNonZero:{v:68,d:"Per byte of data attached to a transaction that is not equal to zero. NOTE: Not payable on data of calls between transactions"},copy:{v:3,d:"Multiplied by the number of 32-byte words that are copied (round up) for any *COPY operation and added"},ecRecover:{v:3e3,d:""},sha256:{v:60,d:""},sha256Word:{v:12,d:""},ripemd160:{v:600,d:""},ripemd160Word:{v:120,d:""},identity:{v:15,d:""},identityWord:{v:3,d:""},stop:{v:0,d:"Base fee of the STOP opcode"},add:{v:3,d:"Base fee of the ADD opcode"},mul:{v:5,d:"Base fee of the MUL opcode"},sub:{v:3,d:"Base fee of the SUB opcode"},div:{v:5,d:"Base fee of the DIV opcode"},sdiv:{v:5,d:"Base fee of the SDIV opcode"},mod:{v:5,d:"Base fee of the MOD opcode"},smod:{v:5,d:"Base fee of the SMOD opcode"},addmod:{v:8,d:"Base fee of the ADDMOD opcode"},mulmod:{v:8,d:"Base fee of the MULMOD opcode"},signextend:{v:5,d:"Base fee of the SIGNEXTEND opcode"},lt:{v:3,d:"Base fee of the LT opcode"},gt:{v:3,d:"Base fee of the GT opcode"},slt:{v:3,d:"Base fee of the SLT opcode"},sgt:{v:3,d:"Base fee of the SGT opcode"},eq:{v:3,d:"Base fee of the EQ opcode"},iszero:{v:3,d:"Base fee of the ISZERO opcode"},and:{v:3,d:"Base fee of the AND opcode"},or:{v:3,d:"Base fee of the OR opcode"},xor:{v:3,d:"Base fee of the XOR opcode"},not:{v:3,d:"Base fee of the NOT opcode"},byte:{v:3,d:"Base fee of the BYTE opcode"},address:{v:2,d:"Base fee of the ADDRESS opcode"},balance:{v:20,d:"Base fee of the BALANCE opcode"},origin:{v:2,d:"Base fee of the ORIGIN opcode"},caller:{v:2,d:"Base fee of the CALLER opcode"},callvalue:{v:2,d:"Base fee of the CALLVALUE opcode"},calldataload:{v:3,d:"Base fee of the CALLDATALOAD opcode"},calldatasize:{v:2,d:"Base fee of the CALLDATASIZE opcode"},calldatacopy:{v:3,d:"Base fee of the CALLDATACOPY opcode"},codesize:{v:2,d:"Base fee of the CODESIZE opcode"},codecopy:{v:3,d:"Base fee of the CODECOPY opcode"},gasprice:{v:2,d:"Base fee of the GASPRICE opcode"},extcodesize:{v:20,d:"Base fee of the EXTCODESIZE opcode"},extcodecopy:{v:20,d:"Base fee of the EXTCODECOPY opcode"},blockhash:{v:20,d:"Base fee of the BLOCKHASH opcode"},coinbase:{v:2,d:"Base fee of the COINBASE opcode"},timestamp:{v:2,d:"Base fee of the TIMESTAMP opcode"},number:{v:2,d:"Base fee of the NUMBER opcode"},difficulty:{v:2,d:"Base fee of the DIFFICULTY opcode"},gaslimit:{v:2,d:"Base fee of the GASLIMIT opcode"},pop:{v:2,d:"Base fee of the POP opcode"},mload:{v:3,d:"Base fee of the MLOAD opcode"},mstore:{v:3,d:"Base fee of the MSTORE opcode"},mstore8:{v:3,d:"Base fee of the MSTORE8 opcode"},sstore:{v:0,d:"Base fee of the SSTORE opcode"},jump:{v:8,d:"Base fee of the JUMP opcode"},jumpi:{v:10,d:"Base fee of the JUMPI opcode"},pc:{v:2,d:"Base fee of the PC opcode"},msize:{v:2,d:"Base fee of the MSIZE opcode"},gas:{v:2,d:"Base fee of the GAS opcode"},push:{v:3,d:"Base fee of the PUSH opcode"},dup:{v:3,d:"Base fee of the DUP opcode"},swap:{v:3,d:"Base fee of the SWAP opcode"},callcode:{v:40,d:"Base fee of the CALLCODE opcode"},return:{v:0,d:"Base fee of the RETURN opcode"},invalid:{v:0,d:"Base fee of the INVALID opcode"},selfdestruct:{v:0,d:"Base fee of the SELFDESTRUCT opcode"}},qh={stackLimit:{v:1024,d:"Maximum size of VM stack allowed"},callCreateDepth:{v:1024,d:"Maximum depth of call/create stack"},maxExtraDataSize:{v:32,d:"Maximum size extra data may be after Genesis"}},Zh={minimumDifficulty:{v:131072,d:"The minimum that the difficulty may ever be"},difficultyBoundDivisor:{v:2048,d:"The bound divisor of the difficulty, used in the update calculations"},durationLimit:{v:13,d:"The decision boundary on the blocktime duration used to determine whether difficulty should go up or not"},epochDuration:{v:3e4,d:"Duration between proof-of-work epochs"},timebombPeriod:{v:1e5,d:"Exponential difficulty timebomb period"},minerReward:{v:"5000000000000000000",d:"the amount a miner get rewarded for mining a block"},difficultyBombDelay:{v:0,d:"the amount of blocks to delay the difficulty bomb with"}},Kh={name:Dh,comment:Gh,url:Rh,status:zh,gasConfig:Uh,gasPrices:jh,vm:qh,pow:Zh},Vh="homestead",Yh="Homestead hardfork with protocol and network changes",Wh="https://eips.ethereum.org/EIPS/eip-606",Jh="Final",Xh={},Qh={delegatecall:{v:40,d:"Base fee of the DELEGATECALL opcode"}},ed={},td={},rd={name:Vh,comment:Yh,url:Wh,status:Jh,gasConfig:Xh,gasPrices:Qh,vm:ed,pow:td},nd="dao",id="DAO rescue hardfork",od="https://eips.ethereum.org/EIPS/eip-779",sd="Final",ad={},fd={},cd={},ud={},hd={name:nd,comment:id,url:od,status:sd,gasConfig:ad,gasPrices:fd,vm:cd,pow:ud},dd="tangerineWhistle",ld="Hardfork with gas cost changes for IO-heavy operations",md="https://eips.ethereum.org/EIPS/eip-608",pd="Final",gd={},vd={sload:{v:200,d:"Once per SLOAD operation"},call:{v:700,d:"Once per CALL operation & message call transaction"},extcodesize:{v:700,d:"Base fee of the EXTCODESIZE opcode"},extcodecopy:{v:700,d:"Base fee of the EXTCODECOPY opcode"},balance:{v:400,d:"Base fee of the BALANCE opcode"},delegatecall:{v:700,d:"Base fee of the DELEGATECALL opcode"},callcode:{v:700,d:"Base fee of the CALLCODE opcode"},selfdestruct:{v:5e3,d:"Base fee of the SELFDESTRUCT opcode"}},yd={},bd={},xd={name:dd,comment:ld,url:md,status:pd,gasConfig:gd,gasPrices:vd,vm:yd,pow:bd},wd="spuriousDragon",Ed="HF with EIPs for simple replay attack protection, EXP cost increase, state trie clearing, contract code size limit",Pd="https://eips.ethereum.org/EIPS/eip-607",Md="Final",Td={},_d={expByte:{v:50,d:"Times ceil(log256(exponent)) for the EXP instruction"}},Ad={maxCodeSize:{v:24576,d:"Maximum length of contract code"}},Sd={},Id={name:wd,comment:Ed,url:Pd,status:Md,gasConfig:Td,gasPrices:_d,vm:Ad,pow:Sd},$d="byzantium",kd="Hardfork with new precompiles, instructions and other protocol changes",Bd="https://eips.ethereum.org/EIPS/eip-609",Fd="Final",Cd={},Od={modexpGquaddivisor:{v:20,d:"Gquaddivisor from modexp precompile for gas calculation"},ecAdd:{v:500,d:"Gas costs for curve addition precompile"},ecMul:{v:4e4,d:"Gas costs for curve multiplication precompile"},ecPairing:{v:1e5,d:"Base gas costs for curve pairing precompile"},ecPairingWord:{v:8e4,d:"Gas costs regarding curve pairing precompile input length"},revert:{v:0,d:"Base fee of the REVERT opcode"},staticcall:{v:700,d:"Base fee of the STATICCALL opcode"},returndatasize:{v:2,d:"Base fee of the RETURNDATASIZE opcode"},returndatacopy:{v:3,d:"Base fee of the RETURNDATACOPY opcode"}},Ld={},Hd={minerReward:{v:"3000000000000000000",d:"the amount a miner get rewarded for mining a block"},difficultyBombDelay:{v:3e6,d:"the amount of blocks to delay the difficulty bomb with"}},Nd={name:$d,comment:kd,url:Bd,status:Fd,gasConfig:Cd,gasPrices:Od,vm:Ld,pow:Hd},Dd="constantinople",Gd="Postponed hardfork including EIP-1283 (SSTORE gas metering changes)",Rd="https://eips.ethereum.org/EIPS/eip-1013",zd="Final",Ud={},jd={netSstoreNoopGas:{v:200,d:"Once per SSTORE operation if the value doesn't change"},netSstoreInitGas:{v:2e4,d:"Once per SSTORE operation from clean zero"},netSstoreCleanGas:{v:5e3,d:"Once per SSTORE operation from clean non-zero"},netSstoreDirtyGas:{v:200,d:"Once per SSTORE operation from dirty"},netSstoreClearRefund:{v:15e3,d:"Once per SSTORE operation for clearing an originally existing storage slot"},netSstoreResetRefund:{v:4800,d:"Once per SSTORE operation for resetting to the original non-zero value"},netSstoreResetClearRefund:{v:19800,d:"Once per SSTORE operation for resetting to the original zero value"},shl:{v:3,d:"Base fee of the SHL opcode"},shr:{v:3,d:"Base fee of the SHR opcode"},sar:{v:3,d:"Base fee of the SAR opcode"},extcodehash:{v:400,d:"Base fee of the EXTCODEHASH opcode"},create2:{v:32e3,d:"Base fee of the CREATE2 opcode"}},qd={},Zd={minerReward:{v:"2000000000000000000",d:"The amount a miner gets rewarded for mining a block"},difficultyBombDelay:{v:5e6,d:"the amount of blocks to delay the difficulty bomb with"}},Kd={name:Dd,comment:Gd,url:Rd,status:zd,gasConfig:Ud,gasPrices:jd,vm:qd,pow:Zd},Vd="petersburg",Yd="Aka constantinopleFix, removes EIP-1283, activate together with or after constantinople",Wd="https://eips.ethereum.org/EIPS/eip-1716",Jd="Final",Xd={},Qd={netSstoreNoopGas:{v:null,d:"Removed along EIP-1283"},netSstoreInitGas:{v:null,d:"Removed along EIP-1283"},netSstoreCleanGas:{v:null,d:"Removed along EIP-1283"},netSstoreDirtyGas:{v:null,d:"Removed along EIP-1283"},netSstoreClearRefund:{v:null,d:"Removed along EIP-1283"},netSstoreResetRefund:{v:null,d:"Removed along EIP-1283"},netSstoreResetClearRefund:{v:null,d:"Removed along EIP-1283"}},el={},tl={},rl={name:Vd,comment:Yd,url:Wd,status:Jd,gasConfig:Xd,gasPrices:Qd,vm:el,pow:tl},nl="istanbul",il="HF targeted for December 2019 following the Constantinople/Petersburg HF",ol="https://eips.ethereum.org/EIPS/eip-1679",sl="Final",al={},fl={blake2Round:{v:1,d:"Gas cost per round for the Blake2 F precompile"},ecAdd:{v:150,d:"Gas costs for curve addition precompile"},ecMul:{v:6e3,d:"Gas costs for curve multiplication precompile"},ecPairing:{v:45e3,d:"Base gas costs for curve pairing precompile"},ecPairingWord:{v:34e3,d:"Gas costs regarding curve pairing precompile input length"},txDataNonZero:{v:16,d:"Per byte of data attached to a transaction that is not equal to zero. NOTE: Not payable on data of calls between transactions"},sstoreSentryGasEIP2200:{v:2300,d:"Minimum gas required to be present for an SSTORE call, not consumed"},sstoreNoopGasEIP2200:{v:800,d:"Once per SSTORE operation if the value doesn't change"},sstoreDirtyGasEIP2200:{v:800,d:"Once per SSTORE operation if a dirty value is changed"},sstoreInitGasEIP2200:{v:2e4,d:"Once per SSTORE operation from clean zero to non-zero"},sstoreInitRefundEIP2200:{v:19200,d:"Once per SSTORE operation for resetting to the original zero value"},sstoreCleanGasEIP2200:{v:5e3,d:"Once per SSTORE operation from clean non-zero to something else"},sstoreCleanRefundEIP2200:{v:4200,d:"Once per SSTORE operation for resetting to the original non-zero value"},sstoreClearRefundEIP2200:{v:15e3,d:"Once per SSTORE operation for clearing an originally existing storage slot"},balance:{v:700,d:"Base fee of the BALANCE opcode"},extcodehash:{v:700,d:"Base fee of the EXTCODEHASH opcode"},chainid:{v:2,d:"Base fee of the CHAINID opcode"},selfbalance:{v:5,d:"Base fee of the SELFBALANCE opcode"},sload:{v:800,d:"Base fee of the SLOAD opcode"}},cl={},ul={},hl={name:nl,comment:il,url:ol,status:sl,gasConfig:al,gasPrices:fl,vm:cl,pow:ul},dl="muirGlacier",ll="HF to delay the difficulty bomb",ml="https://eips.ethereum.org/EIPS/eip-2384",pl="Final",gl={},vl={},yl={},bl={difficultyBombDelay:{v:9e6,d:"the amount of blocks to delay the difficulty bomb with"}},xl={name:dl,comment:ll,url:ml,status:pl,gasConfig:gl,gasPrices:vl,vm:yl,pow:bl},wl="berlin",El="HF targeted for July 2020 following the Muir Glacier HF",Pl="https://eips.ethereum.org/EIPS/eip-2070",Ml="Final",Tl=[2565,2929,2718,2930],_l={name:wl,comment:El,url:Pl,status:Ml,eips:Tl},Al="london",Sl="HF targeted for July 2021 following the Berlin fork",Il="https://github.com/ethereum/eth1.0-specs/blob/master/network-upgrades/mainnet-upgrades/london.md",$l="Final",kl=[1559,3198,3529,3541],Bl={name:Al,comment:Sl,url:Il,status:$l,eips:kl},Fl="shanghai",Cl="Next feature hardfork after the merge hardfork having withdrawals, warm coinbase, push0, limit/meter initcode",Ol="https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/shanghai.md",Ll="Final",Hl=[3651,3855,3860,4895],Nl={name:Fl,comment:Cl,url:Ol,status:Ll,eips:Hl},Dl="arrowGlacier",Gl="HF to delay the difficulty bomb",Rl="https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/arrow-glacier.md",zl="Final",Ul=[4345],jl={},ql={},Zl={},Kl={},Vl={name:Dl,comment:Gl,url:Rl,status:zl,eips:Ul,gasConfig:jl,gasPrices:ql,vm:Zl,pow:Kl},Yl="grayGlacier",Wl="Delaying the difficulty bomb to Mid September 2022",Jl="https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/gray-glacier.md",Xl="Draft",Ql=[5133],em={},tm={},rm={},nm={},im={name:Yl,comment:Wl,url:Jl,status:Xl,eips:Ql,gasConfig:em,gasPrices:tm,vm:rm,pow:nm},om="mergeForkIdTransition",sm="Pre-merge hardfork to fork off non-upgraded clients",am="https://eips.ethereum.org/EIPS/eip-3675",fm="Draft",cm=[],um={name:om,comment:sm,url:am,status:fm,eips:cm},hm="merge",dm="Hardfork to upgrade the consensus mechanism to Proof-of-Stake",lm="https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/merge.md",mm="Final",pm={type:"pos",algorithm:"casper",casper:{}},gm=[3675,4399],vm={name:hm,comment:dm,url:lm,status:mm,consensus:pm,eips:gm},ym="shardingFork",bm="Internal hardfork to test proto-danksharding (do not use in production)",xm="https://eips.ethereum.org/EIPS/eip-4844",wm="Experimental",Em=[4844],Pm={name:ym,comment:bm,url:xm,status:wm,eips:Em};Object.defineProperty(Tn,"__esModule",{value:!0});Tn.hardforks=void 0;Tn.hardforks={chainstart:Kh,homestead:rd,dao:hd,tangerineWhistle:xd,spuriousDragon:Id,byzantium:Nd,constantinople:Kd,petersburg:rl,istanbul:hl,muirGlacier:xl,berlin:_l,london:Bl,shanghai:Nl,arrowGlacier:Vl,grayGlacier:im,mergeForkIdTransition:um,merge:vm,shardingFork:Pm};var en={};Object.defineProperty(en,"__esModule",{value:!0});en.parseGethGenesis=void 0;const yn=Ze,Ot=Mn;function Mm(n){return!n||n==="0x0"?"0x0000000000000000":(0,yn.isHexPrefixed)(n)?"0x"+(0,yn.stripHexPrefix)(n).padStart(16,"0"):"0x"+n.padStart(16,"0")}function Tm(n,e=!0){const{name:t,config:r,difficulty:a,mixHash:o,gasLimit:d,coinbase:g,baseFeePerGas:E}=n;let{extraData:A,timestamp:I,nonce:U}=n;const G=Number(I),{chainId:pe}=r;if(A===""&&(A="0x"),(0,yn.isHexPrefixed)(I)||(I=(0,yn.intToHex)(parseInt(I))),U.length!==18&&(U=Mm(U)),r.eip155Block!==r.eip158Block)throw new Error("EIP155 block number must equal EIP 158 block number since both are part of SpuriousDragon hardfork and the client only supports activating the full hardfork");const le={name:t,chainId:pe,networkId:pe,genesis:{timestamp:I,gasLimit:parseInt(d),difficulty:parseInt(a),nonce:U,extraData:A,mixHash:o,coinbase:g,baseFeePerGas:E},hardfork:void 0,hardforks:[],bootstrapNodes:[],consensus:r.clique!==void 0?{type:"poa",algorithm:"clique",clique:{period:r.clique.period??r.clique.blockperiodseconds,epoch:r.clique.epoch??r.clique.epochlength}}:{type:"pow",algorithm:"ethash",ethash:{}}},_e={[Ot.Hardfork.Homestead]:{name:"homesteadBlock"},[Ot.Hardfork.Dao]:{name:"daoForkBlock"},[Ot.Hardfork.TangerineWhistle]:{name:"eip150Block"},[Ot.Hardfork.SpuriousDragon]:{name:"eip155Block"},[Ot.Hardfork.Byzantium]:{name:"byzantiumBlock"},[Ot.Hardfork.Constantinople]:{name:"constantinopleBlock"},[Ot.Hardfork.Petersburg]:{name:"petersburgBlock"},[Ot.Hardfork.Istanbul]:{name:"istanbulBlock"},[Ot.Hardfork.MuirGlacier]:{name:"muirGlacierBlock"},[Ot.Hardfork.Berlin]:{name:"berlinBlock"},[Ot.Hardfork.London]:{name:"londonBlock"},[Ot.Hardfork.MergeForkIdTransition]:{name:"mergeForkBlock",postMerge:e},[Ot.Hardfork.Shanghai]:{name:"shanghaiTime",postMerge:!0,isTimestamp:!0},[Ot.Hardfork.ShardingForkDev]:{name:"shardingForkTime",postMerge:!0,isTimestamp:!0}},Ie=Object.keys(_e).reduce((Me,Se)=>(Me[_e[Se].name]=Se,Me),{}),Ee=Object.keys(r).filter(Me=>Ie[Me]!==void 0&&r[Me]!==void 0&&r[Me]!==null);if(le.hardforks=Ee.map(Me=>({name:Ie[Me],block:_e[Ie[Me]].isTimestamp===!0||typeof r[Me]!="number"?null:r[Me],timestamp:_e[Ie[Me]].isTimestamp===!0&&typeof r[Me]=="number"?r[Me]:void 0})).filter(Me=>Me.block!==null||Me.timestamp!==void 0),le.hardforks.sort(function(Me,Se){return(Me.block??1/0)-(Se.block??1/0)}),le.hardforks.sort(function(Me,Se){return(Me.timestamp??G)-(Se.timestamp??G)}),r.terminalTotalDifficulty!==void 0){const Me={name:Ot.Hardfork.Merge,ttd:r.terminalTotalDifficulty,block:null},Se=le.hardforks.findIndex(j=>_e[j.name]?.postMerge===!0);Se!==-1?le.hardforks.splice(Se,0,Me):le.hardforks.push(Me)}const $e=le.hardforks.length>0?le.hardforks.slice(-1)[0]:void 0;return le.hardfork=$e?.name,le.hardforks.unshift({name:Ot.Hardfork.Chainstart,block:0}),le}function _m(n,e,t){try{if(["config","difficulty","gasLimit","alloc"].some(r=>!(r in n)))throw new Error("Invalid format, expected geth genesis fields missing");return e!==void 0&&(n.name=e),Tm(n,t)}catch(r){throw new Error(`Error parsing parameters file: ${r.message}`)}}en.parseGethGenesis=_m;Object.defineProperty(En,"__esModule",{value:!0});En.Common=void 0;const Gt=Ze,Am=fo,Sm=ns,Im=As,$m=Ds,km=Js,Bm=ca,Fm=wa,_r=Pn,Mt=Mn,Cm=Tn,Om=en;class Rt extends Sm.EventEmitter{constructor(e){super(),this._eips=[],this._customChains=e.customChains??[],this._chainParams=this.setChain(e.chain),this.DEFAULT_HARDFORK=this._chainParams.defaultHardfork??Mt.Hardfork.Merge,this.HARDFORK_CHANGES=this.hardforks().map(t=>[t.name,Cm.hardforks[t.name]]),this._hardfork=this.DEFAULT_HARDFORK,e.hardfork!==void 0&&this.setHardfork(e.hardfork),e.eips&&this.setEIPs(e.eips)}static custom(e,t={}){const r=t.baseChain??"mainnet",a={...Rt._getChainParams(r)};if(a.name="custom-chain",typeof e!="string")return new Rt({chain:{...a,...e},...t});if(e===Mt.CustomChain.PolygonMainnet)return Rt.custom({name:Mt.CustomChain.PolygonMainnet,chainId:137,networkId:137},t);if(e===Mt.CustomChain.PolygonMumbai)return Rt.custom({name:Mt.CustomChain.PolygonMumbai,chainId:80001,networkId:80001},t);if(e===Mt.CustomChain.ArbitrumRinkebyTestnet)return Rt.custom({name:Mt.CustomChain.ArbitrumRinkebyTestnet,chainId:421611,networkId:421611},t);if(e===Mt.CustomChain.ArbitrumOne)return Rt.custom({name:Mt.CustomChain.ArbitrumOne,chainId:42161,networkId:42161},t);if(e===Mt.CustomChain.xDaiChain)return Rt.custom({name:Mt.CustomChain.xDaiChain,chainId:100,networkId:100},t);if(e===Mt.CustomChain.OptimisticKovan)return Rt.custom({name:Mt.CustomChain.OptimisticKovan,chainId:69,networkId:69},{hardfork:Mt.Hardfork.Berlin,...t});if(e===Mt.CustomChain.OptimisticEthereum)return Rt.custom({name:Mt.CustomChain.OptimisticEthereum,chainId:10,networkId:10},{hardfork:Mt.Hardfork.Berlin,...t});throw new Error(`Custom chain ${e} not supported`)}static fromGethGenesis(e,{chain:t,eips:r,genesisHash:a,hardfork:o,mergeForkIdPostMerge:d}){const g=(0,Om.parseGethGenesis)(e,t,d),E=new Rt({chain:g.name??"custom",customChains:[g],eips:r,hardfork:o??g.hardfork});return a!==void 0&&E.setForkHashes(a),E}static isSupportedChainId(e){return!!this._getInitializedChains().names[e.toString()]}static _getChainParams(e,t){const r=this._getInitializedChains(t);if(typeof e=="number"||typeof e=="bigint"){if(e=e.toString(),r.names[e]){const a=r.names[e];return r[a]}throw new Error(`Chain with ID ${e} not supported`)}if(r[e]!==void 0)return r[e];throw new Error(`Chain with name ${e} not supported`)}setChain(e){if(typeof e=="number"||typeof e=="bigint"||typeof e=="string")this._chainParams=Rt._getChainParams(e,this._customChains);else if(typeof e=="object"){if(this._customChains.length>0)throw new Error("Chain must be a string, number, or bigint when initialized with customChains passed in");const t=["networkId","genesis","hardforks","bootstrapNodes"];for(const r of t)if(!(r in e))throw new Error(`Missing required chain parameter: ${r}`);this._chainParams=e}else throw new Error("Wrong input format");for(const t of this.hardforks())if(t.block===void 0)throw new Error("Hardfork cannot have undefined block number");return this._chainParams}setHardfork(e){let t=!1;for(const r of this.HARDFORK_CHANGES)r[0]===e&&(this._hardfork!==e&&(this._hardfork=e,this.emit("hardforkChanged",e)),t=!0);if(!t)throw new Error(`Hardfork with name ${e} not supported`)}getHardforkByBlockNumber(e,t,r){e=(0,Gt.toType)(e,Gt.TypeOutput.BigInt),t=(0,Gt.toType)(t,Gt.TypeOutput.BigInt),r=(0,Gt.toType)(r,Gt.TypeOutput.Number);const a=this.hardforks().filter(I=>I.block!==null||I.ttd!==null&&I.ttd!==void 0||I.timestamp!==void 0),o=a.findIndex(I=>I.ttd!==null&&I.ttd!==void 0);if(a.slice(o+1).findIndex(I=>I.ttd!==null&&I.ttd!==void 0)>=0)throw Error("More than one merge hardforks found with ttd specified");let g=a.findIndex(I=>I.block!==null&&I.block>e||r!==void 0&&Number(I.timestamp)>r);if(g===-1)g=a.length;else if(g===0)throw Error("Must have at least one hardfork at block 0");if(r===void 0){const I=a.slice(0,g).reverse().findIndex(U=>U.block!==null||U.ttd!==void 0);g=g-I}if(g=g-1,a[g].block===null&&a[g].timestamp===void 0)(t==null||BigInt(a[g].ttd)>t)&&(g-=1);else if(o>=0&&t!==void 0&&t!==null){if(g>=o&&BigInt(a[o].ttd)>t)throw Error("Maximum HF determined by total difficulty is lower than the block number HF");if(g<o&&BigInt(a[o].ttd)<=t)throw Error("HF determined by block number is lower than the minimum total difficulty HF")}const E=g;for(;g<a.length-1&&!(a[g].block!==a[g+1].block||a[g].timestamp!==a[g+1].timestamp);g++);if(r){if(a.slice(0,E).reduce((G,pe)=>Math.max(Number(pe.timestamp??"0"),G),0)>r)throw Error("Maximum HF determined by timestamp is lower than the block number/ttd HF");if(a.slice(g+1).reduce((G,pe)=>Math.min(Number(pe.timestamp??r),G),r)<r)throw Error("Maximum HF determined by block number/ttd is lower than timestamp HF")}return a[g].name}setHardforkByBlockNumber(e,t,r){const a=this.getHardforkByBlockNumber(e,t,r);return this.setHardfork(a),a}_getHardfork(e){const t=this.hardforks();for(const r of t)if(r.name===e)return r;return null}setEIPs(e=[]){for(const t of e){if(!(t in _r.EIPs))throw new Error(`${t} not supported`);const r=this.gteHardfork(_r.EIPs[t].minimumHardfork);if(!r)throw new Error(`${t} cannot be activated on hardfork ${this.hardfork()}, minimumHardfork: ${r}`);if(_r.EIPs[t].requiredEIPs!==void 0){for(const a of _r.EIPs[t].requiredEIPs)if(!(e.includes(a)||this.isActivatedEIP(a)))throw new Error(`${t} requires EIP ${a}, but is not included in the EIP list`)}}this._eips=e}param(e,t){let r;for(const a of this._eips)if(r=this.paramByEIP(e,t,a),r!==void 0)return r;return this.paramByHardfork(e,t,this._hardfork)}paramByHardfork(e,t,r){let a=null;for(const o of this.HARDFORK_CHANGES){if("eips"in o[1]){const d=o[1].eips;for(const g of d){const E=this.paramByEIP(e,t,g);a=typeof E=="bigint"?E:a}}else{if(o[1][e]===void 0)throw new Error(`Topic ${e} not defined`);o[1][e][t]!==void 0&&(a=o[1][e][t].v)}if(o[0]===r)break}return BigInt(a??0)}paramByEIP(e,t,r){if(!(r in _r.EIPs))throw new Error(`${r} not supported`);const a=_r.EIPs[r];if(!(e in a))throw new Error(`Topic ${e} not defined`);if(a[e][t]===void 0)return;const o=a[e][t].v;return BigInt(o)}paramByBlock(e,t,r,a,o){const d=this.getHardforkByBlockNumber(r,a,o);return this.paramByHardfork(e,t,d)}isActivatedEIP(e){if(this.eips().includes(e))return!0;for(const t of this.HARDFORK_CHANGES){const r=t[1];if(this.gteHardfork(r.name)&&"eips"in r&&r.eips.includes(e))return!0}return!1}hardforkIsActiveOnBlock(e,t){t=(0,Gt.toType)(t,Gt.TypeOutput.BigInt),e=e??this._hardfork;const r=this.hardforkBlock(e);return typeof r=="bigint"&&r!==BigInt(0)&&t>=r}activeOnBlock(e){return this.hardforkIsActiveOnBlock(null,e)}hardforkGteHardfork(e,t){e=e??this._hardfork;const r=this.hardforks();let a=-1,o=-1,d=0;for(const g of r)g.name===e&&(a=d),g.name===t&&(o=d),d+=1;return a>=o&&o!==-1}gteHardfork(e){return this.hardforkGteHardfork(null,e)}hardforkBlock(e){e=e??this._hardfork;const t=this._getHardfork(e)?.block;return t==null?null:BigInt(t)}hardforkTimestamp(e){e=e??this._hardfork;const t=this._getHardfork(e)?.timestamp;return t==null?null:BigInt(t)}eipBlock(e){for(const t of this.HARDFORK_CHANGES){const r=t[1];if("eips"in r&&r.eips.includes(e))return this.hardforkBlock(t[0])}return null}hardforkTTD(e){e=e??this._hardfork;const t=this._getHardfork(e)?.ttd;return t==null?null:BigInt(t)}isHardforkBlock(e,t){e=(0,Gt.toType)(e,Gt.TypeOutput.BigInt),t=t??this._hardfork;const r=this.hardforkBlock(t);return typeof r=="bigint"&&r!==BigInt(0)?r===e:!1}nextHardforkBlockOrTimestamp(e){e=e??this._hardfork;const t=this.hardforks();let r=t.findIndex(g=>g.name===e);if(e===Mt.Hardfork.Merge&&(r-=1),r<0)return null;let a=t[r].timestamp??t[r].block;a=a!=null?Number(a):null;const o=t.slice(r+1).find(g=>{let E=g.timestamp??g.block;return E=E!=null?Number(E):null,g.name!==Mt.Hardfork.Merge&&E!==null&&E!==void 0&&E!==a});if(o===void 0)return null;const d=o.timestamp??o.block;return d==null?null:BigInt(d)}nextHardforkBlock(e){e=e??this._hardfork;let t=this.hardforkBlock(e);if(t===null&&e===Mt.Hardfork.Merge){const a=this.hardforks(),o=a.findIndex(d=>d.ttd!==null&&d.ttd!==void 0);if(o<0)throw Error("Merge hardfork should have been found");t=this.hardforkBlock(a[o-1].name)}return t===null?null:this.hardforks().reduce((a,o)=>{const d=BigInt(o.block===null||o.ttd!==void 0&&o.ttd!==null?0:o.block);return d>t&&a===null?d:a},null)}isNextHardforkBlock(e,t){e=(0,Gt.toType)(e,Gt.TypeOutput.BigInt),t=t??this._hardfork;const r=this.nextHardforkBlock(t);return r===null?!1:r===e}_calcForkHash(e,t){let r=D.alloc(0),a=0;for(const g of this.hardforks()){const{block:E,timestamp:A,name:I}=g;let U=A??E;if(U=U!==null?Number(U):null,typeof U=="number"&&U!==0&&U!==a&&I!==Mt.Hardfork.Merge){const G=D.from(U.toString(16).padStart(16,"0"),"hex");r=D.concat([r,G]),a=U}if(g.name===e)break}const o=D.concat([t,r]);return`0x${(0,Gt.intToBuffer)((0,Am.buf)(o)>>>0).toString("hex")}`}forkHash(e,t){e=e??this._hardfork;const r=this._getHardfork(e);if(r===null||r?.block===null&&r?.timestamp===void 0&&r?.ttd===void 0){const a="No fork hash calculation possible for future hardfork";throw new Error(a)}if(r?.forkHash!==null&&r?.forkHash!==void 0)return r.forkHash;if(!t)throw new Error("genesisHash required for forkHash calculation");return this._calcForkHash(e,t)}hardforkForForkHash(e){const t=this.hardforks().filter(r=>r.forkHash===e);return t.length>=1?t[t.length-1]:null}setForkHashes(e){for(const t of this.hardforks()){const r=t.timestamp??t.block;(t.forkHash===null||t.forkHash===void 0)&&(r!=null||typeof t.ttd<"u")&&(t.forkHash=this.forkHash(t.name,e))}}genesis(){return this._chainParams.genesis}hardforks(){return this._chainParams.hardforks}bootstrapNodes(){return this._chainParams.bootstrapNodes}dnsNetworks(){return this._chainParams.dnsNetworks}hardfork(){return this._hardfork}chainId(){return BigInt(this._chainParams.chainId)}chainName(){return this._chainParams.name}networkId(){return BigInt(this._chainParams.networkId)}eips(){return this._eips}consensusType(){const e=this.hardfork();let t;for(const r of this.HARDFORK_CHANGES)if("consensus"in r[1]&&(t=r[1].consensus.type),r[0]===e)break;return t??this._chainParams.consensus.type}consensusAlgorithm(){const e=this.hardfork();let t;for(const r of this.HARDFORK_CHANGES)if("consensus"in r[1]&&(t=r[1].consensus.algorithm),r[0]===e)break;return t??this._chainParams.consensus.algorithm}consensusConfig(){const e=this.hardfork();let t;for(const r of this.HARDFORK_CHANGES)if("consensus"in r[1]&&(t=r[1].consensus[r[1].consensus.algorithm]),r[0]===e)break;return t??this._chainParams.consensus[this.consensusAlgorithm()]??{}}copy(){const e=Object.assign(Object.create(Object.getPrototypeOf(this)),this);return e.removeAllListeners(),e}static _getInitializedChains(e){const t={};for(const[a,o]of Object.entries(Mt.Chain))t[o]=a.toLowerCase();const r={mainnet:$m,ropsten:Bm,rinkeby:km,goerli:Im,sepolia:Fm};if(e)for(const a of e){const{name:o}=a;t[a.chainId.toString()]=o,r[o]=a}return r.names=t,r}}En.Common=Rt;var co={};Object.defineProperty(co,"__esModule",{value:!0});(function(n){var e=Tt&&Tt.__createBinding||(Object.create?function(r,a,o,d){d===void 0&&(d=o);var g=Object.getOwnPropertyDescriptor(a,o);(!g||("get"in g?!a.__esModule:g.writable||g.configurable))&&(g={enumerable:!0,get:function(){return a[o]}}),Object.defineProperty(r,d,g)}:function(r,a,o,d){d===void 0&&(d=o),r[d]=a[o]}),t=Tt&&Tt.__exportStar||function(r,a){for(var o in r)o!=="default"&&!Object.prototype.hasOwnProperty.call(a,o)&&e(a,r,o)};Object.defineProperty(n,"__esModule",{value:!0}),t(En,n),t(Mn,n),t(co,n),t(en,n)})(Yr);var Gr={},kt={};Object.defineProperty(kt,"__esModule",{value:!0});kt.BYTES_PER_FIELD_ELEMENT=kt.FIELD_ELEMENTS_PER_BLOB=kt.MAX_TX_WRAP_KZG_COMMITMENTS=kt.LIMIT_BLOBS_PER_TX=kt.MAX_VERSIONED_HASHES_LIST_SIZE=kt.MAX_ACCESS_LIST_SIZE=kt.MAX_CALLDATA_SIZE=void 0;kt.MAX_CALLDATA_SIZE=16777216;kt.MAX_ACCESS_LIST_SIZE=16777216;kt.MAX_VERSIONED_HASHES_LIST_SIZE=16777216;kt.LIMIT_BLOBS_PER_TX=16777216;kt.MAX_TX_WRAP_KZG_COMMITMENTS=16777216;kt.FIELD_ELEMENTS_PER_BLOB=4096;kt.BYTES_PER_FIELD_ELEMENT=32;(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.BlobNetworkTransactionWrapper=n.KZGProofType=n.KZGCommitmentType=n.SignedBlobTransactionType=n.ECDSASignatureType=n.BlobTransactionType=n.AccessTupleType=n.AddressType=n.isAccessList=n.isAccessListBuffer=n.Capability=void 0;const e=eo,t=kt,r=new e.ByteVectorType(20),a=new e.ByteVectorType(32),o=new e.ByteVectorType(48),d=new e.UintBigintType(8),g=new e.UintBigintType(32);(function(I){I[I.EIP155ReplayProtection=155]="EIP155ReplayProtection",I[I.EIP1559FeeMarket=1559]="EIP1559FeeMarket",I[I.EIP2718TypedTransaction=2718]="EIP2718TypedTransaction",I[I.EIP2930AccessLists=2930]="EIP2930AccessLists"})(n.Capability||(n.Capability={}));function E(I){if(I.length===0)return!0;const U=I[0];return!!Array.isArray(U)}n.isAccessListBuffer=E;function A(I){return!E(I)}n.isAccessList=A,n.AddressType=r,n.AccessTupleType=new e.ContainerType({address:n.AddressType,storageKeys:new e.ListCompositeType(a,t.MAX_VERSIONED_HASHES_LIST_SIZE)}),n.BlobTransactionType=new e.ContainerType({chainId:g,nonce:d,maxPriorityFeePerGas:g,maxFeePerGas:g,gas:d,to:new e.UnionType([new e.NoneType,n.AddressType]),value:g,data:new e.ByteListType(t.MAX_CALLDATA_SIZE),accessList:new e.ListCompositeType(n.AccessTupleType,t.MAX_ACCESS_LIST_SIZE),maxFeePerDataGas:g,blobVersionedHashes:new e.ListCompositeType(a,t.MAX_VERSIONED_HASHES_LIST_SIZE)}),n.ECDSASignatureType=new e.ContainerType({yParity:new e.BooleanType,r:g,s:g}),n.SignedBlobTransactionType=new e.ContainerType({message:n.BlobTransactionType,signature:n.ECDSASignatureType}),n.KZGCommitmentType=o,n.KZGProofType=n.KZGCommitmentType,n.BlobNetworkTransactionWrapper=new e.ContainerType({tx:n.SignedBlobTransactionType,blobKzgs:new e.ListCompositeType(n.KZGCommitmentType,t.MAX_TX_WRAP_KZG_COMMITMENTS),blobs:new e.ListCompositeType(new e.ByteVectorType(t.FIELD_ELEMENTS_PER_BLOB*t.BYTES_PER_FIELD_ELEMENT),t.LIMIT_BLOBS_PER_TX),kzgAggregatedProof:n.KZGProofType})})(Gr);var Jt={};Object.defineProperty(Jt,"__esModule",{value:!0});Jt.blobTxToNetworkWrapperDataFormat=Jt.AccessLists=Jt.checkMaxInitCodeSize=void 0;const Ar=Ze,Lm=Gr;function Hm(n,e){const t=n.param("vm","maxInitCodeSize");if(t&&BigInt(e)>t)throw new Error(`the initcode size of this transaction is too large: it is ${e} while the max is ${n.param("vm","maxInitCodeSize")}`)}Jt.checkMaxInitCodeSize=Hm;class Nm{static getAccessListData(e){let t,r;if((0,Lm.isAccessList)(e)){t=e;const a=[];for(let o=0;o<e.length;o++){const d=e[o],g=(0,Ar.toBuffer)(d.address),E=[];for(let A=0;A<d.storageKeys.length;A++)E.push((0,Ar.toBuffer)(d.storageKeys[A]));a.push([g,E])}r=a}else{r=e??[];const a=[];for(let o=0;o<r.length;o++){const d=r[o],g=(0,Ar.bufferToHex)(d[0]),E=[];for(let I=0;I<d[1].length;I++)E.push((0,Ar.bufferToHex)(d[1][I]));const A={address:g,storageKeys:E};a.push(A)}t=a}return{AccessListJSON:t,accessList:r}}static verifyAccessList(e){for(let t=0;t<e.length;t++){const r=e[t],a=r[0],o=r[1];if(r[2]!==void 0)throw new Error("Access list item cannot have 3 elements. It can only have an address, and an array of storage slots.");if(a.length!==20)throw new Error("Invalid EIP-2930 transaction: address length should be 20 bytes");for(let d=0;d<o.length;d++)if(o[d].length!==32)throw new Error("Invalid EIP-2930 transaction: storage slot length should be 32 bytes")}}static getAccessListJSON(e){const t=[];for(let r=0;r<e.length;r++){const a=e[r],o={address:"0x"+(0,Ar.setLengthLeft)(a[0],20).toString("hex"),storageKeys:[]},d=a[1];for(let g=0;g<d.length;g++){const E=d[g];o.storageKeys.push("0x"+(0,Ar.setLengthLeft)(E,32).toString("hex"))}t.push(o)}return t}static getDataFeeEIP2930(e,t){const r=t.param("gasPrices","accessListStorageKeyCost"),a=t.param("gasPrices","accessListAddressCost");let o=0;for(let g=0;g<e.length;g++){const A=e[g][1];o+=A.length}return e.length*Number(a)+o*Number(r)}}Jt.AccessLists=Nm;const Dm=n=>{const e={selector:n.to!==void 0?1:0,value:n.to?.toBuffer()??null};return{message:{chainId:n.common.chainId(),nonce:n.nonce,maxPriorityFeePerGas:n.maxPriorityFeePerGas,maxFeePerGas:n.maxFeePerGas,gas:n.gasLimit,to:e,value:n.value,data:n.data,accessList:n.accessList.map(t=>({address:t[0],storageKeys:t[1]})),blobVersionedHashes:n.versionedHashes,maxFeePerDataGas:n.maxFeePerDataGas},signature:{r:n.r??BigInt(0),s:n.s??BigInt(0),yParity:n.v===BigInt(1)}}};Jt.blobTxToNetworkWrapperDataFormat=Dm;Object.defineProperty(wr,"__esModule",{value:!0});wr.BaseTransaction=void 0;const Sr=Yr,qe=Ze,Fn=Gr,Gm=Jt;class Rm{constructor(e,t){this.cache={hash:void 0,dataFee:void 0},this.activeCapabilities=[],this.DEFAULT_CHAIN=Sr.Chain.Mainnet,this.DEFAULT_HARDFORK=Sr.Hardfork.Merge;const{nonce:r,gasLimit:a,to:o,value:d,data:g,v:E,r:A,s:I,type:U}=e;this._type=Number((0,qe.bufferToBigInt)((0,qe.toBuffer)(U))),this.txOptions=t;const G=(0,qe.toBuffer)(o===""?"0x":o),pe=(0,qe.toBuffer)(E===""?"0x":E),le=(0,qe.toBuffer)(A===""?"0x":A),_e=(0,qe.toBuffer)(I===""?"0x":I);this.nonce=(0,qe.bufferToBigInt)((0,qe.toBuffer)(r===""?"0x":r)),this.gasLimit=(0,qe.bufferToBigInt)((0,qe.toBuffer)(a===""?"0x":a)),this.to=G.length>0?new qe.Address(G):void 0,this.value=(0,qe.bufferToBigInt)((0,qe.toBuffer)(d===""?"0x":d)),this.data=(0,qe.toBuffer)(g===""?"0x":g),this.v=pe.length>0?(0,qe.bufferToBigInt)(pe):void 0,this.r=le.length>0?(0,qe.bufferToBigInt)(le):void 0,this.s=_e.length>0?(0,qe.bufferToBigInt)(_e):void 0,this._validateCannotExceedMaxInteger({value:this.value,r:this.r,s:this.s}),this._validateCannotExceedMaxInteger({gasLimit:this.gasLimit},64),this._validateCannotExceedMaxInteger({nonce:this.nonce},64,!0);const Ie=this.to===void 0||this.to===null,Ee=t.allowUnlimitedInitCodeSize??!1,$e=t.common??this._getCommon();Ie&&$e.isActivatedEIP(3860)&&Ee===!1&&(0,Gm.checkMaxInitCodeSize)($e,this.data.length)}get type(){return this._type}supports(e){return this.activeCapabilities.includes(e)}validate(e=!1){const t=[];return this.getBaseFee()>this.gasLimit&&t.push(`gasLimit is too low. given ${this.gasLimit}, need at least ${this.getBaseFee()}`),this.isSigned()&&!this.verifySignature()&&t.push("Invalid Signature"),e?t:t.length===0}_validateYParity(){const{v:e}=this;if(e!==void 0&&e!==BigInt(0)&&e!==BigInt(1)){const t=this._errorMsg("The y-parity of the transaction should either be 0 or 1");throw new Error(t)}}_validateHighS(){const{s:e}=this;if(this.common.gteHardfork("homestead")&&e!==void 0&&e>qe.SECP256K1_ORDER_DIV_2){const t=this._errorMsg("Invalid Signature: s-values greater than secp256k1n/2 are considered invalid");throw new Error(t)}}getBaseFee(){const e=this.common.param("gasPrices","tx");let t=this.getDataFee();if(e&&(t+=e),this.common.gteHardfork("homestead")&&this.toCreationAddress()){const r=this.common.param("gasPrices","txCreation");r&&(t+=r)}return t}getDataFee(){const e=this.common.param("gasPrices","txDataZero"),t=this.common.param("gasPrices","txDataNonZero");let r=BigInt(0);for(let a=0;a<this.data.length;a++)this.data[a]===0?r+=e:r+=t;if((this.to===void 0||this.to===null)&&this.common.isActivatedEIP(3860)){const a=BigInt(Math.ceil(this.data.length/32)),o=this.common.param("gasPrices","initCodeWordCost")*a;r+=o}return r}toCreationAddress(){return this.to===void 0||this.to.buf.length===0}isSigned(){const{v:e,r:t,s:r}=this;return!(e===void 0||t===void 0||r===void 0)}verifySignature(){try{const e=this.getSenderPublicKey();return(0,qe.unpadBuffer)(e).length!==0}catch{return!1}}getSenderAddress(){return new qe.Address((0,qe.publicToAddress)(this.getSenderPublicKey()))}sign(e){if(e.length!==32){const E=this._errorMsg("Private key must be 32 bytes in length.");throw new Error(E)}let t=!1;this.type===0&&this.common.gteHardfork("spuriousDragon")&&!this.supports(Fn.Capability.EIP155ReplayProtection)&&(this.activeCapabilities.push(Fn.Capability.EIP155ReplayProtection),t=!0);const r=this.getMessageToSign(!0),{v:a,r:o,s:d}=(0,qe.ecsign)(r,e),g=this._processSignature(a,o,d);if(t){const E=this.activeCapabilities.indexOf(Fn.Capability.EIP155ReplayProtection);E>-1&&this.activeCapabilities.splice(E,1)}return g}_getCommon(e,t){if(t!==void 0){const r=(0,qe.bufferToBigInt)((0,qe.toBuffer)(t));if(e){if(e.chainId()!==r){const a=this._errorMsg("The chain ID does not match the chain ID of Common");throw new Error(a)}return e.copy()}else return Sr.Common.isSupportedChainId(r)?new Sr.Common({chain:r,hardfork:this.DEFAULT_HARDFORK}):Sr.Common.custom({name:"custom-chain",networkId:r,chainId:r},{baseChain:this.DEFAULT_CHAIN,hardfork:this.DEFAULT_HARDFORK})}else return e?.copy()??new Sr.Common({chain:this.DEFAULT_CHAIN,hardfork:this.DEFAULT_HARDFORK})}_validateCannotExceedMaxInteger(e,t=256,r=!1){for(const[a,o]of Object.entries(e))switch(t){case 64:if(r){if(o!==void 0&&o>=qe.MAX_UINT64){const d=this._errorMsg(`${a} cannot equal or exceed MAX_UINT64 (2^64-1), given ${o}`);throw new Error(d)}}else if(o!==void 0&&o>qe.MAX_UINT64){const d=this._errorMsg(`${a} cannot exceed MAX_UINT64 (2^64-1), given ${o}`);throw new Error(d)}break;case 256:if(r){if(o!==void 0&&o>=qe.MAX_INTEGER){const d=this._errorMsg(`${a} cannot equal or exceed MAX_INTEGER (2^256-1), given ${o}`);throw new Error(d)}}else if(o!==void 0&&o>qe.MAX_INTEGER){const d=this._errorMsg(`${a} cannot exceed MAX_INTEGER (2^256-1), given ${o}`);throw new Error(d)}break;default:{const d=this._errorMsg("unimplemented bits value");throw new Error(d)}}}static _validateNotArray(e){const t=["nonce","gasPrice","gasLimit","to","value","data","v","r","s","type","baseFee","maxFeePerGas","chainId"];for(const[r,a]of Object.entries(e))if(t.includes(r)&&Array.isArray(a))throw new Error(`${r} cannot be an array`)}_getSharedErrorPostfix(){let e="";try{e=this.isSigned()?(0,qe.bufferToHex)(this.hash()):"not available (unsigned)"}catch{e="error"}let t="";try{t=this.isSigned().toString()}catch{e="error"}let r="";try{r=this.common.hardfork()}catch{r="error"}let a=`tx type=${this.type} hash=${e} nonce=${this.nonce} value=${this.value} `;return a+=`signed=${t} hf=${r}`,a}}wr.BaseTransaction=Rm;Object.defineProperty(Qr,"__esModule",{value:!0});Qr.FeeMarketEIP1559Transaction=void 0;const Cn=Wn,Ce=Ze,On=Xr,gi=wr,fn=Jt,jn=2,Ln=D.from(jn.toString(16).padStart(2,"0"),"hex");class Or extends gi.BaseTransaction{constructor(e,t={}){super({...e,type:jn},t),this.DEFAULT_HARDFORK="london";const{chainId:r,accessList:a,maxFeePerGas:o,maxPriorityFeePerGas:d}=e;if(this.common=this._getCommon(t.common,r),this.chainId=this.common.chainId(),this.common.isActivatedEIP(1559)===!1)throw new Error("EIP-1559 not enabled on Common");this.activeCapabilities=this.activeCapabilities.concat([1559,2718,2930]);const g=fn.AccessLists.getAccessListData(a??[]);if(this.accessList=g.accessList,this.AccessListJSON=g.AccessListJSON,fn.AccessLists.verifyAccessList(this.accessList),this.maxFeePerGas=(0,Ce.bufferToBigInt)((0,Ce.toBuffer)(o===""?"0x":o)),this.maxPriorityFeePerGas=(0,Ce.bufferToBigInt)((0,Ce.toBuffer)(d===""?"0x":d)),this._validateCannotExceedMaxInteger({maxFeePerGas:this.maxFeePerGas,maxPriorityFeePerGas:this.maxPriorityFeePerGas}),gi.BaseTransaction._validateNotArray(e),this.gasLimit*this.maxFeePerGas>Ce.MAX_INTEGER){const A=this._errorMsg("gasLimit * maxFeePerGas cannot exceed MAX_INTEGER (2^256-1)");throw new Error(A)}if(this.maxFeePerGas<this.maxPriorityFeePerGas){const A=this._errorMsg("maxFeePerGas cannot be less than maxPriorityFeePerGas (The total must be the larger of the two)");throw new Error(A)}this._validateYParity(),this._validateHighS(),(t?.freeze??!0)&&Object.freeze(this)}static fromTxData(e,t={}){return new Or(e,t)}static fromSerializedTx(e,t={}){if(!e.slice(0,1).equals(Ln))throw new Error(`Invalid serialized tx input: not an EIP-1559 transaction (wrong tx type, expected: ${jn}, received: ${e.slice(0,1).toString("hex")}`);const r=(0,Ce.arrToBufArr)(Cn.RLP.decode(e.slice(1)));if(!Array.isArray(r))throw new Error("Invalid serialized tx input: must be array");return Or.fromValuesArray(r,t)}static fromValuesArray(e,t={}){if(e.length!==9&&e.length!==12)throw new Error("Invalid EIP-1559 transaction. Only expecting 9 values (for unsigned tx) or 12 values (for signed tx).");const[r,a,o,d,g,E,A,I,U,G,pe,le]=e;return this._validateNotArray({chainId:r,v:G}),(0,Ce.validateNoLeadingZeroes)({nonce:a,maxPriorityFeePerGas:o,maxFeePerGas:d,gasLimit:g,value:A,v:G,r:pe,s:le}),new Or({chainId:(0,Ce.bufferToBigInt)(r),nonce:a,maxPriorityFeePerGas:o,maxFeePerGas:d,gasLimit:g,to:E,value:A,data:I,accessList:U??[],v:G!==void 0?(0,Ce.bufferToBigInt)(G):void 0,r:pe,s:le},t)}getDataFee(){if(this.cache.dataFee&&this.cache.dataFee.hardfork===this.common.hardfork())return this.cache.dataFee.value;let e=super.getDataFee();return e+=BigInt(fn.AccessLists.getDataFeeEIP2930(this.accessList,this.common)),Object.isFrozen(this)&&(this.cache.dataFee={value:e,hardfork:this.common.hardfork()}),e}getUpfrontCost(e=BigInt(0)){const t=this.maxPriorityFeePerGas,r=this.maxFeePerGas-e,o=(t<r?t:r)+e;return this.gasLimit*o+this.value}raw(){return[(0,Ce.bigIntToUnpaddedBuffer)(this.chainId),(0,Ce.bigIntToUnpaddedBuffer)(this.nonce),(0,Ce.bigIntToUnpaddedBuffer)(this.maxPriorityFeePerGas),(0,Ce.bigIntToUnpaddedBuffer)(this.maxFeePerGas),(0,Ce.bigIntToUnpaddedBuffer)(this.gasLimit),this.to!==void 0?this.to.buf:D.from([]),(0,Ce.bigIntToUnpaddedBuffer)(this.value),this.data,this.accessList,this.v!==void 0?(0,Ce.bigIntToUnpaddedBuffer)(this.v):D.from([]),this.r!==void 0?(0,Ce.bigIntToUnpaddedBuffer)(this.r):D.from([]),this.s!==void 0?(0,Ce.bigIntToUnpaddedBuffer)(this.s):D.from([])]}serialize(){const e=this.raw();return D.concat([Ln,D.from(Cn.RLP.encode((0,Ce.bufArrToArr)(e)))])}getMessageToSign(e=!0){const t=this.raw().slice(0,9),r=D.concat([Ln,D.from(Cn.RLP.encode((0,Ce.bufArrToArr)(t)))]);return e?D.from((0,On.keccak256)(r)):r}hash(){if(!this.isSigned()){const e=this._errorMsg("Cannot call hash method if transaction is not signed");throw new Error(e)}return Object.isFrozen(this)?(this.cache.hash||(this.cache.hash=D.from((0,On.keccak256)(this.serialize()))),this.cache.hash):D.from((0,On.keccak256)(this.serialize()))}getMessageToVerifySignature(){return this.getMessageToSign()}getSenderPublicKey(){if(!this.isSigned()){const o=this._errorMsg("Cannot call this method if transaction is not signed");throw new Error(o)}const e=this.getMessageToVerifySignature(),{v:t,r,s:a}=this;this._validateHighS();try{return(0,Ce.ecrecover)(e,t+BigInt(27),(0,Ce.bigIntToUnpaddedBuffer)(r),(0,Ce.bigIntToUnpaddedBuffer)(a))}catch{const d=this._errorMsg("Invalid Signature");throw new Error(d)}}_processSignature(e,t,r){const a={...this.txOptions,common:this.common};return Or.fromTxData({chainId:this.chainId,nonce:this.nonce,maxPriorityFeePerGas:this.maxPriorityFeePerGas,maxFeePerGas:this.maxFeePerGas,gasLimit:this.gasLimit,to:this.to,value:this.value,data:this.data,accessList:this.accessList,v:e-BigInt(27),r:(0,Ce.bufferToBigInt)(t),s:(0,Ce.bufferToBigInt)(r)},a)}toJSON(){const e=fn.AccessLists.getAccessListJSON(this.accessList);return{chainId:(0,Ce.bigIntToHex)(this.chainId),nonce:(0,Ce.bigIntToHex)(this.nonce),maxPriorityFeePerGas:(0,Ce.bigIntToHex)(this.maxPriorityFeePerGas),maxFeePerGas:(0,Ce.bigIntToHex)(this.maxFeePerGas),gasLimit:(0,Ce.bigIntToHex)(this.gasLimit),to:this.to!==void 0?this.to.toString():void 0,value:(0,Ce.bigIntToHex)(this.value),data:"0x"+this.data.toString("hex"),accessList:e,v:this.v!==void 0?(0,Ce.bigIntToHex)(this.v):void 0,r:this.r!==void 0?(0,Ce.bigIntToHex)(this.r):void 0,s:this.s!==void 0?(0,Ce.bigIntToHex)(this.s):void 0}}errorStr(){let e=this._getSharedErrorPostfix();return e+=` maxFeePerGas=${this.maxFeePerGas} maxPriorityFeePerGas=${this.maxPriorityFeePerGas}`,e}_errorMsg(e){return`${e} (${this.errorStr()})`}}Qr.FeeMarketEIP1559Transaction=Or;var tn={};Object.defineProperty(tn,"__esModule",{value:!0});tn.AccessListEIP2930Transaction=void 0;const Hn=Wn,Re=Ze,Nn=Xr,vi=wr,cn=Jt,qn=1,Dn=D.from(qn.toString(16).padStart(2,"0"),"hex");class Lr extends vi.BaseTransaction{constructor(e,t={}){super({...e,type:qn},t),this.DEFAULT_HARDFORK="berlin";const{chainId:r,accessList:a,gasPrice:o}=e;if(this.common=this._getCommon(t.common,r),this.chainId=this.common.chainId(),!this.common.isActivatedEIP(2930))throw new Error("EIP-2930 not enabled on Common");this.activeCapabilities=this.activeCapabilities.concat([2718,2930]);const d=cn.AccessLists.getAccessListData(a??[]);if(this.accessList=d.accessList,this.AccessListJSON=d.AccessListJSON,cn.AccessLists.verifyAccessList(this.accessList),this.gasPrice=(0,Re.bufferToBigInt)((0,Re.toBuffer)(o===""?"0x":o)),this._validateCannotExceedMaxInteger({gasPrice:this.gasPrice}),vi.BaseTransaction._validateNotArray(e),this.gasPrice*this.gasLimit>Re.MAX_INTEGER){const E=this._errorMsg("gasLimit * gasPrice cannot exceed MAX_INTEGER");throw new Error(E)}this._validateYParity(),this._validateHighS(),(t?.freeze??!0)&&Object.freeze(this)}static fromTxData(e,t={}){return new Lr(e,t)}static fromSerializedTx(e,t={}){if(!e.slice(0,1).equals(Dn))throw new Error(`Invalid serialized tx input: not an EIP-2930 transaction (wrong tx type, expected: ${qn}, received: ${e.slice(0,1).toString("hex")}`);const r=(0,Re.arrToBufArr)(Hn.RLP.decode(Uint8Array.from(e.slice(1))));if(!Array.isArray(r))throw new Error("Invalid serialized tx input: must be array");return Lr.fromValuesArray(r,t)}static fromValuesArray(e,t={}){if(e.length!==8&&e.length!==11)throw new Error("Invalid EIP-2930 transaction. Only expecting 8 values (for unsigned tx) or 11 values (for signed tx).");const[r,a,o,d,g,E,A,I,U,G,pe]=e;this._validateNotArray({chainId:r,v:U}),(0,Re.validateNoLeadingZeroes)({nonce:a,gasPrice:o,gasLimit:d,value:E,v:U,r:G,s:pe});const le=[];return new Lr({chainId:(0,Re.bufferToBigInt)(r),nonce:a,gasPrice:o,gasLimit:d,to:g,value:E,data:A,accessList:I??le,v:U!==void 0?(0,Re.bufferToBigInt)(U):void 0,r:G,s:pe},t)}getDataFee(){if(this.cache.dataFee&&this.cache.dataFee.hardfork===this.common.hardfork())return this.cache.dataFee.value;let e=super.getDataFee();return e+=BigInt(cn.AccessLists.getDataFeeEIP2930(this.accessList,this.common)),Object.isFrozen(this)&&(this.cache.dataFee={value:e,hardfork:this.common.hardfork()}),e}getUpfrontCost(){return this.gasLimit*this.gasPrice+this.value}raw(){return[(0,Re.bigIntToUnpaddedBuffer)(this.chainId),(0,Re.bigIntToUnpaddedBuffer)(this.nonce),(0,Re.bigIntToUnpaddedBuffer)(this.gasPrice),(0,Re.bigIntToUnpaddedBuffer)(this.gasLimit),this.to!==void 0?this.to.buf:D.from([]),(0,Re.bigIntToUnpaddedBuffer)(this.value),this.data,this.accessList,this.v!==void 0?(0,Re.bigIntToUnpaddedBuffer)(this.v):D.from([]),this.r!==void 0?(0,Re.bigIntToUnpaddedBuffer)(this.r):D.from([]),this.s!==void 0?(0,Re.bigIntToUnpaddedBuffer)(this.s):D.from([])]}serialize(){const e=this.raw();return D.concat([Dn,D.from(Hn.RLP.encode((0,Re.bufArrToArr)(e)))])}getMessageToSign(e=!0){const t=this.raw().slice(0,8),r=D.concat([Dn,D.from(Hn.RLP.encode((0,Re.bufArrToArr)(t)))]);return e?D.from((0,Nn.keccak256)(r)):r}hash(){if(!this.isSigned()){const e=this._errorMsg("Cannot call hash method if transaction is not signed");throw new Error(e)}return Object.isFrozen(this)?(this.cache.hash||(this.cache.hash=D.from((0,Nn.keccak256)(this.serialize()))),this.cache.hash):D.from((0,Nn.keccak256)(this.serialize()))}getMessageToVerifySignature(){return this.getMessageToSign()}getSenderPublicKey(){if(!this.isSigned()){const o=this._errorMsg("Cannot call this method if transaction is not signed");throw new Error(o)}const e=this.getMessageToVerifySignature(),{v:t,r,s:a}=this;this._validateHighS();try{return(0,Re.ecrecover)(e,t+BigInt(27),(0,Re.bigIntToUnpaddedBuffer)(r),(0,Re.bigIntToUnpaddedBuffer)(a))}catch{const d=this._errorMsg("Invalid Signature");throw new Error(d)}}_processSignature(e,t,r){const a={...this.txOptions,common:this.common};return Lr.fromTxData({chainId:this.chainId,nonce:this.nonce,gasPrice:this.gasPrice,gasLimit:this.gasLimit,to:this.to,value:this.value,data:this.data,accessList:this.accessList,v:e-BigInt(27),r:(0,Re.bufferToBigInt)(t),s:(0,Re.bufferToBigInt)(r)},a)}toJSON(){const e=cn.AccessLists.getAccessListJSON(this.accessList);return{chainId:(0,Re.bigIntToHex)(this.chainId),nonce:(0,Re.bigIntToHex)(this.nonce),gasPrice:(0,Re.bigIntToHex)(this.gasPrice),gasLimit:(0,Re.bigIntToHex)(this.gasLimit),to:this.to!==void 0?this.to.toString():void 0,value:(0,Re.bigIntToHex)(this.value),data:"0x"+this.data.toString("hex"),accessList:e,v:this.v!==void 0?(0,Re.bigIntToHex)(this.v):void 0,r:this.r!==void 0?(0,Re.bigIntToHex)(this.r):void 0,s:this.s!==void 0?(0,Re.bigIntToHex)(this.s):void 0}}errorStr(){let e=this._getSharedErrorPostfix();return e+=` gasPrice=${this.gasPrice} accessListCount=${this.accessList?.length??0}`,e}_errorMsg(e){return`${e} (${this.errorStr()})`}}tn.AccessListEIP2930Transaction=Lr;var rn={},_n={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.initKZG=n.kzg=void 0;function e(){throw Error("kzg library not loaded")}n.kzg={freeTrustedSetup:e,loadTrustedSetup:e,blobToKzgCommitment:e,computeAggregateKzgProof:e,verifyKzgProof:e,verifyAggregateKzgProof:e};function t(r,a){n.kzg=r,n.kzg.loadTrustedSetup(a)}n.initKZG=t})(_n);var ti={},An={};Object.defineProperty(An,"__esModule",{value:!0});An.sha256=void 0;const zm=is,Um=os;An.sha256=(0,Um.wrapHash)(zm.sha256);(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.commitmentsToVersionedHashes=n.computeVersionedHash=n.blobsToCommitments=n.getBlobs=void 0;const e=An,t=_n,r=32,a=4096,o=32*a,g=o*2-1,E=r*a;function A(_e,Ie){const Ee=D.alloc(Ie*o),$e=D.byteLength(_e);return Ee.fill(_e,0,$e),Ee[$e]=128,Ee}function I(_e){const Ie=D.alloc(E,"binary");for(let Ee=0;Ee<a;Ee++){const $e=D.alloc(32,"binary");$e.fill(_e.subarray(Ee*31,(Ee+1)*31),0,31),Ie.fill($e,Ee*32,(Ee+1)*32)}return Ie}const U=_e=>{const Ie=D.from(_e,"binary"),Ee=D.byteLength(Ie);if(Ee===0)throw Error("invalid blob data");if(Ee>g)throw Error("blob data is too large");const $e=Math.ceil(Ee/o),Me=A(Ie,$e),Se=[];for(let j=0;j<$e;j++){const ne=Me.subarray(j*o,(j+1)*o),oe=I(ne);Se.push(oe)}return Se};n.getBlobs=U;const G=_e=>{const Ie=[];for(const Ee of _e)Ie.push(D.from(t.kzg.blobToKzgCommitment(Ee)));return Ie};n.blobsToCommitments=G;const pe=(_e,Ie)=>{const Ee=new Uint8Array(32);return Ee.set([Ie],0),Ee.set((0,e.sha256)(_e).slice(1),1),Ee};n.computeVersionedHash=pe;const le=_e=>{const Ie=[];for(const Ee of _e)Ie.push(D.from((0,n.computeVersionedHash)(Ee,1)));return Ie};n.commitmentsToVersionedHashes=le})(ti);Object.defineProperty(rn,"__esModule",{value:!0});rn.BlobEIP4844Transaction=void 0;const jm=eo,Ge=Ze,yi=Xr,bi=wr,xi=kt,qm=_n,qr=Gr,un=Jt,Zm=ti,uo=5,wi=D.from(uo.toString(16).padStart(2,"0"),"hex"),Km=(n,e,t,r,a)=>{if(!(n.length===e.length&&e.length===t.length))throw new Error("Number of versionedHashes, blobs, and commitments not all equal");try{qm.kzg.verifyAggregateKzgProof(e,t,r)}catch{throw new Error("KZG proof cannot be verified from blobs/commitments")}for(let o=0;o<n.length;o++){const d=(0,Zm.computeVersionedHash)(t[o],a);if(!(0,jm.byteArrayEquals)(d,n[o]))throw new Error(`commitment for blob at index ${o} does not match versionedHash`)}};class yr extends bi.BaseTransaction{constructor(e,t={}){super({...e,type:uo},t);const{chainId:r,accessList:a,maxFeePerGas:o,maxPriorityFeePerGas:d,maxFeePerDataGas:g}=e;if(this.common=this._getCommon(t.common,r),this.chainId=this.common.chainId(),this.common.isActivatedEIP(1559)===!1)throw new Error("EIP-1559 not enabled on Common");if(this.common.isActivatedEIP(4844)===!1)throw new Error("EIP-4844 not enabled on Common");this.activeCapabilities=this.activeCapabilities.concat([1559,2718,2930]);const E=un.AccessLists.getAccessListData(a??[]);if(this.accessList=E.accessList,this.AccessListJSON=E.AccessListJSON,un.AccessLists.verifyAccessList(this.accessList),this.maxFeePerGas=(0,Ge.bufferToBigInt)((0,Ge.toBuffer)(o===""?"0x":o)),this.maxPriorityFeePerGas=(0,Ge.bufferToBigInt)((0,Ge.toBuffer)(d===""?"0x":d)),this._validateCannotExceedMaxInteger({maxFeePerGas:this.maxFeePerGas,maxPriorityFeePerGas:this.maxPriorityFeePerGas}),bi.BaseTransaction._validateNotArray(e),this.gasLimit*this.maxFeePerGas>Ge.MAX_INTEGER){const I=this._errorMsg("gasLimit * maxFeePerGas cannot exceed MAX_INTEGER (2^256-1)");throw new Error(I)}if(this.maxFeePerGas<this.maxPriorityFeePerGas){const I=this._errorMsg("maxFeePerGas cannot be less than maxPriorityFeePerGas (The total must be the larger of the two)");throw new Error(I)}this.maxFeePerDataGas=(0,Ge.bufferToBigInt)((0,Ge.toBuffer)((g??"")===""?"0x":g)),this.versionedHashes=(e.versionedHashes??[]).map(I=>(0,Ge.toBuffer)(I)),this._validateYParity(),this._validateHighS();for(const I of this.versionedHashes){if(I.length!==32){const U=this._errorMsg("versioned hash is invalid length");throw new Error(U)}if(BigInt(I[0])!==this.common.paramByEIP("sharding","blobCommitmentVersionKzg",4844)){const U=this._errorMsg("versioned hash does not start with KZG commitment version");throw new Error(U)}}if(this.versionedHashes.length>xi.LIMIT_BLOBS_PER_TX){const I=this._errorMsg(`tx can contain at most ${xi.LIMIT_BLOBS_PER_TX} blobs`);throw new Error(I)}this.blobs=e.blobs?.map(I=>(0,Ge.toBuffer)(I)),this.kzgCommitments=e.kzgCommitments?.map(I=>(0,Ge.toBuffer)(I)),this.aggregateKzgProof=(0,Ge.toBuffer)(e.kzgProof),(t?.freeze??!0)&&Object.freeze(this)}static fromTxData(e,t){return new yr(e,t)}static minimalFromNetworkWrapper(e,t){return yr.fromTxData({...e,blobs:void 0,kzgCommitments:void 0,kzgProof:void 0},t)}static fromSerializedBlobTxNetworkWrapper(e,t){if(!t||!t.common)throw new Error("common instance required to validate versioned hashes");const r=qr.BlobNetworkTransactionWrapper.deserialize(e.slice(1)),a=r.tx.message,o=Number(t.common.paramByEIP("sharding","blobCommitmentVersionKzg",4844));Km(a.blobVersionedHashes,r.blobs,r.blobKzgs,r.kzgAggregatedProof,o);const d=[];for(const G of a.accessList){const pe=D.from(G.address),le=G.storageKeys.map(Ie=>D.from(Ie)),_e=[pe,le];d.push(_e)}const g=a.to.value===null?void 0:Ge.Address.fromString((0,Ge.bufferToHex)(D.from(a.to.value))),E=a.blobVersionedHashes.map(G=>D.from(G)),A=r.blobKzgs.map(G=>D.from(G)),I=r.blobs.map(G=>D.from(G)),U={...a,versionedHashes:E,accessList:d,to:g,blobs:I,kzgCommitments:A,kzgProof:D.from(r.kzgAggregatedProof),r:r.tx.signature.r,s:r.tx.signature.s,v:BigInt(r.tx.signature.yParity),gasLimit:a.gas,maxFeePerGas:a.maxFeePerGas,maxPriorityFeePerGas:a.maxPriorityFeePerGas};return new yr(U,t)}static fromSerializedTx(e,t){const r=qr.SignedBlobTransactionType.deserialize(e.slice(1)),a=r.message,o=[];for(const A of a.accessList){const I=D.from(A.address),U=A.storageKeys.map(pe=>D.from(pe)),G=[I,U];o.push(G)}const d=a.to.value===null?void 0:Ge.Address.fromString((0,Ge.bufferToHex)(D.from(a.to.value))),g=a.blobVersionedHashes.map(A=>D.from(A)),E={...a,versionedHashes:g,to:d,accessList:o,r:r.signature.r,s:r.signature.s,v:BigInt(r.signature.yParity),gasLimit:r.message.gas};return new yr(E,t)}getUpfrontCost(e=BigInt(0)){const t=this.maxPriorityFeePerGas,r=this.maxFeePerGas-e,o=(t<r?t:r)+e;return this.gasLimit*o+this.value}raw(){throw new Error("Method not implemented.")}toValue(){const e={selector:this.to!==void 0?1:0,value:this.to?.toBuffer()??null};return{message:{chainId:this.common.chainId(),nonce:this.nonce,maxPriorityFeePerGas:this.maxPriorityFeePerGas,maxFeePerGas:this.maxFeePerGas,gas:this.gasLimit,to:e,value:this.value,data:this.data,accessList:this.accessList.map(t=>({address:t[0],storageKeys:t[1]})),blobVersionedHashes:this.versionedHashes,maxFeePerDataGas:this.maxFeePerDataGas},signature:{r:this.r??BigInt(0),s:this.s??BigInt(0),yParity:this.v===BigInt(1)}}}serialize(){const e=qr.SignedBlobTransactionType.serialize(this.toValue());return D.concat([wi,e])}serializeNetworkWrapper(){if(this.blobs===void 0||this.kzgCommitments===void 0||this.aggregateKzgProof===void 0)throw new Error("cannot serialize network wrapper without blobs, KZG commitments and aggregate KZG proof provided");const e={selector:this.to!==void 0?1:0,value:this.to?.toBuffer()??null},t=this.blobs?.map(a=>Uint8Array.from(a))??[],r=qr.BlobNetworkTransactionWrapper.serialize({blobs:t,blobKzgs:this.kzgCommitments?.map(a=>Uint8Array.from(a))??[],tx:{...(0,un.blobTxToNetworkWrapperDataFormat)(this),...e},kzgAggregatedProof:Uint8Array.from(this.aggregateKzgProof??[])});return D.concat([D.from([5]),r])}getMessageToSign(e){return this.unsignedHash()}unsignedHash(){const e=qr.BlobTransactionType.serialize(this.toValue().message);return D.from((0,yi.keccak256)(D.concat([wi,e])))}hash(){return D.from((0,yi.keccak256)(this.serialize()))}getMessageToVerifySignature(){return this.getMessageToSign()}getSenderPublicKey(){if(!this.isSigned()){const o=this._errorMsg("Cannot call this method if transaction is not signed");throw new Error(o)}const e=this.getMessageToVerifySignature(),{v:t,r,s:a}=this;this._validateHighS();try{return(0,Ge.ecrecover)(e,t+BigInt(27),(0,Ge.bigIntToUnpaddedBuffer)(r),(0,Ge.bigIntToUnpaddedBuffer)(a))}catch{const d=this._errorMsg("Invalid Signature");throw new Error(d)}}toJSON(){const e=un.AccessLists.getAccessListJSON(this.accessList);return{chainId:(0,Ge.bigIntToHex)(this.chainId),nonce:(0,Ge.bigIntToHex)(this.nonce),maxPriorityFeePerGas:(0,Ge.bigIntToHex)(this.maxPriorityFeePerGas),maxFeePerGas:(0,Ge.bigIntToHex)(this.maxFeePerGas),gasLimit:(0,Ge.bigIntToHex)(this.gasLimit),to:this.to!==void 0?this.to.toString():void 0,value:(0,Ge.bigIntToHex)(this.value),data:"0x"+this.data.toString("hex"),accessList:e,v:this.v!==void 0?(0,Ge.bigIntToHex)(this.v):void 0,r:this.r!==void 0?(0,Ge.bigIntToHex)(this.r):void 0,s:this.s!==void 0?(0,Ge.bigIntToHex)(this.s):void 0,maxFeePerDataGas:(0,Ge.bigIntToHex)(this.maxFeePerDataGas),versionedHashes:this.versionedHashes.map(t=>(0,Ge.bufferToHex)(t))}}_processSignature(e,t,r){const a={...this.txOptions,common:this.common};return yr.fromTxData({chainId:this.chainId,nonce:this.nonce,maxPriorityFeePerGas:this.maxPriorityFeePerGas,maxFeePerGas:this.maxFeePerGas,gasLimit:this.gasLimit,to:this.to,value:this.value,data:this.data,accessList:this.accessList,v:e-BigInt(27),r:(0,Ge.bufferToBigInt)(t),s:(0,Ge.bufferToBigInt)(r),maxFeePerDataGas:this.maxFeePerDataGas,versionedHashes:this.versionedHashes,blobs:this.blobs,kzgCommitments:this.kzgCommitments,kzgProof:this.aggregateKzgProof},a)}errorStr(){let e=this._getSharedErrorPostfix();return e+=` maxFeePerGas=${this.maxFeePerGas} maxPriorityFeePerGas=${this.maxPriorityFeePerGas}`,e}_errorMsg(e){return`${e} (${this.errorStr()})`}numBlobs(){return this.versionedHashes.length}}rn.BlobEIP4844Transaction=yr;var nn={};Object.defineProperty(nn,"__esModule",{value:!0});nn.Transaction=void 0;const Ir=Wn,Te=Ze,hn=Xr,Ei=wr,Zr=Gr,Vm=0;function Pi(n,e){const t=Number(n),r=Number(e)*2;return t===r+35||t===r+36}class Wr extends Ei.BaseTransaction{constructor(e,t={}){if(super({...e,type:Vm},t),this.common=this._validateTxV(this.v,t.common),this.gasPrice=(0,Te.bufferToBigInt)((0,Te.toBuffer)(e.gasPrice===""?"0x":e.gasPrice)),this.gasPrice*this.gasLimit>Te.MAX_INTEGER){const a=this._errorMsg("gas limit * gasPrice cannot exceed MAX_INTEGER (2^256-1)");throw new Error(a)}this._validateCannotExceedMaxInteger({gasPrice:this.gasPrice}),Ei.BaseTransaction._validateNotArray(e),this.common.gteHardfork("spuriousDragon")&&(this.isSigned()?Pi(this.v,this.common.chainId())&&this.activeCapabilities.push(Zr.Capability.EIP155ReplayProtection):this.activeCapabilities.push(Zr.Capability.EIP155ReplayProtection)),(t?.freeze??!0)&&Object.freeze(this)}static fromTxData(e,t={}){return new Wr(e,t)}static fromSerializedTx(e,t={}){const r=(0,Te.arrToBufArr)(Ir.RLP.decode(Uint8Array.from(e)));if(!Array.isArray(r))throw new Error("Invalid serialized tx input. Must be array");return this.fromValuesArray(r,t)}static fromValuesArray(e,t={}){if(e.length!==6&&e.length!==9)throw new Error("Invalid transaction. Only expecting 6 values (for unsigned tx) or 9 values (for signed tx).");const[r,a,o,d,g,E,A,I,U]=e;return(0,Te.validateNoLeadingZeroes)({nonce:r,gasPrice:a,gasLimit:o,value:g,v:A,r:I,s:U}),new Wr({nonce:r,gasPrice:a,gasLimit:o,to:d,value:g,data:E,v:A,r:I,s:U},t)}raw(){return[(0,Te.bigIntToUnpaddedBuffer)(this.nonce),(0,Te.bigIntToUnpaddedBuffer)(this.gasPrice),(0,Te.bigIntToUnpaddedBuffer)(this.gasLimit),this.to!==void 0?this.to.buf:D.from([]),(0,Te.bigIntToUnpaddedBuffer)(this.value),this.data,this.v!==void 0?(0,Te.bigIntToUnpaddedBuffer)(this.v):D.from([]),this.r!==void 0?(0,Te.bigIntToUnpaddedBuffer)(this.r):D.from([]),this.s!==void 0?(0,Te.bigIntToUnpaddedBuffer)(this.s):D.from([])]}serialize(){return D.from(Ir.RLP.encode((0,Te.bufArrToArr)(this.raw())))}_getMessageToSign(){const e=[(0,Te.bigIntToUnpaddedBuffer)(this.nonce),(0,Te.bigIntToUnpaddedBuffer)(this.gasPrice),(0,Te.bigIntToUnpaddedBuffer)(this.gasLimit),this.to!==void 0?this.to.buf:D.from([]),(0,Te.bigIntToUnpaddedBuffer)(this.value),this.data];return this.supports(Zr.Capability.EIP155ReplayProtection)&&(e.push((0,Te.toBuffer)(this.common.chainId())),e.push((0,Te.unpadBuffer)((0,Te.toBuffer)(0))),e.push((0,Te.unpadBuffer)((0,Te.toBuffer)(0)))),e}getMessageToSign(e=!0){const t=this._getMessageToSign();return e?D.from((0,hn.keccak256)(Ir.RLP.encode((0,Te.bufArrToArr)(t)))):t}getDataFee(){return this.cache.dataFee&&this.cache.dataFee.hardfork===this.common.hardfork()?this.cache.dataFee.value:(Object.isFrozen(this)&&(this.cache.dataFee={value:super.getDataFee(),hardfork:this.common.hardfork()}),super.getDataFee())}getUpfrontCost(){return this.gasLimit*this.gasPrice+this.value}hash(){if(!this.isSigned()){const e=this._errorMsg("Cannot call hash method if transaction is not signed");throw new Error(e)}return Object.isFrozen(this)?(this.cache.hash||(this.cache.hash=D.from((0,hn.keccak256)(Ir.RLP.encode((0,Te.bufArrToArr)(this.raw()))))),this.cache.hash):D.from((0,hn.keccak256)(Ir.RLP.encode((0,Te.bufArrToArr)(this.raw()))))}getMessageToVerifySignature(){if(!this.isSigned()){const t=this._errorMsg("This transaction is not signed");throw new Error(t)}const e=this._getMessageToSign();return D.from((0,hn.keccak256)(Ir.RLP.encode((0,Te.bufArrToArr)(e))))}getSenderPublicKey(){const e=this.getMessageToVerifySignature(),{v:t,r,s:a}=this;this._validateHighS();try{return(0,Te.ecrecover)(e,t,(0,Te.bigIntToUnpaddedBuffer)(r),(0,Te.bigIntToUnpaddedBuffer)(a),this.supports(Zr.Capability.EIP155ReplayProtection)?this.common.chainId():void 0)}catch{const d=this._errorMsg("Invalid Signature");throw new Error(d)}}_processSignature(e,t,r){this.supports(Zr.Capability.EIP155ReplayProtection)&&(e+=this.common.chainId()*BigInt(2)+BigInt(8));const a={...this.txOptions,common:this.common};return Wr.fromTxData({nonce:this.nonce,gasPrice:this.gasPrice,gasLimit:this.gasLimit,to:this.to,value:this.value,data:this.data,v:e,r:(0,Te.bufferToBigInt)(t),s:(0,Te.bufferToBigInt)(r)},a)}toJSON(){return{nonce:(0,Te.bigIntToHex)(this.nonce),gasPrice:(0,Te.bigIntToHex)(this.gasPrice),gasLimit:(0,Te.bigIntToHex)(this.gasLimit),to:this.to!==void 0?this.to.toString():void 0,value:(0,Te.bigIntToHex)(this.value),data:"0x"+this.data.toString("hex"),v:this.v!==void 0?(0,Te.bigIntToHex)(this.v):void 0,r:this.r!==void 0?(0,Te.bigIntToHex)(this.r):void 0,s:this.s!==void 0?(0,Te.bigIntToHex)(this.s):void 0}}_validateTxV(e,t){let r;const a=e!==void 0?Number(e):void 0;if(a!==void 0&&a<37&&a!==27&&a!==28)throw new Error(`Legacy txs need either v = 27/28 or v >= 37 (EIP-155 replay protection), got v = ${a}`);if(a!==void 0&&a!==0&&(!t||t.gteHardfork("spuriousDragon"))&&a!==27&&a!==28)if(t){if(!Pi(BigInt(a),t.chainId()))throw new Error(`Incompatible EIP155-based V ${a} and chain id ${t.chainId()}. See the Common parameter of the Transaction constructor to set the chain id.`)}else{let o;(a-35)%2===0?o=35:o=36,r=BigInt(a-o)/BigInt(2)}return this._getCommon(t,r)}errorStr(){let e=this._getSharedErrorPostfix();return e+=` gasPrice=${this.gasPrice}`,e}_errorMsg(e){return`${e} (${this.errorStr()})`}}nn.Transaction=Wr;var Sn={},In={};Object.defineProperty(In,"__esModule",{value:!0});In.normalizeTxParams=void 0;const $r=Ze,Ym=n=>{const e=Object.assign({},n);return e.gasLimit=(0,$r.toType)(e.gasLimit??e.gas,$r.TypeOutput.BigInt),e.data=e.data===void 0?e.input:e.data,e.gasPrice=e.gasPrice!==void 0?BigInt(e.gasPrice):void 0,e.value=e.value!==void 0?BigInt(e.value):void 0,e.to=e.to!==null&&e.to!==void 0?(0,$r.setLengthLeft)((0,$r.toBuffer)(e.to),20):null,e.v=e.v==="0x0"?"0x":e.v,e.r=e.r==="0x0"?"0x":e.r,e.s=e.s==="0x0"?"0x":e.s,e.v!=="0x"&&(e.v=(0,$r.toType)(e.v,$r.TypeOutput.BigInt)),e};In.normalizeTxParams=Ym;Object.defineProperty(Sn,"__esModule",{value:!0});Sn.TransactionFactory=void 0;const dn=Ze,Mi=Qr,Ti=tn,_i=rn,Wm=In,ln=nn;class bn{constructor(){}static fromTxData(e,t={}){if(!("type"in e)||e.type===void 0)return ln.Transaction.fromTxData(e,t);{const r=Number((0,dn.bufferToBigInt)((0,dn.toBuffer)(e.type)));if(r===0)return ln.Transaction.fromTxData(e,t);if(r===1)return Ti.AccessListEIP2930Transaction.fromTxData(e,t);if(r===2)return Mi.FeeMarketEIP1559Transaction.fromTxData(e,t);if(r===5)return _i.BlobEIP4844Transaction.fromTxData(e,t);throw new Error(`Tx instantiation with type ${r} not supported`)}}static fromSerializedData(e,t={}){if(e[0]<=127)switch(e[0]){case 1:return Ti.AccessListEIP2930Transaction.fromSerializedTx(e,t);case 2:return Mi.FeeMarketEIP1559Transaction.fromSerializedTx(e,t);case 5:return _i.BlobEIP4844Transaction.fromSerializedTx(e,t);default:throw new Error(`TypedTransaction with ID ${e[0]} unknown`)}else return ln.Transaction.fromSerializedTx(e,t)}static fromBlockBodyData(e,t={}){if(D.isBuffer(e))return this.fromSerializedData(e,t);if(Array.isArray(e))return ln.Transaction.fromValuesArray(e,t);throw new Error("Cannot decode transaction: unknown type input")}static async fromEthersProvider(e,t,r){const a=(0,dn.getProvider)(e),o=await(0,dn.fetchFromProvider)(a,{method:"eth_getTransactionByHash",params:[t]});if(o===null)throw new Error("No data returned from provider");return bn.fromRPCTx(o,r)}static async fromRPCTx(e,t={}){return bn.fromTxData((0,Wm.normalizeTxParams)(e),t)}}Sn.TransactionFactory=bn;(function(n){var e=Tt&&Tt.__createBinding||(Object.create?function(I,U,G,pe){pe===void 0&&(pe=G);var le=Object.getOwnPropertyDescriptor(U,G);(!le||("get"in le?!U.__esModule:le.writable||le.configurable))&&(le={enumerable:!0,get:function(){return U[G]}}),Object.defineProperty(I,pe,le)}:function(I,U,G,pe){pe===void 0&&(pe=G),I[pe]=U[G]}),t=Tt&&Tt.__exportStar||function(I,U){for(var G in I)G!=="default"&&!Object.prototype.hasOwnProperty.call(U,G)&&e(U,I,G)};Object.defineProperty(n,"__esModule",{value:!0}),n.computeVersionedHash=n.TransactionFactory=n.Transaction=n.kzg=n.initKZG=n.BlobEIP4844Transaction=n.AccessListEIP2930Transaction=n.FeeMarketEIP1559Transaction=void 0;var r=Qr;Object.defineProperty(n,"FeeMarketEIP1559Transaction",{enumerable:!0,get:function(){return r.FeeMarketEIP1559Transaction}});var a=tn;Object.defineProperty(n,"AccessListEIP2930Transaction",{enumerable:!0,get:function(){return a.AccessListEIP2930Transaction}});var o=rn;Object.defineProperty(n,"BlobEIP4844Transaction",{enumerable:!0,get:function(){return o.BlobEIP4844Transaction}});var d=_n;Object.defineProperty(n,"initKZG",{enumerable:!0,get:function(){return d.initKZG}}),Object.defineProperty(n,"kzg",{enumerable:!0,get:function(){return d.kzg}});var g=nn;Object.defineProperty(n,"Transaction",{enumerable:!0,get:function(){return g.Transaction}});var E=Sn;Object.defineProperty(n,"TransactionFactory",{enumerable:!0,get:function(){return E.TransactionFactory}}),t(Gr,n);var A=ti;Object.defineProperty(n,"computeVersionedHash",{enumerable:!0,get:function(){return A.computeVersionedHash}})})(ao);var Ht={},hr={},St={},ho=function(e){if(typeof e!="string")throw new Error("[is-hex-prefixed] value must be type 'string', is currently type "+typeof e+", while checking isHexPrefixed.");return e.slice(0,2)==="0x"},Jm=ho,Xm=function(e){return typeof e!="string"?e:Jm(e)?e.slice(2):e},Qm=ho,lo=Xm;function $n(n){var e=n;if(typeof e!="string")throw new Error("[ethjs-util] while padding to even, value must be string, is currently "+typeof e+", while padToEven.");return e.length%2&&(e="0"+e),e}function mo(n){var e=n.toString(16);return"0x"+e}function ep(n){var e=mo(n);return new D($n(e.slice(2)),"hex")}function tp(n){if(typeof n!="string")throw new Error("[ethjs-util] while getting binary size, method getBinarySize requires input 'str' to be type String, got '"+typeof n+"'.");return D.byteLength(n,"utf8")}function rp(n,e,t){if(Array.isArray(n)!==!0)throw new Error("[ethjs-util] method arrayContainsArray requires input 'superset' to be an array got type '"+typeof n+"'");if(Array.isArray(e)!==!0)throw new Error("[ethjs-util] method arrayContainsArray requires input 'subset' to be an array got type '"+typeof e+"'");return e[!!t&&"some"||"every"](function(r){return n.indexOf(r)>=0})}function np(n){var e=new D($n(lo(n).replace(/^0+|0+$/g,"")),"hex");return e.toString("utf8")}function ip(n){var e="",t=0,r=n.length;for(n.substring(0,2)==="0x"&&(t=2);t<r;t+=2){var a=parseInt(n.substr(t,2),16);e+=String.fromCharCode(a)}return e}function op(n){var e=new D(n,"utf8");return"0x"+$n(e.toString("hex")).replace(/^0+|0+$/g,"")}function sp(n){for(var e="",t=0;t<n.length;t++){var r=n.charCodeAt(t),a=r.toString(16);e+=a.length<2?"0"+a:a}return"0x"+e}function ap(n,e,t){if(!Array.isArray(n))throw new Error("[ethjs-util] method getKeys expecting type Array as 'params' input, got '"+typeof n+"'");if(typeof e!="string")throw new Error("[ethjs-util] method getKeys expecting type String for input 'key' got '"+typeof e+"'.");for(var r=[],a=0;a<n.length;a++){var o=n[a][e];if(t&&!o)o="";else if(typeof o!="string")throw new Error("invalid abi");r.push(o)}return r}function fp(n,e){return!(typeof n!="string"||!n.match(/^0x[0-9A-Fa-f]*$/)||e&&n.length!==2+2*e)}var ri={arrayContainsArray:rp,intToBuffer:ep,getBinarySize:tp,isHexPrefixed:Qm,stripHexPrefix:lo,padToEven:$n,intToHex:mo,fromAscii:sp,fromUtf8:op,toAscii:ip,toUtf8:np,getKeys:ap,isHexString:fp};Object.defineProperty(St,"__esModule",{value:!0});St.numberToBuffer=St.normalize=St.recoverPublicKey=St.concatSig=St.legacyToBuffer=St.isNullish=St.padWithZeroes=void 0;const jt=Ze,Zn=ri;function Kn(n,e){if(n!==""&&!/^[a-f0-9]+$/iu.test(n))throw new Error(`Expected an unprefixed hex string. Received: ${n}`);if(e<0)throw new Error(`Expected a non-negative integer target length. Received: ${e}`);return String.prototype.padStart.call(n,e,"0")}St.padWithZeroes=Kn;function cp(n){return n==null}St.isNullish=cp;function up(n){return typeof n=="string"&&!(0,Zn.isHexString)(n)?D.from(n):(0,jt.toBuffer)(n)}St.legacyToBuffer=up;function hp(n,e,t){const r=(0,jt.fromSigned)(e),a=(0,jt.fromSigned)(t),o=(0,jt.bufferToInt)(n),d=Kn((0,jt.toUnsigned)(r).toString("hex"),64),g=Kn((0,jt.toUnsigned)(a).toString("hex"),64),E=(0,Zn.stripHexPrefix)((0,Zn.intToHex)(o));return(0,jt.addHexPrefix)(d.concat(g,E))}St.concatSig=hp;function dp(n,e){const t=(0,jt.fromRpcSig)(e);return(0,jt.ecrecover)(n,t.v,t.r,t.s)}St.recoverPublicKey=dp;function lp(n){if(n){if(typeof n=="number"){if(n<0)return"0x";const e=(0,jt.toBuffer)(n);n=(0,jt.bufferToHex)(e)}if(typeof n!="string"){let e="eth-sig-util.normalize() requires hex string or integer input.";throw e+=` received ${typeof n}: ${n}`,new Error(e)}return(0,jt.addHexPrefix)(n.toLowerCase())}}St.normalize=lp;function mp(n){const e=n.toString(16),t=e.length%2?"0":"";return D.from(t+e,"hex")}St.numberToBuffer=mp;Object.defineProperty(hr,"__esModule",{value:!0});hr.extractPublicKey=hr.recoverPersonalSignature=hr.personalSign=void 0;const Hr=Ze,Qt=St;function pp({privateKey:n,data:e}){if((0,Qt.isNullish)(e))throw new Error("Missing data parameter");if((0,Qt.isNullish)(n))throw new Error("Missing privateKey parameter");const t=(0,Qt.legacyToBuffer)(e),r=(0,Hr.hashPersonalMessage)(t),a=(0,Hr.ecsign)(r,n);return(0,Qt.concatSig)((0,Hr.toBuffer)(a.v),a.r,a.s)}hr.personalSign=pp;function gp({data:n,signature:e}){if((0,Qt.isNullish)(n))throw new Error("Missing data parameter");if((0,Qt.isNullish)(e))throw new Error("Missing signature parameter");const t=po(n,e),r=(0,Hr.publicToAddress)(t);return(0,Hr.bufferToHex)(r)}hr.recoverPersonalSignature=gp;function vp({data:n,signature:e}){if((0,Qt.isNullish)(n))throw new Error("Missing data parameter");if((0,Qt.isNullish)(e))throw new Error("Missing signature parameter");return`0x${po(n,e).toString("hex")}`}hr.extractPublicKey=vp;function po(n,e){const t=(0,Hr.hashPersonalMessage)((0,Qt.legacyToBuffer)(n));return(0,Qt.recoverPublicKey)(t,e)}var go={},dr={},ni={exports:{}};ni.exports;(function(n){(function(e,t){function r(y,i){if(!y)throw new Error(i||"Assertion failed")}function a(y,i){y.super_=i;var c=function(){};c.prototype=i.prototype,y.prototype=new c,y.prototype.constructor=y}function o(y,i,c){if(o.isBN(y))return y;this.negative=0,this.words=null,this.length=0,this.red=null,y!==null&&((i==="le"||i==="be")&&(c=i,i=10),this._init(y||0,i||10,c||"be"))}typeof e=="object"?e.exports=o:t.BN=o,o.BN=o,o.wordSize=26;var d;try{typeof window<"u"&&typeof window.Buffer<"u"?d=window.Buffer:d=ss.Buffer}catch{}o.isBN=function(i){return i instanceof o?!0:i!==null&&typeof i=="object"&&i.constructor.wordSize===o.wordSize&&Array.isArray(i.words)},o.max=function(i,c){return i.cmp(c)>0?i:c},o.min=function(i,c){return i.cmp(c)<0?i:c},o.prototype._init=function(i,c,m){if(typeof i=="number")return this._initNumber(i,c,m);if(typeof i=="object")return this._initArray(i,c,m);c==="hex"&&(c=16),r(c===(c|0)&&c>=2&&c<=36),i=i.toString().replace(/\s+/g,"");var v=0;i[0]==="-"&&(v++,this.negative=1),v<i.length&&(c===16?this._parseHex(i,v,m):(this._parseBase(i,c,v),m==="le"&&this._initArray(this.toArray(),c,m)))},o.prototype._initNumber=function(i,c,m){i<0&&(this.negative=1,i=-i),i<67108864?(this.words=[i&67108863],this.length=1):i<4503599627370496?(this.words=[i&67108863,i/67108864&67108863],this.length=2):(r(i<9007199254740992),this.words=[i&67108863,i/67108864&67108863,1],this.length=3),m==="le"&&this._initArray(this.toArray(),c,m)},o.prototype._initArray=function(i,c,m){if(r(typeof i.length=="number"),i.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(i.length/3),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var x,M,_=0;if(m==="be")for(v=i.length-1,x=0;v>=0;v-=3)M=i[v]|i[v-1]<<8|i[v-2]<<16,this.words[x]|=M<<_&67108863,this.words[x+1]=M>>>26-_&67108863,_+=24,_>=26&&(_-=26,x++);else if(m==="le")for(v=0,x=0;v<i.length;v+=3)M=i[v]|i[v+1]<<8|i[v+2]<<16,this.words[x]|=M<<_&67108863,this.words[x+1]=M>>>26-_&67108863,_+=24,_>=26&&(_-=26,x++);return this.strip()};function g(y,i){var c=y.charCodeAt(i);return c>=65&&c<=70?c-55:c>=97&&c<=102?c-87:c-48&15}function E(y,i,c){var m=g(y,c);return c-1>=i&&(m|=g(y,c-1)<<4),m}o.prototype._parseHex=function(i,c,m){this.length=Math.ceil((i.length-c)/6),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var x=0,M=0,_;if(m==="be")for(v=i.length-1;v>=c;v-=2)_=E(i,c,v)<<x,this.words[M]|=_&67108863,x>=18?(x-=18,M+=1,this.words[M]|=_>>>26):x+=8;else{var b=i.length-c;for(v=b%2===0?c+1:c;v<i.length;v+=2)_=E(i,c,v)<<x,this.words[M]|=_&67108863,x>=18?(x-=18,M+=1,this.words[M]|=_>>>26):x+=8}this.strip()};function A(y,i,c,m){for(var v=0,x=Math.min(y.length,c),M=i;M<x;M++){var _=y.charCodeAt(M)-48;v*=m,_>=49?v+=_-49+10:_>=17?v+=_-17+10:v+=_}return v}o.prototype._parseBase=function(i,c,m){this.words=[0],this.length=1;for(var v=0,x=1;x<=67108863;x*=c)v++;v--,x=x/c|0;for(var M=i.length-m,_=M%v,b=Math.min(M,M-_)+m,f=0,w=m;w<b;w+=v)f=A(i,w,w+v,c),this.imuln(x),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f);if(_!==0){var re=1;for(f=A(i,w,i.length,c),w=0;w<_;w++)re*=c;this.imuln(re),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f)}this.strip()},o.prototype.copy=function(i){i.words=new Array(this.length);for(var c=0;c<this.length;c++)i.words[c]=this.words[c];i.length=this.length,i.negative=this.negative,i.red=this.red},o.prototype.clone=function(){var i=new o(null);return this.copy(i),i},o.prototype._expand=function(i){for(;this.length<i;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var I=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],U=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],G=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(i,c){i=i||10,c=c|0||1;var m;if(i===16||i==="hex"){m="";for(var v=0,x=0,M=0;M<this.length;M++){var _=this.words[M],b=((_<<v|x)&16777215).toString(16);x=_>>>24-v&16777215,x!==0||M!==this.length-1?m=I[6-b.length]+b+m:m=b+m,v+=2,v>=26&&(v-=26,M--)}for(x!==0&&(m=x.toString(16)+m);m.length%c!==0;)m="0"+m;return this.negative!==0&&(m="-"+m),m}if(i===(i|0)&&i>=2&&i<=36){var f=U[i],w=G[i];m="";var re=this.clone();for(re.negative=0;!re.isZero();){var W=re.modn(w).toString(i);re=re.idivn(w),re.isZero()?m=W+m:m=I[f-W.length]+W+m}for(this.isZero()&&(m="0"+m);m.length%c!==0;)m="0"+m;return this.negative!==0&&(m="-"+m),m}r(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var i=this.words[0];return this.length===2?i+=this.words[1]*67108864:this.length===3&&this.words[2]===1?i+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-i:i},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(i,c){return r(typeof d<"u"),this.toArrayLike(d,i,c)},o.prototype.toArray=function(i,c){return this.toArrayLike(Array,i,c)},o.prototype.toArrayLike=function(i,c,m){var v=this.byteLength(),x=m||Math.max(1,v);r(v<=x,"byte array longer than desired length"),r(x>0,"Requested array length <= 0"),this.strip();var M=c==="le",_=new i(x),b,f,w=this.clone();if(M){for(f=0;!w.isZero();f++)b=w.andln(255),w.iushrn(8),_[f]=b;for(;f<x;f++)_[f]=0}else{for(f=0;f<x-v;f++)_[f]=0;for(f=0;!w.isZero();f++)b=w.andln(255),w.iushrn(8),_[x-f-1]=b}return _},Math.clz32?o.prototype._countBits=function(i){return 32-Math.clz32(i)}:o.prototype._countBits=function(i){var c=i,m=0;return c>=4096&&(m+=13,c>>>=13),c>=64&&(m+=7,c>>>=7),c>=8&&(m+=4,c>>>=4),c>=2&&(m+=2,c>>>=2),m+c},o.prototype._zeroBits=function(i){if(i===0)return 26;var c=i,m=0;return c&8191||(m+=13,c>>>=13),c&127||(m+=7,c>>>=7),c&15||(m+=4,c>>>=4),c&3||(m+=2,c>>>=2),c&1||m++,m},o.prototype.bitLength=function(){var i=this.words[this.length-1],c=this._countBits(i);return(this.length-1)*26+c};function pe(y){for(var i=new Array(y.bitLength()),c=0;c<i.length;c++){var m=c/26|0,v=c%26;i[c]=(y.words[m]&1<<v)>>>v}return i}o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var i=0,c=0;c<this.length;c++){var m=this._zeroBits(this.words[c]);if(i+=m,m!==26)break}return i},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(i){return this.negative!==0?this.abs().inotn(i).iaddn(1):this.clone()},o.prototype.fromTwos=function(i){return this.testn(i-1)?this.notn(i).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(i){for(;this.length<i.length;)this.words[this.length++]=0;for(var c=0;c<i.length;c++)this.words[c]=this.words[c]|i.words[c];return this.strip()},o.prototype.ior=function(i){return r((this.negative|i.negative)===0),this.iuor(i)},o.prototype.or=function(i){return this.length>i.length?this.clone().ior(i):i.clone().ior(this)},o.prototype.uor=function(i){return this.length>i.length?this.clone().iuor(i):i.clone().iuor(this)},o.prototype.iuand=function(i){var c;this.length>i.length?c=i:c=this;for(var m=0;m<c.length;m++)this.words[m]=this.words[m]&i.words[m];return this.length=c.length,this.strip()},o.prototype.iand=function(i){return r((this.negative|i.negative)===0),this.iuand(i)},o.prototype.and=function(i){return this.length>i.length?this.clone().iand(i):i.clone().iand(this)},o.prototype.uand=function(i){return this.length>i.length?this.clone().iuand(i):i.clone().iuand(this)},o.prototype.iuxor=function(i){var c,m;this.length>i.length?(c=this,m=i):(c=i,m=this);for(var v=0;v<m.length;v++)this.words[v]=c.words[v]^m.words[v];if(this!==c)for(;v<c.length;v++)this.words[v]=c.words[v];return this.length=c.length,this.strip()},o.prototype.ixor=function(i){return r((this.negative|i.negative)===0),this.iuxor(i)},o.prototype.xor=function(i){return this.length>i.length?this.clone().ixor(i):i.clone().ixor(this)},o.prototype.uxor=function(i){return this.length>i.length?this.clone().iuxor(i):i.clone().iuxor(this)},o.prototype.inotn=function(i){r(typeof i=="number"&&i>=0);var c=Math.ceil(i/26)|0,m=i%26;this._expand(c),m>0&&c--;for(var v=0;v<c;v++)this.words[v]=~this.words[v]&67108863;return m>0&&(this.words[v]=~this.words[v]&67108863>>26-m),this.strip()},o.prototype.notn=function(i){return this.clone().inotn(i)},o.prototype.setn=function(i,c){r(typeof i=="number"&&i>=0);var m=i/26|0,v=i%26;return this._expand(m+1),c?this.words[m]=this.words[m]|1<<v:this.words[m]=this.words[m]&~(1<<v),this.strip()},o.prototype.iadd=function(i){var c;if(this.negative!==0&&i.negative===0)return this.negative=0,c=this.isub(i),this.negative^=1,this._normSign();if(this.negative===0&&i.negative!==0)return i.negative=0,c=this.isub(i),i.negative=1,c._normSign();var m,v;this.length>i.length?(m=this,v=i):(m=i,v=this);for(var x=0,M=0;M<v.length;M++)c=(m.words[M]|0)+(v.words[M]|0)+x,this.words[M]=c&67108863,x=c>>>26;for(;x!==0&&M<m.length;M++)c=(m.words[M]|0)+x,this.words[M]=c&67108863,x=c>>>26;if(this.length=m.length,x!==0)this.words[this.length]=x,this.length++;else if(m!==this)for(;M<m.length;M++)this.words[M]=m.words[M];return this},o.prototype.add=function(i){var c;return i.negative!==0&&this.negative===0?(i.negative=0,c=this.sub(i),i.negative^=1,c):i.negative===0&&this.negative!==0?(this.negative=0,c=i.sub(this),this.negative=1,c):this.length>i.length?this.clone().iadd(i):i.clone().iadd(this)},o.prototype.isub=function(i){if(i.negative!==0){i.negative=0;var c=this.iadd(i);return i.negative=1,c._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(i),this.negative=1,this._normSign();var m=this.cmp(i);if(m===0)return this.negative=0,this.length=1,this.words[0]=0,this;var v,x;m>0?(v=this,x=i):(v=i,x=this);for(var M=0,_=0;_<x.length;_++)c=(v.words[_]|0)-(x.words[_]|0)+M,M=c>>26,this.words[_]=c&67108863;for(;M!==0&&_<v.length;_++)c=(v.words[_]|0)+M,M=c>>26,this.words[_]=c&67108863;if(M===0&&_<v.length&&v!==this)for(;_<v.length;_++)this.words[_]=v.words[_];return this.length=Math.max(this.length,_),v!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(i){return this.clone().isub(i)};function le(y,i,c){c.negative=i.negative^y.negative;var m=y.length+i.length|0;c.length=m,m=m-1|0;var v=y.words[0]|0,x=i.words[0]|0,M=v*x,_=M&67108863,b=M/67108864|0;c.words[0]=_;for(var f=1;f<m;f++){for(var w=b>>>26,re=b&67108863,W=Math.min(f,i.length-1),Q=Math.max(0,f-y.length+1);Q<=W;Q++){var q=f-Q|0;v=y.words[q]|0,x=i.words[Q]|0,M=v*x+re,w+=M/67108864|0,re=M&67108863}c.words[f]=re|0,b=w|0}return b!==0?c.words[f]=b|0:c.length--,c.strip()}var _e=function(i,c,m){var v=i.words,x=c.words,M=m.words,_=0,b,f,w,re=v[0]|0,W=re&8191,Q=re>>>13,q=v[1]|0,ge=q&8191,ze=q>>>13,Vt=v[2]|0,De=Vt&8191,Ue=Vt>>>13,Rr=v[3]|0,et=Rr&8191,ht=Rr>>>13,sn=v[4]|0,gt=sn&8191,vt=sn>>>13,zr=v[5]|0,dt=zr&8191,Ke=zr>>>13,mr=v[6]|0,lt=mr&8191,it=mr>>>13,Pr=v[7]|0,tt=Pr&8191,ot=Pr>>>13,pr=v[8]|0,st=pr&8191,at=pr>>>13,Ur=v[9]|0,yt=Ur&8191,ft=Ur>>>13,Mr=x[0]|0,rt=Mr&8191,Je=Mr>>>13,rr=x[1]|0,Xe=rr&8191,nt=rr>>>13,or=x[2]|0,Qe=or&8191,ct=or>>>13,jr=x[3]|0,bt=jr&8191,xt=jr>>>13,Ut=x[4]|0,Ve=Ut&8191,Ye=Ut>>>13,Tr=x[5]|0,ut=Tr&8191,mt=Tr>>>13,an=x[6]|0,ke=an&8191,pt=an>>>13,u=x[7]|0,l=u&8191,h=u>>>13,s=x[8]|0,p=s&8191,T=s>>>13,S=x[9]|0,B=S&8191,N=S>>>13;m.negative=i.negative^c.negative,m.length=19,b=Math.imul(W,rt),f=Math.imul(W,Je),f=f+Math.imul(Q,rt)|0,w=Math.imul(Q,Je);var te=(_+b|0)+((f&8191)<<13)|0;_=(w+(f>>>13)|0)+(te>>>26)|0,te&=67108863,b=Math.imul(ge,rt),f=Math.imul(ge,Je),f=f+Math.imul(ze,rt)|0,w=Math.imul(ze,Je),b=b+Math.imul(W,Xe)|0,f=f+Math.imul(W,nt)|0,f=f+Math.imul(Q,Xe)|0,w=w+Math.imul(Q,nt)|0;var K=(_+b|0)+((f&8191)<<13)|0;_=(w+(f>>>13)|0)+(K>>>26)|0,K&=67108863,b=Math.imul(De,rt),f=Math.imul(De,Je),f=f+Math.imul(Ue,rt)|0,w=Math.imul(Ue,Je),b=b+Math.imul(ge,Xe)|0,f=f+Math.imul(ge,nt)|0,f=f+Math.imul(ze,Xe)|0,w=w+Math.imul(ze,nt)|0,b=b+Math.imul(W,Qe)|0,f=f+Math.imul(W,ct)|0,f=f+Math.imul(Q,Qe)|0,w=w+Math.imul(Q,ct)|0;var Ae=(_+b|0)+((f&8191)<<13)|0;_=(w+(f>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,b=Math.imul(et,rt),f=Math.imul(et,Je),f=f+Math.imul(ht,rt)|0,w=Math.imul(ht,Je),b=b+Math.imul(De,Xe)|0,f=f+Math.imul(De,nt)|0,f=f+Math.imul(Ue,Xe)|0,w=w+Math.imul(Ue,nt)|0,b=b+Math.imul(ge,Qe)|0,f=f+Math.imul(ge,ct)|0,f=f+Math.imul(ze,Qe)|0,w=w+Math.imul(ze,ct)|0,b=b+Math.imul(W,bt)|0,f=f+Math.imul(W,xt)|0,f=f+Math.imul(Q,bt)|0,w=w+Math.imul(Q,xt)|0;var Y=(_+b|0)+((f&8191)<<13)|0;_=(w+(f>>>13)|0)+(Y>>>26)|0,Y&=67108863,b=Math.imul(gt,rt),f=Math.imul(gt,Je),f=f+Math.imul(vt,rt)|0,w=Math.imul(vt,Je),b=b+Math.imul(et,Xe)|0,f=f+Math.imul(et,nt)|0,f=f+Math.imul(ht,Xe)|0,w=w+Math.imul(ht,nt)|0,b=b+Math.imul(De,Qe)|0,f=f+Math.imul(De,ct)|0,f=f+Math.imul(Ue,Qe)|0,w=w+Math.imul(Ue,ct)|0,b=b+Math.imul(ge,bt)|0,f=f+Math.imul(ge,xt)|0,f=f+Math.imul(ze,bt)|0,w=w+Math.imul(ze,xt)|0,b=b+Math.imul(W,Ve)|0,f=f+Math.imul(W,Ye)|0,f=f+Math.imul(Q,Ve)|0,w=w+Math.imul(Q,Ye)|0;var ae=(_+b|0)+((f&8191)<<13)|0;_=(w+(f>>>13)|0)+(ae>>>26)|0,ae&=67108863,b=Math.imul(dt,rt),f=Math.imul(dt,Je),f=f+Math.imul(Ke,rt)|0,w=Math.imul(Ke,Je),b=b+Math.imul(gt,Xe)|0,f=f+Math.imul(gt,nt)|0,f=f+Math.imul(vt,Xe)|0,w=w+Math.imul(vt,nt)|0,b=b+Math.imul(et,Qe)|0,f=f+Math.imul(et,ct)|0,f=f+Math.imul(ht,Qe)|0,w=w+Math.imul(ht,ct)|0,b=b+Math.imul(De,bt)|0,f=f+Math.imul(De,xt)|0,f=f+Math.imul(Ue,bt)|0,w=w+Math.imul(Ue,xt)|0,b=b+Math.imul(ge,Ve)|0,f=f+Math.imul(ge,Ye)|0,f=f+Math.imul(ze,Ve)|0,w=w+Math.imul(ze,Ye)|0,b=b+Math.imul(W,ut)|0,f=f+Math.imul(W,mt)|0,f=f+Math.imul(Q,ut)|0,w=w+Math.imul(Q,mt)|0;var fe=(_+b|0)+((f&8191)<<13)|0;_=(w+(f>>>13)|0)+(fe>>>26)|0,fe&=67108863,b=Math.imul(lt,rt),f=Math.imul(lt,Je),f=f+Math.imul(it,rt)|0,w=Math.imul(it,Je),b=b+Math.imul(dt,Xe)|0,f=f+Math.imul(dt,nt)|0,f=f+Math.imul(Ke,Xe)|0,w=w+Math.imul(Ke,nt)|0,b=b+Math.imul(gt,Qe)|0,f=f+Math.imul(gt,ct)|0,f=f+Math.imul(vt,Qe)|0,w=w+Math.imul(vt,ct)|0,b=b+Math.imul(et,bt)|0,f=f+Math.imul(et,xt)|0,f=f+Math.imul(ht,bt)|0,w=w+Math.imul(ht,xt)|0,b=b+Math.imul(De,Ve)|0,f=f+Math.imul(De,Ye)|0,f=f+Math.imul(Ue,Ve)|0,w=w+Math.imul(Ue,Ye)|0,b=b+Math.imul(ge,ut)|0,f=f+Math.imul(ge,mt)|0,f=f+Math.imul(ze,ut)|0,w=w+Math.imul(ze,mt)|0,b=b+Math.imul(W,ke)|0,f=f+Math.imul(W,pt)|0,f=f+Math.imul(Q,ke)|0,w=w+Math.imul(Q,pt)|0;var me=(_+b|0)+((f&8191)<<13)|0;_=(w+(f>>>13)|0)+(me>>>26)|0,me&=67108863,b=Math.imul(tt,rt),f=Math.imul(tt,Je),f=f+Math.imul(ot,rt)|0,w=Math.imul(ot,Je),b=b+Math.imul(lt,Xe)|0,f=f+Math.imul(lt,nt)|0,f=f+Math.imul(it,Xe)|0,w=w+Math.imul(it,nt)|0,b=b+Math.imul(dt,Qe)|0,f=f+Math.imul(dt,ct)|0,f=f+Math.imul(Ke,Qe)|0,w=w+Math.imul(Ke,ct)|0,b=b+Math.imul(gt,bt)|0,f=f+Math.imul(gt,xt)|0,f=f+Math.imul(vt,bt)|0,w=w+Math.imul(vt,xt)|0,b=b+Math.imul(et,Ve)|0,f=f+Math.imul(et,Ye)|0,f=f+Math.imul(ht,Ve)|0,w=w+Math.imul(ht,Ye)|0,b=b+Math.imul(De,ut)|0,f=f+Math.imul(De,mt)|0,f=f+Math.imul(Ue,ut)|0,w=w+Math.imul(Ue,mt)|0,b=b+Math.imul(ge,ke)|0,f=f+Math.imul(ge,pt)|0,f=f+Math.imul(ze,ke)|0,w=w+Math.imul(ze,pt)|0,b=b+Math.imul(W,l)|0,f=f+Math.imul(W,h)|0,f=f+Math.imul(Q,l)|0,w=w+Math.imul(Q,h)|0;var de=(_+b|0)+((f&8191)<<13)|0;_=(w+(f>>>13)|0)+(de>>>26)|0,de&=67108863,b=Math.imul(st,rt),f=Math.imul(st,Je),f=f+Math.imul(at,rt)|0,w=Math.imul(at,Je),b=b+Math.imul(tt,Xe)|0,f=f+Math.imul(tt,nt)|0,f=f+Math.imul(ot,Xe)|0,w=w+Math.imul(ot,nt)|0,b=b+Math.imul(lt,Qe)|0,f=f+Math.imul(lt,ct)|0,f=f+Math.imul(it,Qe)|0,w=w+Math.imul(it,ct)|0,b=b+Math.imul(dt,bt)|0,f=f+Math.imul(dt,xt)|0,f=f+Math.imul(Ke,bt)|0,w=w+Math.imul(Ke,xt)|0,b=b+Math.imul(gt,Ve)|0,f=f+Math.imul(gt,Ye)|0,f=f+Math.imul(vt,Ve)|0,w=w+Math.imul(vt,Ye)|0,b=b+Math.imul(et,ut)|0,f=f+Math.imul(et,mt)|0,f=f+Math.imul(ht,ut)|0,w=w+Math.imul(ht,mt)|0,b=b+Math.imul(De,ke)|0,f=f+Math.imul(De,pt)|0,f=f+Math.imul(Ue,ke)|0,w=w+Math.imul(Ue,pt)|0,b=b+Math.imul(ge,l)|0,f=f+Math.imul(ge,h)|0,f=f+Math.imul(ze,l)|0,w=w+Math.imul(ze,h)|0,b=b+Math.imul(W,p)|0,f=f+Math.imul(W,T)|0,f=f+Math.imul(Q,p)|0,w=w+Math.imul(Q,T)|0;var ce=(_+b|0)+((f&8191)<<13)|0;_=(w+(f>>>13)|0)+(ce>>>26)|0,ce&=67108863,b=Math.imul(yt,rt),f=Math.imul(yt,Je),f=f+Math.imul(ft,rt)|0,w=Math.imul(ft,Je),b=b+Math.imul(st,Xe)|0,f=f+Math.imul(st,nt)|0,f=f+Math.imul(at,Xe)|0,w=w+Math.imul(at,nt)|0,b=b+Math.imul(tt,Qe)|0,f=f+Math.imul(tt,ct)|0,f=f+Math.imul(ot,Qe)|0,w=w+Math.imul(ot,ct)|0,b=b+Math.imul(lt,bt)|0,f=f+Math.imul(lt,xt)|0,f=f+Math.imul(it,bt)|0,w=w+Math.imul(it,xt)|0,b=b+Math.imul(dt,Ve)|0,f=f+Math.imul(dt,Ye)|0,f=f+Math.imul(Ke,Ve)|0,w=w+Math.imul(Ke,Ye)|0,b=b+Math.imul(gt,ut)|0,f=f+Math.imul(gt,mt)|0,f=f+Math.imul(vt,ut)|0,w=w+Math.imul(vt,mt)|0,b=b+Math.imul(et,ke)|0,f=f+Math.imul(et,pt)|0,f=f+Math.imul(ht,ke)|0,w=w+Math.imul(ht,pt)|0,b=b+Math.imul(De,l)|0,f=f+Math.imul(De,h)|0,f=f+Math.imul(Ue,l)|0,w=w+Math.imul(Ue,h)|0,b=b+Math.imul(ge,p)|0,f=f+Math.imul(ge,T)|0,f=f+Math.imul(ze,p)|0,w=w+Math.imul(ze,T)|0,b=b+Math.imul(W,B)|0,f=f+Math.imul(W,N)|0,f=f+Math.imul(Q,B)|0,w=w+Math.imul(Q,N)|0;var he=(_+b|0)+((f&8191)<<13)|0;_=(w+(f>>>13)|0)+(he>>>26)|0,he&=67108863,b=Math.imul(yt,Xe),f=Math.imul(yt,nt),f=f+Math.imul(ft,Xe)|0,w=Math.imul(ft,nt),b=b+Math.imul(st,Qe)|0,f=f+Math.imul(st,ct)|0,f=f+Math.imul(at,Qe)|0,w=w+Math.imul(at,ct)|0,b=b+Math.imul(tt,bt)|0,f=f+Math.imul(tt,xt)|0,f=f+Math.imul(ot,bt)|0,w=w+Math.imul(ot,xt)|0,b=b+Math.imul(lt,Ve)|0,f=f+Math.imul(lt,Ye)|0,f=f+Math.imul(it,Ve)|0,w=w+Math.imul(it,Ye)|0,b=b+Math.imul(dt,ut)|0,f=f+Math.imul(dt,mt)|0,f=f+Math.imul(Ke,ut)|0,w=w+Math.imul(Ke,mt)|0,b=b+Math.imul(gt,ke)|0,f=f+Math.imul(gt,pt)|0,f=f+Math.imul(vt,ke)|0,w=w+Math.imul(vt,pt)|0,b=b+Math.imul(et,l)|0,f=f+Math.imul(et,h)|0,f=f+Math.imul(ht,l)|0,w=w+Math.imul(ht,h)|0,b=b+Math.imul(De,p)|0,f=f+Math.imul(De,T)|0,f=f+Math.imul(Ue,p)|0,w=w+Math.imul(Ue,T)|0,b=b+Math.imul(ge,B)|0,f=f+Math.imul(ge,N)|0,f=f+Math.imul(ze,B)|0,w=w+Math.imul(ze,N)|0;var ue=(_+b|0)+((f&8191)<<13)|0;_=(w+(f>>>13)|0)+(ue>>>26)|0,ue&=67108863,b=Math.imul(yt,Qe),f=Math.imul(yt,ct),f=f+Math.imul(ft,Qe)|0,w=Math.imul(ft,ct),b=b+Math.imul(st,bt)|0,f=f+Math.imul(st,xt)|0,f=f+Math.imul(at,bt)|0,w=w+Math.imul(at,xt)|0,b=b+Math.imul(tt,Ve)|0,f=f+Math.imul(tt,Ye)|0,f=f+Math.imul(ot,Ve)|0,w=w+Math.imul(ot,Ye)|0,b=b+Math.imul(lt,ut)|0,f=f+Math.imul(lt,mt)|0,f=f+Math.imul(it,ut)|0,w=w+Math.imul(it,mt)|0,b=b+Math.imul(dt,ke)|0,f=f+Math.imul(dt,pt)|0,f=f+Math.imul(Ke,ke)|0,w=w+Math.imul(Ke,pt)|0,b=b+Math.imul(gt,l)|0,f=f+Math.imul(gt,h)|0,f=f+Math.imul(vt,l)|0,w=w+Math.imul(vt,h)|0,b=b+Math.imul(et,p)|0,f=f+Math.imul(et,T)|0,f=f+Math.imul(ht,p)|0,w=w+Math.imul(ht,T)|0,b=b+Math.imul(De,B)|0,f=f+Math.imul(De,N)|0,f=f+Math.imul(Ue,B)|0,w=w+Math.imul(Ue,N)|0;var J=(_+b|0)+((f&8191)<<13)|0;_=(w+(f>>>13)|0)+(J>>>26)|0,J&=67108863,b=Math.imul(yt,bt),f=Math.imul(yt,xt),f=f+Math.imul(ft,bt)|0,w=Math.imul(ft,xt),b=b+Math.imul(st,Ve)|0,f=f+Math.imul(st,Ye)|0,f=f+Math.imul(at,Ve)|0,w=w+Math.imul(at,Ye)|0,b=b+Math.imul(tt,ut)|0,f=f+Math.imul(tt,mt)|0,f=f+Math.imul(ot,ut)|0,w=w+Math.imul(ot,mt)|0,b=b+Math.imul(lt,ke)|0,f=f+Math.imul(lt,pt)|0,f=f+Math.imul(it,ke)|0,w=w+Math.imul(it,pt)|0,b=b+Math.imul(dt,l)|0,f=f+Math.imul(dt,h)|0,f=f+Math.imul(Ke,l)|0,w=w+Math.imul(Ke,h)|0,b=b+Math.imul(gt,p)|0,f=f+Math.imul(gt,T)|0,f=f+Math.imul(vt,p)|0,w=w+Math.imul(vt,T)|0,b=b+Math.imul(et,B)|0,f=f+Math.imul(et,N)|0,f=f+Math.imul(ht,B)|0,w=w+Math.imul(ht,N)|0;var ie=(_+b|0)+((f&8191)<<13)|0;_=(w+(f>>>13)|0)+(ie>>>26)|0,ie&=67108863,b=Math.imul(yt,Ve),f=Math.imul(yt,Ye),f=f+Math.imul(ft,Ve)|0,w=Math.imul(ft,Ye),b=b+Math.imul(st,ut)|0,f=f+Math.imul(st,mt)|0,f=f+Math.imul(at,ut)|0,w=w+Math.imul(at,mt)|0,b=b+Math.imul(tt,ke)|0,f=f+Math.imul(tt,pt)|0,f=f+Math.imul(ot,ke)|0,w=w+Math.imul(ot,pt)|0,b=b+Math.imul(lt,l)|0,f=f+Math.imul(lt,h)|0,f=f+Math.imul(it,l)|0,w=w+Math.imul(it,h)|0,b=b+Math.imul(dt,p)|0,f=f+Math.imul(dt,T)|0,f=f+Math.imul(Ke,p)|0,w=w+Math.imul(Ke,T)|0,b=b+Math.imul(gt,B)|0,f=f+Math.imul(gt,N)|0,f=f+Math.imul(vt,B)|0,w=w+Math.imul(vt,N)|0;var V=(_+b|0)+((f&8191)<<13)|0;_=(w+(f>>>13)|0)+(V>>>26)|0,V&=67108863,b=Math.imul(yt,ut),f=Math.imul(yt,mt),f=f+Math.imul(ft,ut)|0,w=Math.imul(ft,mt),b=b+Math.imul(st,ke)|0,f=f+Math.imul(st,pt)|0,f=f+Math.imul(at,ke)|0,w=w+Math.imul(at,pt)|0,b=b+Math.imul(tt,l)|0,f=f+Math.imul(tt,h)|0,f=f+Math.imul(ot,l)|0,w=w+Math.imul(ot,h)|0,b=b+Math.imul(lt,p)|0,f=f+Math.imul(lt,T)|0,f=f+Math.imul(it,p)|0,w=w+Math.imul(it,T)|0,b=b+Math.imul(dt,B)|0,f=f+Math.imul(dt,N)|0,f=f+Math.imul(Ke,B)|0,w=w+Math.imul(Ke,N)|0;var X=(_+b|0)+((f&8191)<<13)|0;_=(w+(f>>>13)|0)+(X>>>26)|0,X&=67108863,b=Math.imul(yt,ke),f=Math.imul(yt,pt),f=f+Math.imul(ft,ke)|0,w=Math.imul(ft,pt),b=b+Math.imul(st,l)|0,f=f+Math.imul(st,h)|0,f=f+Math.imul(at,l)|0,w=w+Math.imul(at,h)|0,b=b+Math.imul(tt,p)|0,f=f+Math.imul(tt,T)|0,f=f+Math.imul(ot,p)|0,w=w+Math.imul(ot,T)|0,b=b+Math.imul(lt,B)|0,f=f+Math.imul(lt,N)|0,f=f+Math.imul(it,B)|0,w=w+Math.imul(it,N)|0;var ee=(_+b|0)+((f&8191)<<13)|0;_=(w+(f>>>13)|0)+(ee>>>26)|0,ee&=67108863,b=Math.imul(yt,l),f=Math.imul(yt,h),f=f+Math.imul(ft,l)|0,w=Math.imul(ft,h),b=b+Math.imul(st,p)|0,f=f+Math.imul(st,T)|0,f=f+Math.imul(at,p)|0,w=w+Math.imul(at,T)|0,b=b+Math.imul(tt,B)|0,f=f+Math.imul(tt,N)|0,f=f+Math.imul(ot,B)|0,w=w+Math.imul(ot,N)|0;var Z=(_+b|0)+((f&8191)<<13)|0;_=(w+(f>>>13)|0)+(Z>>>26)|0,Z&=67108863,b=Math.imul(yt,p),f=Math.imul(yt,T),f=f+Math.imul(ft,p)|0,w=Math.imul(ft,T),b=b+Math.imul(st,B)|0,f=f+Math.imul(st,N)|0,f=f+Math.imul(at,B)|0,w=w+Math.imul(at,N)|0;var $=(_+b|0)+((f&8191)<<13)|0;_=(w+(f>>>13)|0)+($>>>26)|0,$&=67108863,b=Math.imul(yt,B),f=Math.imul(yt,N),f=f+Math.imul(ft,B)|0,w=Math.imul(ft,N);var k=(_+b|0)+((f&8191)<<13)|0;return _=(w+(f>>>13)|0)+(k>>>26)|0,k&=67108863,M[0]=te,M[1]=K,M[2]=Ae,M[3]=Y,M[4]=ae,M[5]=fe,M[6]=me,M[7]=de,M[8]=ce,M[9]=he,M[10]=ue,M[11]=J,M[12]=ie,M[13]=V,M[14]=X,M[15]=ee,M[16]=Z,M[17]=$,M[18]=k,_!==0&&(M[19]=_,m.length++),m};Math.imul||(_e=le);function Ie(y,i,c){c.negative=i.negative^y.negative,c.length=y.length+i.length;for(var m=0,v=0,x=0;x<c.length-1;x++){var M=v;v=0;for(var _=m&67108863,b=Math.min(x,i.length-1),f=Math.max(0,x-y.length+1);f<=b;f++){var w=x-f,re=y.words[w]|0,W=i.words[f]|0,Q=re*W,q=Q&67108863;M=M+(Q/67108864|0)|0,q=q+_|0,_=q&67108863,M=M+(q>>>26)|0,v+=M>>>26,M&=67108863}c.words[x]=_,m=M,M=v}return m!==0?c.words[x]=m:c.length--,c.strip()}function Ee(y,i,c){var m=new $e;return m.mulp(y,i,c)}o.prototype.mulTo=function(i,c){var m,v=this.length+i.length;return this.length===10&&i.length===10?m=_e(this,i,c):v<63?m=le(this,i,c):v<1024?m=Ie(this,i,c):m=Ee(this,i,c),m};function $e(y,i){this.x=y,this.y=i}$e.prototype.makeRBT=function(i){for(var c=new Array(i),m=o.prototype._countBits(i)-1,v=0;v<i;v++)c[v]=this.revBin(v,m,i);return c},$e.prototype.revBin=function(i,c,m){if(i===0||i===m-1)return i;for(var v=0,x=0;x<c;x++)v|=(i&1)<<c-x-1,i>>=1;return v},$e.prototype.permute=function(i,c,m,v,x,M){for(var _=0;_<M;_++)v[_]=c[i[_]],x[_]=m[i[_]]},$e.prototype.transform=function(i,c,m,v,x,M){this.permute(M,i,c,m,v,x);for(var _=1;_<x;_<<=1)for(var b=_<<1,f=Math.cos(2*Math.PI/b),w=Math.sin(2*Math.PI/b),re=0;re<x;re+=b)for(var W=f,Q=w,q=0;q<_;q++){var ge=m[re+q],ze=v[re+q],Vt=m[re+q+_],De=v[re+q+_],Ue=W*Vt-Q*De;De=W*De+Q*Vt,Vt=Ue,m[re+q]=ge+Vt,v[re+q]=ze+De,m[re+q+_]=ge-Vt,v[re+q+_]=ze-De,q!==b&&(Ue=f*W-w*Q,Q=f*Q+w*W,W=Ue)}},$e.prototype.guessLen13b=function(i,c){var m=Math.max(c,i)|1,v=m&1,x=0;for(m=m/2|0;m;m=m>>>1)x++;return 1<<x+1+v},$e.prototype.conjugate=function(i,c,m){if(!(m<=1))for(var v=0;v<m/2;v++){var x=i[v];i[v]=i[m-v-1],i[m-v-1]=x,x=c[v],c[v]=-c[m-v-1],c[m-v-1]=-x}},$e.prototype.normalize13b=function(i,c){for(var m=0,v=0;v<c/2;v++){var x=Math.round(i[2*v+1]/c)*8192+Math.round(i[2*v]/c)+m;i[v]=x&67108863,x<67108864?m=0:m=x/67108864|0}return i},$e.prototype.convert13b=function(i,c,m,v){for(var x=0,M=0;M<c;M++)x=x+(i[M]|0),m[2*M]=x&8191,x=x>>>13,m[2*M+1]=x&8191,x=x>>>13;for(M=2*c;M<v;++M)m[M]=0;r(x===0),r((x&-8192)===0)},$e.prototype.stub=function(i){for(var c=new Array(i),m=0;m<i;m++)c[m]=0;return c},$e.prototype.mulp=function(i,c,m){var v=2*this.guessLen13b(i.length,c.length),x=this.makeRBT(v),M=this.stub(v),_=new Array(v),b=new Array(v),f=new Array(v),w=new Array(v),re=new Array(v),W=new Array(v),Q=m.words;Q.length=v,this.convert13b(i.words,i.length,_,v),this.convert13b(c.words,c.length,w,v),this.transform(_,M,b,f,v,x),this.transform(w,M,re,W,v,x);for(var q=0;q<v;q++){var ge=b[q]*re[q]-f[q]*W[q];f[q]=b[q]*W[q]+f[q]*re[q],b[q]=ge}return this.conjugate(b,f,v),this.transform(b,f,Q,M,v,x),this.conjugate(Q,M,v),this.normalize13b(Q,v),m.negative=i.negative^c.negative,m.length=i.length+c.length,m.strip()},o.prototype.mul=function(i){var c=new o(null);return c.words=new Array(this.length+i.length),this.mulTo(i,c)},o.prototype.mulf=function(i){var c=new o(null);return c.words=new Array(this.length+i.length),Ee(this,i,c)},o.prototype.imul=function(i){return this.clone().mulTo(i,this)},o.prototype.imuln=function(i){r(typeof i=="number"),r(i<67108864);for(var c=0,m=0;m<this.length;m++){var v=(this.words[m]|0)*i,x=(v&67108863)+(c&67108863);c>>=26,c+=v/67108864|0,c+=x>>>26,this.words[m]=x&67108863}return c!==0&&(this.words[m]=c,this.length++),this},o.prototype.muln=function(i){return this.clone().imuln(i)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(i){var c=pe(i);if(c.length===0)return new o(1);for(var m=this,v=0;v<c.length&&c[v]===0;v++,m=m.sqr());if(++v<c.length)for(var x=m.sqr();v<c.length;v++,x=x.sqr())c[v]!==0&&(m=m.mul(x));return m},o.prototype.iushln=function(i){r(typeof i=="number"&&i>=0);var c=i%26,m=(i-c)/26,v=67108863>>>26-c<<26-c,x;if(c!==0){var M=0;for(x=0;x<this.length;x++){var _=this.words[x]&v,b=(this.words[x]|0)-_<<c;this.words[x]=b|M,M=_>>>26-c}M&&(this.words[x]=M,this.length++)}if(m!==0){for(x=this.length-1;x>=0;x--)this.words[x+m]=this.words[x];for(x=0;x<m;x++)this.words[x]=0;this.length+=m}return this.strip()},o.prototype.ishln=function(i){return r(this.negative===0),this.iushln(i)},o.prototype.iushrn=function(i,c,m){r(typeof i=="number"&&i>=0);var v;c?v=(c-c%26)/26:v=0;var x=i%26,M=Math.min((i-x)/26,this.length),_=67108863^67108863>>>x<<x,b=m;if(v-=M,v=Math.max(0,v),b){for(var f=0;f<M;f++)b.words[f]=this.words[f];b.length=M}if(M!==0)if(this.length>M)for(this.length-=M,f=0;f<this.length;f++)this.words[f]=this.words[f+M];else this.words[0]=0,this.length=1;var w=0;for(f=this.length-1;f>=0&&(w!==0||f>=v);f--){var re=this.words[f]|0;this.words[f]=w<<26-x|re>>>x,w=re&_}return b&&w!==0&&(b.words[b.length++]=w),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(i,c,m){return r(this.negative===0),this.iushrn(i,c,m)},o.prototype.shln=function(i){return this.clone().ishln(i)},o.prototype.ushln=function(i){return this.clone().iushln(i)},o.prototype.shrn=function(i){return this.clone().ishrn(i)},o.prototype.ushrn=function(i){return this.clone().iushrn(i)},o.prototype.testn=function(i){r(typeof i=="number"&&i>=0);var c=i%26,m=(i-c)/26,v=1<<c;if(this.length<=m)return!1;var x=this.words[m];return!!(x&v)},o.prototype.imaskn=function(i){r(typeof i=="number"&&i>=0);var c=i%26,m=(i-c)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=m)return this;if(c!==0&&m++,this.length=Math.min(m,this.length),c!==0){var v=67108863^67108863>>>c<<c;this.words[this.length-1]&=v}return this.strip()},o.prototype.maskn=function(i){return this.clone().imaskn(i)},o.prototype.iaddn=function(i){return r(typeof i=="number"),r(i<67108864),i<0?this.isubn(-i):this.negative!==0?this.length===1&&(this.words[0]|0)<i?(this.words[0]=i-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(i),this.negative=1,this):this._iaddn(i)},o.prototype._iaddn=function(i){this.words[0]+=i;for(var c=0;c<this.length&&this.words[c]>=67108864;c++)this.words[c]-=67108864,c===this.length-1?this.words[c+1]=1:this.words[c+1]++;return this.length=Math.max(this.length,c+1),this},o.prototype.isubn=function(i){if(r(typeof i=="number"),r(i<67108864),i<0)return this.iaddn(-i);if(this.negative!==0)return this.negative=0,this.iaddn(i),this.negative=1,this;if(this.words[0]-=i,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var c=0;c<this.length&&this.words[c]<0;c++)this.words[c]+=67108864,this.words[c+1]-=1;return this.strip()},o.prototype.addn=function(i){return this.clone().iaddn(i)},o.prototype.subn=function(i){return this.clone().isubn(i)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(i,c,m){var v=i.length+m,x;this._expand(v);var M,_=0;for(x=0;x<i.length;x++){M=(this.words[x+m]|0)+_;var b=(i.words[x]|0)*c;M-=b&67108863,_=(M>>26)-(b/67108864|0),this.words[x+m]=M&67108863}for(;x<this.length-m;x++)M=(this.words[x+m]|0)+_,_=M>>26,this.words[x+m]=M&67108863;if(_===0)return this.strip();for(r(_===-1),_=0,x=0;x<this.length;x++)M=-(this.words[x]|0)+_,_=M>>26,this.words[x]=M&67108863;return this.negative=1,this.strip()},o.prototype._wordDiv=function(i,c){var m=this.length-i.length,v=this.clone(),x=i,M=x.words[x.length-1]|0,_=this._countBits(M);m=26-_,m!==0&&(x=x.ushln(m),v.iushln(m),M=x.words[x.length-1]|0);var b=v.length-x.length,f;if(c!=="mod"){f=new o(null),f.length=b+1,f.words=new Array(f.length);for(var w=0;w<f.length;w++)f.words[w]=0}var re=v.clone()._ishlnsubmul(x,1,b);re.negative===0&&(v=re,f&&(f.words[b]=1));for(var W=b-1;W>=0;W--){var Q=(v.words[x.length+W]|0)*67108864+(v.words[x.length+W-1]|0);for(Q=Math.min(Q/M|0,67108863),v._ishlnsubmul(x,Q,W);v.negative!==0;)Q--,v.negative=0,v._ishlnsubmul(x,1,W),v.isZero()||(v.negative^=1);f&&(f.words[W]=Q)}return f&&f.strip(),v.strip(),c!=="div"&&m!==0&&v.iushrn(m),{div:f||null,mod:v}},o.prototype.divmod=function(i,c,m){if(r(!i.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var v,x,M;return this.negative!==0&&i.negative===0?(M=this.neg().divmod(i,c),c!=="mod"&&(v=M.div.neg()),c!=="div"&&(x=M.mod.neg(),m&&x.negative!==0&&x.iadd(i)),{div:v,mod:x}):this.negative===0&&i.negative!==0?(M=this.divmod(i.neg(),c),c!=="mod"&&(v=M.div.neg()),{div:v,mod:M.mod}):this.negative&i.negative?(M=this.neg().divmod(i.neg(),c),c!=="div"&&(x=M.mod.neg(),m&&x.negative!==0&&x.isub(i)),{div:M.div,mod:x}):i.length>this.length||this.cmp(i)<0?{div:new o(0),mod:this}:i.length===1?c==="div"?{div:this.divn(i.words[0]),mod:null}:c==="mod"?{div:null,mod:new o(this.modn(i.words[0]))}:{div:this.divn(i.words[0]),mod:new o(this.modn(i.words[0]))}:this._wordDiv(i,c)},o.prototype.div=function(i){return this.divmod(i,"div",!1).div},o.prototype.mod=function(i){return this.divmod(i,"mod",!1).mod},o.prototype.umod=function(i){return this.divmod(i,"mod",!0).mod},o.prototype.divRound=function(i){var c=this.divmod(i);if(c.mod.isZero())return c.div;var m=c.div.negative!==0?c.mod.isub(i):c.mod,v=i.ushrn(1),x=i.andln(1),M=m.cmp(v);return M<0||x===1&&M===0?c.div:c.div.negative!==0?c.div.isubn(1):c.div.iaddn(1)},o.prototype.modn=function(i){r(i<=67108863);for(var c=(1<<26)%i,m=0,v=this.length-1;v>=0;v--)m=(c*m+(this.words[v]|0))%i;return m},o.prototype.idivn=function(i){r(i<=67108863);for(var c=0,m=this.length-1;m>=0;m--){var v=(this.words[m]|0)+c*67108864;this.words[m]=v/i|0,c=v%i}return this.strip()},o.prototype.divn=function(i){return this.clone().idivn(i)},o.prototype.egcd=function(i){r(i.negative===0),r(!i.isZero());var c=this,m=i.clone();c.negative!==0?c=c.umod(i):c=c.clone();for(var v=new o(1),x=new o(0),M=new o(0),_=new o(1),b=0;c.isEven()&&m.isEven();)c.iushrn(1),m.iushrn(1),++b;for(var f=m.clone(),w=c.clone();!c.isZero();){for(var re=0,W=1;!(c.words[0]&W)&&re<26;++re,W<<=1);if(re>0)for(c.iushrn(re);re-- >0;)(v.isOdd()||x.isOdd())&&(v.iadd(f),x.isub(w)),v.iushrn(1),x.iushrn(1);for(var Q=0,q=1;!(m.words[0]&q)&&Q<26;++Q,q<<=1);if(Q>0)for(m.iushrn(Q);Q-- >0;)(M.isOdd()||_.isOdd())&&(M.iadd(f),_.isub(w)),M.iushrn(1),_.iushrn(1);c.cmp(m)>=0?(c.isub(m),v.isub(M),x.isub(_)):(m.isub(c),M.isub(v),_.isub(x))}return{a:M,b:_,gcd:m.iushln(b)}},o.prototype._invmp=function(i){r(i.negative===0),r(!i.isZero());var c=this,m=i.clone();c.negative!==0?c=c.umod(i):c=c.clone();for(var v=new o(1),x=new o(0),M=m.clone();c.cmpn(1)>0&&m.cmpn(1)>0;){for(var _=0,b=1;!(c.words[0]&b)&&_<26;++_,b<<=1);if(_>0)for(c.iushrn(_);_-- >0;)v.isOdd()&&v.iadd(M),v.iushrn(1);for(var f=0,w=1;!(m.words[0]&w)&&f<26;++f,w<<=1);if(f>0)for(m.iushrn(f);f-- >0;)x.isOdd()&&x.iadd(M),x.iushrn(1);c.cmp(m)>=0?(c.isub(m),v.isub(x)):(m.isub(c),x.isub(v))}var re;return c.cmpn(1)===0?re=v:re=x,re.cmpn(0)<0&&re.iadd(i),re},o.prototype.gcd=function(i){if(this.isZero())return i.abs();if(i.isZero())return this.abs();var c=this.clone(),m=i.clone();c.negative=0,m.negative=0;for(var v=0;c.isEven()&&m.isEven();v++)c.iushrn(1),m.iushrn(1);do{for(;c.isEven();)c.iushrn(1);for(;m.isEven();)m.iushrn(1);var x=c.cmp(m);if(x<0){var M=c;c=m,m=M}else if(x===0||m.cmpn(1)===0)break;c.isub(m)}while(!0);return m.iushln(v)},o.prototype.invm=function(i){return this.egcd(i).a.umod(i)},o.prototype.isEven=function(){return(this.words[0]&1)===0},o.prototype.isOdd=function(){return(this.words[0]&1)===1},o.prototype.andln=function(i){return this.words[0]&i},o.prototype.bincn=function(i){r(typeof i=="number");var c=i%26,m=(i-c)/26,v=1<<c;if(this.length<=m)return this._expand(m+1),this.words[m]|=v,this;for(var x=v,M=m;x!==0&&M<this.length;M++){var _=this.words[M]|0;_+=x,x=_>>>26,_&=67108863,this.words[M]=_}return x!==0&&(this.words[M]=x,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(i){var c=i<0;if(this.negative!==0&&!c)return-1;if(this.negative===0&&c)return 1;this.strip();var m;if(this.length>1)m=1;else{c&&(i=-i),r(i<=67108863,"Number is too big");var v=this.words[0]|0;m=v===i?0:v<i?-1:1}return this.negative!==0?-m|0:m},o.prototype.cmp=function(i){if(this.negative!==0&&i.negative===0)return-1;if(this.negative===0&&i.negative!==0)return 1;var c=this.ucmp(i);return this.negative!==0?-c|0:c},o.prototype.ucmp=function(i){if(this.length>i.length)return 1;if(this.length<i.length)return-1;for(var c=0,m=this.length-1;m>=0;m--){var v=this.words[m]|0,x=i.words[m]|0;if(v!==x){v<x?c=-1:v>x&&(c=1);break}}return c},o.prototype.gtn=function(i){return this.cmpn(i)===1},o.prototype.gt=function(i){return this.cmp(i)===1},o.prototype.gten=function(i){return this.cmpn(i)>=0},o.prototype.gte=function(i){return this.cmp(i)>=0},o.prototype.ltn=function(i){return this.cmpn(i)===-1},o.prototype.lt=function(i){return this.cmp(i)===-1},o.prototype.lten=function(i){return this.cmpn(i)<=0},o.prototype.lte=function(i){return this.cmp(i)<=0},o.prototype.eqn=function(i){return this.cmpn(i)===0},o.prototype.eq=function(i){return this.cmp(i)===0},o.red=function(i){return new O(i)},o.prototype.toRed=function(i){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),i.convertTo(this)._forceRed(i)},o.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(i){return this.red=i,this},o.prototype.forceRed=function(i){return r(!this.red,"Already a number in reduction context"),this._forceRed(i)},o.prototype.redAdd=function(i){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,i)},o.prototype.redIAdd=function(i){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,i)},o.prototype.redSub=function(i){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,i)},o.prototype.redISub=function(i){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,i)},o.prototype.redShl=function(i){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,i)},o.prototype.redMul=function(i){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,i),this.red.mul(this,i)},o.prototype.redIMul=function(i){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,i),this.red.imul(this,i)},o.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(i){return r(this.red&&!i.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,i)};var Me={k256:null,p224:null,p192:null,p25519:null};function Se(y,i){this.name=y,this.p=new o(i,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Se.prototype._tmp=function(){var i=new o(null);return i.words=new Array(Math.ceil(this.n/13)),i},Se.prototype.ireduce=function(i){var c=i,m;do this.split(c,this.tmp),c=this.imulK(c),c=c.iadd(this.tmp),m=c.bitLength();while(m>this.n);var v=m<this.n?-1:c.ucmp(this.p);return v===0?(c.words[0]=0,c.length=1):v>0?c.isub(this.p):c.strip!==void 0?c.strip():c._strip(),c},Se.prototype.split=function(i,c){i.iushrn(this.n,0,c)},Se.prototype.imulK=function(i){return i.imul(this.k)};function j(){Se.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}a(j,Se),j.prototype.split=function(i,c){for(var m=4194303,v=Math.min(i.length,9),x=0;x<v;x++)c.words[x]=i.words[x];if(c.length=v,i.length<=9){i.words[0]=0,i.length=1;return}var M=i.words[9];for(c.words[c.length++]=M&m,x=10;x<i.length;x++){var _=i.words[x]|0;i.words[x-10]=(_&m)<<4|M>>>22,M=_}M>>>=22,i.words[x-10]=M,M===0&&i.length>10?i.length-=10:i.length-=9},j.prototype.imulK=function(i){i.words[i.length]=0,i.words[i.length+1]=0,i.length+=2;for(var c=0,m=0;m<i.length;m++){var v=i.words[m]|0;c+=v*977,i.words[m]=c&67108863,c=v*64+(c/67108864|0)}return i.words[i.length-1]===0&&(i.length--,i.words[i.length-1]===0&&i.length--),i};function ne(){Se.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}a(ne,Se);function oe(){Se.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}a(oe,Se);function F(){Se.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}a(F,Se),F.prototype.imulK=function(i){for(var c=0,m=0;m<i.length;m++){var v=(i.words[m]|0)*19+c,x=v&67108863;v>>>=26,i.words[m]=x,c=v}return c!==0&&(i.words[i.length++]=c),i},o._prime=function(i){if(Me[i])return Me[i];var c;if(i==="k256")c=new j;else if(i==="p224")c=new ne;else if(i==="p192")c=new oe;else if(i==="p25519")c=new F;else throw new Error("Unknown prime "+i);return Me[i]=c,c};function O(y){if(typeof y=="string"){var i=o._prime(y);this.m=i.p,this.prime=i}else r(y.gtn(1),"modulus must be greater than 1"),this.m=y,this.prime=null}O.prototype._verify1=function(i){r(i.negative===0,"red works only with positives"),r(i.red,"red works only with red numbers")},O.prototype._verify2=function(i,c){r((i.negative|c.negative)===0,"red works only with positives"),r(i.red&&i.red===c.red,"red works only with red numbers")},O.prototype.imod=function(i){return this.prime?this.prime.ireduce(i)._forceRed(this):i.umod(this.m)._forceRed(this)},O.prototype.neg=function(i){return i.isZero()?i.clone():this.m.sub(i)._forceRed(this)},O.prototype.add=function(i,c){this._verify2(i,c);var m=i.add(c);return m.cmp(this.m)>=0&&m.isub(this.m),m._forceRed(this)},O.prototype.iadd=function(i,c){this._verify2(i,c);var m=i.iadd(c);return m.cmp(this.m)>=0&&m.isub(this.m),m},O.prototype.sub=function(i,c){this._verify2(i,c);var m=i.sub(c);return m.cmpn(0)<0&&m.iadd(this.m),m._forceRed(this)},O.prototype.isub=function(i,c){this._verify2(i,c);var m=i.isub(c);return m.cmpn(0)<0&&m.iadd(this.m),m},O.prototype.shl=function(i,c){return this._verify1(i),this.imod(i.ushln(c))},O.prototype.imul=function(i,c){return this._verify2(i,c),this.imod(i.imul(c))},O.prototype.mul=function(i,c){return this._verify2(i,c),this.imod(i.mul(c))},O.prototype.isqr=function(i){return this.imul(i,i.clone())},O.prototype.sqr=function(i){return this.mul(i,i)},O.prototype.sqrt=function(i){if(i.isZero())return i.clone();var c=this.m.andln(3);if(r(c%2===1),c===3){var m=this.m.add(new o(1)).iushrn(2);return this.pow(i,m)}for(var v=this.m.subn(1),x=0;!v.isZero()&&v.andln(1)===0;)x++,v.iushrn(1);r(!v.isZero());var M=new o(1).toRed(this),_=M.redNeg(),b=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new o(2*f*f).toRed(this);this.pow(f,b).cmp(_)!==0;)f.redIAdd(_);for(var w=this.pow(f,v),re=this.pow(i,v.addn(1).iushrn(1)),W=this.pow(i,v),Q=x;W.cmp(M)!==0;){for(var q=W,ge=0;q.cmp(M)!==0;ge++)q=q.redSqr();r(ge<Q);var ze=this.pow(w,new o(1).iushln(Q-ge-1));re=re.redMul(ze),w=ze.redSqr(),W=W.redMul(w),Q=ge}return re},O.prototype.invm=function(i){var c=i._invmp(this.m);return c.negative!==0?(c.negative=0,this.imod(c).redNeg()):this.imod(c)},O.prototype.pow=function(i,c){if(c.isZero())return new o(1).toRed(this);if(c.cmpn(1)===0)return i.clone();var m=4,v=new Array(1<<m);v[0]=new o(1).toRed(this),v[1]=i;for(var x=2;x<v.length;x++)v[x]=this.mul(v[x-1],i);var M=v[0],_=0,b=0,f=c.bitLength()%26;for(f===0&&(f=26),x=c.length-1;x>=0;x--){for(var w=c.words[x],re=f-1;re>=0;re--){var W=w>>re&1;if(M!==v[0]&&(M=this.sqr(M)),W===0&&_===0){b=0;continue}_<<=1,_|=W,b++,!(b!==m&&(x!==0||re!==0))&&(M=this.mul(M,v[_]),b=0,_=0)}f=26}return M},O.prototype.convertTo=function(i){var c=i.umod(this.m);return c===i?c.clone():c},O.prototype.convertFrom=function(i){var c=i.clone();return c.red=null,c},o.mont=function(i){return new C(i)};function C(y){O.call(this,y),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}a(C,O),C.prototype.convertTo=function(i){return this.imod(i.ushln(this.shift))},C.prototype.convertFrom=function(i){var c=this.imod(i.mul(this.rinv));return c.red=null,c},C.prototype.imul=function(i,c){if(i.isZero()||c.isZero())return i.words[0]=0,i.length=1,i;var m=i.imul(c),v=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),x=m.isub(v).iushrn(this.shift),M=x;return x.cmp(this.m)>=0?M=x.isub(this.m):x.cmpn(0)<0&&(M=x.iadd(this.m)),M._forceRed(this)},C.prototype.mul=function(i,c){if(i.isZero()||c.isZero())return new o(0)._forceRed(this);var m=i.mul(c),v=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),x=m.isub(v).iushrn(this.shift),M=x;return x.cmp(this.m)>=0?M=x.isub(this.m):x.cmpn(0)<0&&(M=x.iadd(this.m)),M._forceRed(this)},C.prototype.invm=function(i){var c=this.imod(i._invmp(this.m).mul(this.r2));return c._forceRed(this)}})(n,Tt)})(ni);var yp=ni.exports,bp=Tt&&Tt.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(dr,"__esModule",{value:!0});dr.rawEncode=dr.parseNumber=dr.solidityPack=void 0;const cr=Ze,ur=bp(yp),xp=ri,vo=St;function wp(n,e){if(n.length!==e.length)throw new Error("Number of types are not matching the values");const t=[];for(let r=0;r<n.length;r++){const a=bo(n[r]),o=e[r];t.push(yo(a,o,null))}return D.concat(t)}dr.solidityPack=wp;function xn(n){return n.endsWith("]")}function kn(n){const e=n.match(/(.*)\[(.*?)\]$/u);return e?e[2]===""?"dynamic":parseInt(e[2],10):null}function Nr(n){const e=/^\D+(\d+)$/u.exec(n);if(e===null)throw new Error(`Invalid parseTypeN input "${n}".`);return parseInt(e[1],10)}function fr(n){const e=typeof n;if(e==="string")return(0,cr.isHexPrefixed)(n)?new ur.default((0,xp.stripHexPrefix)(n),16):new ur.default(n,10);if(e==="number")return new ur.default(n);if(n&&Object.prototype.hasOwnProperty.call(n,"toArray")||ur.default.isBN(n))return n;throw new Error("Argument is not a number")}dr.parseNumber=fr;function yo(n,e,t){if(xn(n)){const r=n.replace(/\[.*?\]/u,"");if(!xn(r)){const o=kn(n);if(o!=="dynamic"&&o!==0&&o!==null&&e.length>o)throw new Error(`Elements exceed array size: ${o}`)}const a=e.map(o=>yo(r,o,256));return D.concat(a)}else{if(n==="bytes")return e;if(n==="string")return D.from(e,"utf8");if(n==="bool"){t=t||8;const r=Array(t/4).join("0");return D.from(e?`${r}1`:`${r}0`,"hex")}else if(n==="address"){let r=20;return t&&(r=t/8),(0,cr.setLengthLeft)((0,cr.toBuffer)(e),r)}else if(n.startsWith("bytes")){const r=Nr(n);if(r<1||r>32)throw new Error(`Invalid bytes<N> width: ${r}`);return typeof e=="number"&&(e=(0,vo.normalize)(e)),(0,cr.setLengthRight)((0,cr.toBuffer)(e),r)}else if(n.startsWith("uint")){const r=Nr(n);if(r%8||r<8||r>256)throw new Error(`Invalid uint<N> width: ${r}`);const a=fr(e);if(a.bitLength()>r)throw new Error(`Supplied uint exceeds width: ${r} vs ${a.bitLength()}`);return t=t||r,a.toArrayLike(D,"be",t/8)}else if(n.startsWith("int")){const r=Nr(n);if(r%8||r<8||r>256)throw new Error(`Invalid int<N> width: ${r}`);const a=fr(e);if(a.bitLength()>r)throw new Error(`Supplied int exceeds width: ${r} vs ${a.bitLength()}`);return t=t||r,a.toTwos(r).toArrayLike(D,"be",t/8)}}throw new Error(`Unsupported or invalid type: ${JSON.stringify(n)}`)}function bo(n){return n.startsWith("int[")?`int256${n.slice(3)}`:n==="int"?"int256":n.startsWith("uint[")?`uint256${n.slice(4)}`:n==="uint"?"uint256":n.startsWith("fixed[")?`fixed128x128${n.slice(5)}`:n==="fixed"?"fixed128x128":n.startsWith("ufixed[")?`ufixed128x128${n.slice(6)}`:n==="ufixed"?"ufixed128x128":n}function Ep(n,e){const t=[],r=[];let a=0;n.forEach(o=>{if(xn(o)){const d=kn(o);d!=="dynamic"&&d!==null?a+=32*d:a+=32}else a+=32});for(let o=0;o<n.length;o++){const d=bo(n[o]),g=e[o],E=Xt(d,g);Pp(d)?(t.push(Xt("uint256",a)),r.push(E),a+=E.length):t.push(E)}return D.concat(t.concat(r))}dr.rawEncode=Ep;function Xt(n,e){if(n==="address")return Xt("uint160",fr(e));if(n==="bool")return Xt("uint8",e?1:0);if(n==="string")return Xt("bytes",D.from(e,"utf8"));if(xn(n)){if(typeof e.length>"u")throw new Error("Not an array?");const t=kn(n);if(t!=="dynamic"&&t!==0&&t!==null&&e.length>t)throw new Error(`Elements exceed array size: ${t}`);const r=[];n=n.slice(0,n.lastIndexOf("[")),typeof e=="string"&&(e=JSON.parse(e));for(const a in e)Object.prototype.hasOwnProperty.call(e,a)&&r.push(Xt(n,e[a]));if(t==="dynamic"){const a=Xt("uint256",e.length);r.unshift(a)}return D.concat(r)}else if(n==="bytes"){e=D.from(e);let t=D.concat([Xt("uint256",e.length),e]);return e.length%32!==0&&(t=D.concat([t,(0,cr.zeros)(32-e.length%32)])),t}else if(n.startsWith("bytes")){const t=Nr(n);if(t<1||t>32)throw new Error(`Invalid bytes<N> width: ${t}`);const r=typeof e=="number"?(0,vo.normalize)(e):e;return(0,cr.setLengthRight)((0,cr.toBuffer)(r),32)}else if(n.startsWith("uint")){const t=Nr(n);if(t%8||t<8||t>256)throw new Error(`Invalid uint<N> width: ${t}`);const r=fr(e);if(r.bitLength()>t)throw new Error(`Supplied uint exceeds width: ${t} vs ${r.bitLength()}`);if(r.isNeg())throw new Error("Supplied uint is negative");return r.toArrayLike(D,"be",32)}else if(n.startsWith("int")){const t=Nr(n);if(t%8||t<8||t>256)throw new Error(`Invalid int<N> width: ${t}`);const r=fr(e);if(r.bitLength()>t)throw new Error(`Supplied int exceeds width: ${t} vs ${r.bitLength()}`);return r.toTwos(256).toArrayLike(D,"be",32)}else if(n.startsWith("ufixed")){const t=Ai(n),r=fr(e);if(r.isNeg())throw new Error("Supplied ufixed is negative");return Xt("uint256",r.mul(new ur.default(2).pow(new ur.default(t[1]))))}else if(n.startsWith("fixed")){const t=Ai(n);return Xt("int256",fr(e).mul(new ur.default(2).pow(new ur.default(t[1]))))}throw new Error(`Unsupported or invalid type: ${JSON.stringify(n)}`)}function Pp(n){return n==="string"||n==="bytes"||kn(n)==="dynamic"}function Ai(n){const e=/^\D+(\d+)x(\d+)$/u.exec(n);if(e===null||e.length<1)throw new Error(`Invalid parseTypeNxM input "${n}".`);return[parseInt(e[1],10),parseInt(e[2],10)]}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.recoverTypedSignature=n.signTypedData=n.typedSignatureHash=n.TypedDataUtils=n.TYPED_MESSAGE_SCHEMA=n.SignTypedDataVersion=void 0;const e=Ze,t=Xr,r=ri,a=dr,o=St;var d;(function(j){j.V1="V1",j.V3="V3",j.V4="V4"})(d=n.SignTypedDataVersion||(n.SignTypedDataVersion={})),n.TYPED_MESSAGE_SCHEMA={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]};function g(j,ne){if(Object.keys(d).includes(j)){if(ne&&!ne.includes(j))throw new Error(`SignTypedDataVersion not allowed: '${j}'. Allowed versions are: ${ne.join(", ")}`)}else throw new Error(`Invalid version: '${j}'`)}function E(j,ne,oe,F,O){if(g(O,[d.V3,d.V4]),j[oe]!==void 0)return["bytes32",O===d.V4&&F==null?"0x0000000000000000000000000000000000000000000000000000000000000000":(0,e.arrToBufArr)((0,t.keccak256)(A(oe,F,j,O)))];if(F===void 0)throw new Error(`missing value for field ${ne} of type ${oe}`);if(oe==="bytes"){if(typeof F=="number")F=(0,o.numberToBuffer)(F);else if((0,r.isHexString)(F)){const C=F.length%2?"0":"";F=D.from(C+F.slice(2),"hex")}else F=D.from(F,"utf8");return["bytes32",(0,e.arrToBufArr)((0,t.keccak256)(F))]}if(oe==="string")return typeof F=="number"?F=(0,o.numberToBuffer)(F):F=D.from(F??"","utf8"),["bytes32",(0,e.arrToBufArr)((0,t.keccak256)(F))];if(oe.endsWith("]")){if(O===d.V3)throw new Error("Arrays are unimplemented in encodeData; use V4 extension");const C=oe.slice(0,oe.lastIndexOf("[")),y=F.map(i=>E(j,ne,C,i,O));return["bytes32",(0,e.arrToBufArr)((0,t.keccak256)((0,a.rawEncode)(y.map(([i])=>i),y.map(([,i])=>i))))]}return[oe,F]}function A(j,ne,oe,F){g(F,[d.V3,d.V4]);const O=["bytes32"],C=[pe(j,oe)];for(const y of oe[j]){if(F===d.V3&&ne[y.name]===void 0)continue;const[i,c]=E(oe,y.name,y.type,ne[y.name],F);O.push(i),C.push(c)}return(0,a.rawEncode)(O,C)}function I(j,ne){let oe="";const F=U(j,ne);F.delete(j);const O=[j,...Array.from(F).sort()];for(const C of O){if(!ne[C])throw new Error(`No type definition specified: ${C}`);oe+=`${C}(${ne[C].map(({name:i,type:c})=>`${c} ${i}`).join(",")})`}return oe}function U(j,ne,oe=new Set){if(typeof j!="string")throw new Error(`Invalid findTypeDependencies input ${JSON.stringify(j)}`);if([j]=j.match(/^\w*/u),oe.has(j)||ne[j]===void 0)return oe;oe.add(j);for(const O of ne[j])U(O.type,ne,oe);return oe}function G(j,ne,oe,F){g(F,[d.V3,d.V4]);const O=A(j,ne,oe,F),C=(0,t.keccak256)(O);return(0,e.arrToBufArr)(C)}function pe(j,ne){const oe=D.from(I(j,ne),"utf-8");return(0,e.arrToBufArr)((0,t.keccak256)(oe))}function le(j){const ne={};for(const oe in n.TYPED_MESSAGE_SCHEMA.properties)j[oe]&&(ne[oe]=j[oe]);return"types"in ne&&(ne.types=Object.assign({EIP712Domain:[]},ne.types)),ne}function _e(j,ne){g(ne,[d.V3,d.V4]);const oe=le(j),{domain:F}=oe,O={EIP712Domain:oe.types.EIP712Domain};return G("EIP712Domain",F,O,ne)}function Ie(j,ne){g(ne,[d.V3,d.V4]);const oe=le(j),F=[D.from("1901","hex")];return F.push(_e(j,ne)),oe.primaryType!=="EIP712Domain"&&F.push(G(oe.primaryType,oe.message,oe.types,ne)),(0,e.arrToBufArr)((0,t.keccak256)(D.concat(F)))}n.TypedDataUtils={encodeData:A,encodeType:I,findTypeDependencies:U,hashStruct:G,hashType:pe,sanitizeData:le,eip712Hash:Ie,eip712DomainHash:_e};function Ee(j){const ne=$e(j);return(0,e.bufferToHex)(ne)}n.typedSignatureHash=Ee;function $e(j){const ne=new Error("Expect argument to be non-empty array");if(typeof j!="object"||!("length"in j)||!j.length)throw ne;const oe=j.map(function(C){return C.type!=="bytes"?C.value:(0,o.legacyToBuffer)(C.value)}),F=j.map(function(C){return C.type}),O=j.map(function(C){if(!C.name)throw ne;return`${C.type} ${C.name}`});return(0,e.arrToBufArr)((0,t.keccak256)((0,a.solidityPack)(["bytes32","bytes32"],[(0,t.keccak256)((0,a.solidityPack)(new Array(j.length).fill("string"),O)),(0,t.keccak256)((0,a.solidityPack)(F,oe))])))}function Me({privateKey:j,data:ne,version:oe}){if(g(oe),(0,o.isNullish)(ne))throw new Error("Missing data parameter");if((0,o.isNullish)(j))throw new Error("Missing private key parameter");const F=oe===d.V1?$e(ne):n.TypedDataUtils.eip712Hash(ne,oe),O=(0,e.ecsign)(F,j);return(0,o.concatSig)((0,e.toBuffer)(O.v),O.r,O.s)}n.signTypedData=Me;function Se({data:j,signature:ne,version:oe}){if(g(oe),(0,o.isNullish)(j))throw new Error("Missing data parameter");if((0,o.isNullish)(ne))throw new Error("Missing signature parameter");const F=oe===d.V1?$e(j):n.TypedDataUtils.eip712Hash(j,oe),O=(0,o.recoverPublicKey)(F,ne),C=(0,e.publicToAddress)(O);return(0,e.bufferToHex)(C)}n.recoverTypedSignature=Se})(go);var Zt={},xo={exports:{}};(function(n){(function(e){var t=function(u){var l,h=new Float64Array(16);if(u)for(l=0;l<u.length;l++)h[l]=u[l];return h},r=function(){throw new Error("no PRNG")},a=new Uint8Array(16),o=new Uint8Array(32);o[0]=9;var d=t(),g=t([1]),E=t([56129,1]),A=t([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),I=t([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),U=t([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),G=t([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),pe=t([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function le(u,l,h,s){u[l]=h>>24&255,u[l+1]=h>>16&255,u[l+2]=h>>8&255,u[l+3]=h&255,u[l+4]=s>>24&255,u[l+5]=s>>16&255,u[l+6]=s>>8&255,u[l+7]=s&255}function _e(u,l,h,s,p){var T,S=0;for(T=0;T<p;T++)S|=u[l+T]^h[s+T];return(1&S-1>>>8)-1}function Ie(u,l,h,s){return _e(u,l,h,s,16)}function Ee(u,l,h,s){return _e(u,l,h,s,32)}function $e(u,l,h,s){for(var p=s[0]&255|(s[1]&255)<<8|(s[2]&255)<<16|(s[3]&255)<<24,T=h[0]&255|(h[1]&255)<<8|(h[2]&255)<<16|(h[3]&255)<<24,S=h[4]&255|(h[5]&255)<<8|(h[6]&255)<<16|(h[7]&255)<<24,B=h[8]&255|(h[9]&255)<<8|(h[10]&255)<<16|(h[11]&255)<<24,N=h[12]&255|(h[13]&255)<<8|(h[14]&255)<<16|(h[15]&255)<<24,te=s[4]&255|(s[5]&255)<<8|(s[6]&255)<<16|(s[7]&255)<<24,K=l[0]&255|(l[1]&255)<<8|(l[2]&255)<<16|(l[3]&255)<<24,Ae=l[4]&255|(l[5]&255)<<8|(l[6]&255)<<16|(l[7]&255)<<24,Y=l[8]&255|(l[9]&255)<<8|(l[10]&255)<<16|(l[11]&255)<<24,ae=l[12]&255|(l[13]&255)<<8|(l[14]&255)<<16|(l[15]&255)<<24,fe=s[8]&255|(s[9]&255)<<8|(s[10]&255)<<16|(s[11]&255)<<24,me=h[16]&255|(h[17]&255)<<8|(h[18]&255)<<16|(h[19]&255)<<24,de=h[20]&255|(h[21]&255)<<8|(h[22]&255)<<16|(h[23]&255)<<24,ce=h[24]&255|(h[25]&255)<<8|(h[26]&255)<<16|(h[27]&255)<<24,he=h[28]&255|(h[29]&255)<<8|(h[30]&255)<<16|(h[31]&255)<<24,ue=s[12]&255|(s[13]&255)<<8|(s[14]&255)<<16|(s[15]&255)<<24,J=p,ie=T,V=S,X=B,ee=N,Z=te,$=K,k=Ae,R=Y,L=ae,H=fe,z=me,se=de,ve=ce,xe=he,ye=ue,P,Pe=0;Pe<20;Pe+=2)P=J+se|0,ee^=P<<7|P>>>32-7,P=ee+J|0,R^=P<<9|P>>>32-9,P=R+ee|0,se^=P<<13|P>>>32-13,P=se+R|0,J^=P<<18|P>>>32-18,P=Z+ie|0,L^=P<<7|P>>>32-7,P=L+Z|0,ve^=P<<9|P>>>32-9,P=ve+L|0,ie^=P<<13|P>>>32-13,P=ie+ve|0,Z^=P<<18|P>>>32-18,P=H+$|0,xe^=P<<7|P>>>32-7,P=xe+H|0,V^=P<<9|P>>>32-9,P=V+xe|0,$^=P<<13|P>>>32-13,P=$+V|0,H^=P<<18|P>>>32-18,P=ye+z|0,X^=P<<7|P>>>32-7,P=X+ye|0,k^=P<<9|P>>>32-9,P=k+X|0,z^=P<<13|P>>>32-13,P=z+k|0,ye^=P<<18|P>>>32-18,P=J+X|0,ie^=P<<7|P>>>32-7,P=ie+J|0,V^=P<<9|P>>>32-9,P=V+ie|0,X^=P<<13|P>>>32-13,P=X+V|0,J^=P<<18|P>>>32-18,P=Z+ee|0,$^=P<<7|P>>>32-7,P=$+Z|0,k^=P<<9|P>>>32-9,P=k+$|0,ee^=P<<13|P>>>32-13,P=ee+k|0,Z^=P<<18|P>>>32-18,P=H+L|0,z^=P<<7|P>>>32-7,P=z+H|0,R^=P<<9|P>>>32-9,P=R+z|0,L^=P<<13|P>>>32-13,P=L+R|0,H^=P<<18|P>>>32-18,P=ye+xe|0,se^=P<<7|P>>>32-7,P=se+ye|0,ve^=P<<9|P>>>32-9,P=ve+se|0,xe^=P<<13|P>>>32-13,P=xe+ve|0,ye^=P<<18|P>>>32-18;J=J+p|0,ie=ie+T|0,V=V+S|0,X=X+B|0,ee=ee+N|0,Z=Z+te|0,$=$+K|0,k=k+Ae|0,R=R+Y|0,L=L+ae|0,H=H+fe|0,z=z+me|0,se=se+de|0,ve=ve+ce|0,xe=xe+he|0,ye=ye+ue|0,u[0]=J>>>0&255,u[1]=J>>>8&255,u[2]=J>>>16&255,u[3]=J>>>24&255,u[4]=ie>>>0&255,u[5]=ie>>>8&255,u[6]=ie>>>16&255,u[7]=ie>>>24&255,u[8]=V>>>0&255,u[9]=V>>>8&255,u[10]=V>>>16&255,u[11]=V>>>24&255,u[12]=X>>>0&255,u[13]=X>>>8&255,u[14]=X>>>16&255,u[15]=X>>>24&255,u[16]=ee>>>0&255,u[17]=ee>>>8&255,u[18]=ee>>>16&255,u[19]=ee>>>24&255,u[20]=Z>>>0&255,u[21]=Z>>>8&255,u[22]=Z>>>16&255,u[23]=Z>>>24&255,u[24]=$>>>0&255,u[25]=$>>>8&255,u[26]=$>>>16&255,u[27]=$>>>24&255,u[28]=k>>>0&255,u[29]=k>>>8&255,u[30]=k>>>16&255,u[31]=k>>>24&255,u[32]=R>>>0&255,u[33]=R>>>8&255,u[34]=R>>>16&255,u[35]=R>>>24&255,u[36]=L>>>0&255,u[37]=L>>>8&255,u[38]=L>>>16&255,u[39]=L>>>24&255,u[40]=H>>>0&255,u[41]=H>>>8&255,u[42]=H>>>16&255,u[43]=H>>>24&255,u[44]=z>>>0&255,u[45]=z>>>8&255,u[46]=z>>>16&255,u[47]=z>>>24&255,u[48]=se>>>0&255,u[49]=se>>>8&255,u[50]=se>>>16&255,u[51]=se>>>24&255,u[52]=ve>>>0&255,u[53]=ve>>>8&255,u[54]=ve>>>16&255,u[55]=ve>>>24&255,u[56]=xe>>>0&255,u[57]=xe>>>8&255,u[58]=xe>>>16&255,u[59]=xe>>>24&255,u[60]=ye>>>0&255,u[61]=ye>>>8&255,u[62]=ye>>>16&255,u[63]=ye>>>24&255}function Me(u,l,h,s){for(var p=s[0]&255|(s[1]&255)<<8|(s[2]&255)<<16|(s[3]&255)<<24,T=h[0]&255|(h[1]&255)<<8|(h[2]&255)<<16|(h[3]&255)<<24,S=h[4]&255|(h[5]&255)<<8|(h[6]&255)<<16|(h[7]&255)<<24,B=h[8]&255|(h[9]&255)<<8|(h[10]&255)<<16|(h[11]&255)<<24,N=h[12]&255|(h[13]&255)<<8|(h[14]&255)<<16|(h[15]&255)<<24,te=s[4]&255|(s[5]&255)<<8|(s[6]&255)<<16|(s[7]&255)<<24,K=l[0]&255|(l[1]&255)<<8|(l[2]&255)<<16|(l[3]&255)<<24,Ae=l[4]&255|(l[5]&255)<<8|(l[6]&255)<<16|(l[7]&255)<<24,Y=l[8]&255|(l[9]&255)<<8|(l[10]&255)<<16|(l[11]&255)<<24,ae=l[12]&255|(l[13]&255)<<8|(l[14]&255)<<16|(l[15]&255)<<24,fe=s[8]&255|(s[9]&255)<<8|(s[10]&255)<<16|(s[11]&255)<<24,me=h[16]&255|(h[17]&255)<<8|(h[18]&255)<<16|(h[19]&255)<<24,de=h[20]&255|(h[21]&255)<<8|(h[22]&255)<<16|(h[23]&255)<<24,ce=h[24]&255|(h[25]&255)<<8|(h[26]&255)<<16|(h[27]&255)<<24,he=h[28]&255|(h[29]&255)<<8|(h[30]&255)<<16|(h[31]&255)<<24,ue=s[12]&255|(s[13]&255)<<8|(s[14]&255)<<16|(s[15]&255)<<24,J=p,ie=T,V=S,X=B,ee=N,Z=te,$=K,k=Ae,R=Y,L=ae,H=fe,z=me,se=de,ve=ce,xe=he,ye=ue,P,Pe=0;Pe<20;Pe+=2)P=J+se|0,ee^=P<<7|P>>>32-7,P=ee+J|0,R^=P<<9|P>>>32-9,P=R+ee|0,se^=P<<13|P>>>32-13,P=se+R|0,J^=P<<18|P>>>32-18,P=Z+ie|0,L^=P<<7|P>>>32-7,P=L+Z|0,ve^=P<<9|P>>>32-9,P=ve+L|0,ie^=P<<13|P>>>32-13,P=ie+ve|0,Z^=P<<18|P>>>32-18,P=H+$|0,xe^=P<<7|P>>>32-7,P=xe+H|0,V^=P<<9|P>>>32-9,P=V+xe|0,$^=P<<13|P>>>32-13,P=$+V|0,H^=P<<18|P>>>32-18,P=ye+z|0,X^=P<<7|P>>>32-7,P=X+ye|0,k^=P<<9|P>>>32-9,P=k+X|0,z^=P<<13|P>>>32-13,P=z+k|0,ye^=P<<18|P>>>32-18,P=J+X|0,ie^=P<<7|P>>>32-7,P=ie+J|0,V^=P<<9|P>>>32-9,P=V+ie|0,X^=P<<13|P>>>32-13,P=X+V|0,J^=P<<18|P>>>32-18,P=Z+ee|0,$^=P<<7|P>>>32-7,P=$+Z|0,k^=P<<9|P>>>32-9,P=k+$|0,ee^=P<<13|P>>>32-13,P=ee+k|0,Z^=P<<18|P>>>32-18,P=H+L|0,z^=P<<7|P>>>32-7,P=z+H|0,R^=P<<9|P>>>32-9,P=R+z|0,L^=P<<13|P>>>32-13,P=L+R|0,H^=P<<18|P>>>32-18,P=ye+xe|0,se^=P<<7|P>>>32-7,P=se+ye|0,ve^=P<<9|P>>>32-9,P=ve+se|0,xe^=P<<13|P>>>32-13,P=xe+ve|0,ye^=P<<18|P>>>32-18;u[0]=J>>>0&255,u[1]=J>>>8&255,u[2]=J>>>16&255,u[3]=J>>>24&255,u[4]=Z>>>0&255,u[5]=Z>>>8&255,u[6]=Z>>>16&255,u[7]=Z>>>24&255,u[8]=H>>>0&255,u[9]=H>>>8&255,u[10]=H>>>16&255,u[11]=H>>>24&255,u[12]=ye>>>0&255,u[13]=ye>>>8&255,u[14]=ye>>>16&255,u[15]=ye>>>24&255,u[16]=$>>>0&255,u[17]=$>>>8&255,u[18]=$>>>16&255,u[19]=$>>>24&255,u[20]=k>>>0&255,u[21]=k>>>8&255,u[22]=k>>>16&255,u[23]=k>>>24&255,u[24]=R>>>0&255,u[25]=R>>>8&255,u[26]=R>>>16&255,u[27]=R>>>24&255,u[28]=L>>>0&255,u[29]=L>>>8&255,u[30]=L>>>16&255,u[31]=L>>>24&255}function Se(u,l,h,s){$e(u,l,h,s)}function j(u,l,h,s){Me(u,l,h,s)}var ne=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function oe(u,l,h,s,p,T,S){var B=new Uint8Array(16),N=new Uint8Array(64),te,K;for(K=0;K<16;K++)B[K]=0;for(K=0;K<8;K++)B[K]=T[K];for(;p>=64;){for(Se(N,B,S,ne),K=0;K<64;K++)u[l+K]=h[s+K]^N[K];for(te=1,K=8;K<16;K++)te=te+(B[K]&255)|0,B[K]=te&255,te>>>=8;p-=64,l+=64,s+=64}if(p>0)for(Se(N,B,S,ne),K=0;K<p;K++)u[l+K]=h[s+K]^N[K];return 0}function F(u,l,h,s,p){var T=new Uint8Array(16),S=new Uint8Array(64),B,N;for(N=0;N<16;N++)T[N]=0;for(N=0;N<8;N++)T[N]=s[N];for(;h>=64;){for(Se(S,T,p,ne),N=0;N<64;N++)u[l+N]=S[N];for(B=1,N=8;N<16;N++)B=B+(T[N]&255)|0,T[N]=B&255,B>>>=8;h-=64,l+=64}if(h>0)for(Se(S,T,p,ne),N=0;N<h;N++)u[l+N]=S[N];return 0}function O(u,l,h,s,p){var T=new Uint8Array(32);j(T,s,p,ne);for(var S=new Uint8Array(8),B=0;B<8;B++)S[B]=s[B+16];return F(u,l,h,S,T)}function C(u,l,h,s,p,T,S){var B=new Uint8Array(32);j(B,T,S,ne);for(var N=new Uint8Array(8),te=0;te<8;te++)N[te]=T[te+16];return oe(u,l,h,s,p,N,B)}var y=function(u){this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0;var l,h,s,p,T,S,B,N;l=u[0]&255|(u[1]&255)<<8,this.r[0]=l&8191,h=u[2]&255|(u[3]&255)<<8,this.r[1]=(l>>>13|h<<3)&8191,s=u[4]&255|(u[5]&255)<<8,this.r[2]=(h>>>10|s<<6)&7939,p=u[6]&255|(u[7]&255)<<8,this.r[3]=(s>>>7|p<<9)&8191,T=u[8]&255|(u[9]&255)<<8,this.r[4]=(p>>>4|T<<12)&255,this.r[5]=T>>>1&8190,S=u[10]&255|(u[11]&255)<<8,this.r[6]=(T>>>14|S<<2)&8191,B=u[12]&255|(u[13]&255)<<8,this.r[7]=(S>>>11|B<<5)&8065,N=u[14]&255|(u[15]&255)<<8,this.r[8]=(B>>>8|N<<8)&8191,this.r[9]=N>>>5&127,this.pad[0]=u[16]&255|(u[17]&255)<<8,this.pad[1]=u[18]&255|(u[19]&255)<<8,this.pad[2]=u[20]&255|(u[21]&255)<<8,this.pad[3]=u[22]&255|(u[23]&255)<<8,this.pad[4]=u[24]&255|(u[25]&255)<<8,this.pad[5]=u[26]&255|(u[27]&255)<<8,this.pad[6]=u[28]&255|(u[29]&255)<<8,this.pad[7]=u[30]&255|(u[31]&255)<<8};y.prototype.blocks=function(u,l,h){for(var s=this.fin?0:2048,p,T,S,B,N,te,K,Ae,Y,ae,fe,me,de,ce,he,ue,J,ie,V,X=this.h[0],ee=this.h[1],Z=this.h[2],$=this.h[3],k=this.h[4],R=this.h[5],L=this.h[6],H=this.h[7],z=this.h[8],se=this.h[9],ve=this.r[0],xe=this.r[1],ye=this.r[2],P=this.r[3],Pe=this.r[4],Oe=this.r[5],Le=this.r[6],we=this.r[7],Be=this.r[8],Fe=this.r[9];h>=16;)p=u[l+0]&255|(u[l+1]&255)<<8,X+=p&8191,T=u[l+2]&255|(u[l+3]&255)<<8,ee+=(p>>>13|T<<3)&8191,S=u[l+4]&255|(u[l+5]&255)<<8,Z+=(T>>>10|S<<6)&8191,B=u[l+6]&255|(u[l+7]&255)<<8,$+=(S>>>7|B<<9)&8191,N=u[l+8]&255|(u[l+9]&255)<<8,k+=(B>>>4|N<<12)&8191,R+=N>>>1&8191,te=u[l+10]&255|(u[l+11]&255)<<8,L+=(N>>>14|te<<2)&8191,K=u[l+12]&255|(u[l+13]&255)<<8,H+=(te>>>11|K<<5)&8191,Ae=u[l+14]&255|(u[l+15]&255)<<8,z+=(K>>>8|Ae<<8)&8191,se+=Ae>>>5|s,Y=0,ae=Y,ae+=X*ve,ae+=ee*(5*Fe),ae+=Z*(5*Be),ae+=$*(5*we),ae+=k*(5*Le),Y=ae>>>13,ae&=8191,ae+=R*(5*Oe),ae+=L*(5*Pe),ae+=H*(5*P),ae+=z*(5*ye),ae+=se*(5*xe),Y+=ae>>>13,ae&=8191,fe=Y,fe+=X*xe,fe+=ee*ve,fe+=Z*(5*Fe),fe+=$*(5*Be),fe+=k*(5*we),Y=fe>>>13,fe&=8191,fe+=R*(5*Le),fe+=L*(5*Oe),fe+=H*(5*Pe),fe+=z*(5*P),fe+=se*(5*ye),Y+=fe>>>13,fe&=8191,me=Y,me+=X*ye,me+=ee*xe,me+=Z*ve,me+=$*(5*Fe),me+=k*(5*Be),Y=me>>>13,me&=8191,me+=R*(5*we),me+=L*(5*Le),me+=H*(5*Oe),me+=z*(5*Pe),me+=se*(5*P),Y+=me>>>13,me&=8191,de=Y,de+=X*P,de+=ee*ye,de+=Z*xe,de+=$*ve,de+=k*(5*Fe),Y=de>>>13,de&=8191,de+=R*(5*Be),de+=L*(5*we),de+=H*(5*Le),de+=z*(5*Oe),de+=se*(5*Pe),Y+=de>>>13,de&=8191,ce=Y,ce+=X*Pe,ce+=ee*P,ce+=Z*ye,ce+=$*xe,ce+=k*ve,Y=ce>>>13,ce&=8191,ce+=R*(5*Fe),ce+=L*(5*Be),ce+=H*(5*we),ce+=z*(5*Le),ce+=se*(5*Oe),Y+=ce>>>13,ce&=8191,he=Y,he+=X*Oe,he+=ee*Pe,he+=Z*P,he+=$*ye,he+=k*xe,Y=he>>>13,he&=8191,he+=R*ve,he+=L*(5*Fe),he+=H*(5*Be),he+=z*(5*we),he+=se*(5*Le),Y+=he>>>13,he&=8191,ue=Y,ue+=X*Le,ue+=ee*Oe,ue+=Z*Pe,ue+=$*P,ue+=k*ye,Y=ue>>>13,ue&=8191,ue+=R*xe,ue+=L*ve,ue+=H*(5*Fe),ue+=z*(5*Be),ue+=se*(5*we),Y+=ue>>>13,ue&=8191,J=Y,J+=X*we,J+=ee*Le,J+=Z*Oe,J+=$*Pe,J+=k*P,Y=J>>>13,J&=8191,J+=R*ye,J+=L*xe,J+=H*ve,J+=z*(5*Fe),J+=se*(5*Be),Y+=J>>>13,J&=8191,ie=Y,ie+=X*Be,ie+=ee*we,ie+=Z*Le,ie+=$*Oe,ie+=k*Pe,Y=ie>>>13,ie&=8191,ie+=R*P,ie+=L*ye,ie+=H*xe,ie+=z*ve,ie+=se*(5*Fe),Y+=ie>>>13,ie&=8191,V=Y,V+=X*Fe,V+=ee*Be,V+=Z*we,V+=$*Le,V+=k*Oe,Y=V>>>13,V&=8191,V+=R*Pe,V+=L*P,V+=H*ye,V+=z*xe,V+=se*ve,Y+=V>>>13,V&=8191,Y=(Y<<2)+Y|0,Y=Y+ae|0,ae=Y&8191,Y=Y>>>13,fe+=Y,X=ae,ee=fe,Z=me,$=de,k=ce,R=he,L=ue,H=J,z=ie,se=V,l+=16,h-=16;this.h[0]=X,this.h[1]=ee,this.h[2]=Z,this.h[3]=$,this.h[4]=k,this.h[5]=R,this.h[6]=L,this.h[7]=H,this.h[8]=z,this.h[9]=se},y.prototype.finish=function(u,l){var h=new Uint16Array(10),s,p,T,S;if(this.leftover){for(S=this.leftover,this.buffer[S++]=1;S<16;S++)this.buffer[S]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(s=this.h[1]>>>13,this.h[1]&=8191,S=2;S<10;S++)this.h[S]+=s,s=this.h[S]>>>13,this.h[S]&=8191;for(this.h[0]+=s*5,s=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=s,s=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=s,h[0]=this.h[0]+5,s=h[0]>>>13,h[0]&=8191,S=1;S<10;S++)h[S]=this.h[S]+s,s=h[S]>>>13,h[S]&=8191;for(h[9]-=8192,p=(s^1)-1,S=0;S<10;S++)h[S]&=p;for(p=~p,S=0;S<10;S++)this.h[S]=this.h[S]&p|h[S];for(this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535,T=this.h[0]+this.pad[0],this.h[0]=T&65535,S=1;S<8;S++)T=(this.h[S]+this.pad[S]|0)+(T>>>16)|0,this.h[S]=T&65535;u[l+0]=this.h[0]>>>0&255,u[l+1]=this.h[0]>>>8&255,u[l+2]=this.h[1]>>>0&255,u[l+3]=this.h[1]>>>8&255,u[l+4]=this.h[2]>>>0&255,u[l+5]=this.h[2]>>>8&255,u[l+6]=this.h[3]>>>0&255,u[l+7]=this.h[3]>>>8&255,u[l+8]=this.h[4]>>>0&255,u[l+9]=this.h[4]>>>8&255,u[l+10]=this.h[5]>>>0&255,u[l+11]=this.h[5]>>>8&255,u[l+12]=this.h[6]>>>0&255,u[l+13]=this.h[6]>>>8&255,u[l+14]=this.h[7]>>>0&255,u[l+15]=this.h[7]>>>8&255},y.prototype.update=function(u,l,h){var s,p;if(this.leftover){for(p=16-this.leftover,p>h&&(p=h),s=0;s<p;s++)this.buffer[this.leftover+s]=u[l+s];if(h-=p,l+=p,this.leftover+=p,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(h>=16&&(p=h-h%16,this.blocks(u,l,p),l+=p,h-=p),h){for(s=0;s<h;s++)this.buffer[this.leftover+s]=u[l+s];this.leftover+=h}};function i(u,l,h,s,p,T){var S=new y(T);return S.update(h,s,p),S.finish(u,l),0}function c(u,l,h,s,p,T){var S=new Uint8Array(16);return i(S,0,h,s,p,T),Ie(u,l,S,0)}function m(u,l,h,s,p){var T;if(h<32)return-1;for(C(u,0,l,0,h,s,p),i(u,16,u,32,h-32,u),T=0;T<16;T++)u[T]=0;return 0}function v(u,l,h,s,p){var T,S=new Uint8Array(32);if(h<32||(O(S,0,32,s,p),c(l,16,l,32,h-32,S)!==0))return-1;for(C(u,0,l,0,h,s,p),T=0;T<32;T++)u[T]=0;return 0}function x(u,l){var h;for(h=0;h<16;h++)u[h]=l[h]|0}function M(u){var l,h,s=1;for(l=0;l<16;l++)h=u[l]+s+65535,s=Math.floor(h/65536),u[l]=h-s*65536;u[0]+=s-1+37*(s-1)}function _(u,l,h){for(var s,p=~(h-1),T=0;T<16;T++)s=p&(u[T]^l[T]),u[T]^=s,l[T]^=s}function b(u,l){var h,s,p,T=t(),S=t();for(h=0;h<16;h++)S[h]=l[h];for(M(S),M(S),M(S),s=0;s<2;s++){for(T[0]=S[0]-65517,h=1;h<15;h++)T[h]=S[h]-65535-(T[h-1]>>16&1),T[h-1]&=65535;T[15]=S[15]-32767-(T[14]>>16&1),p=T[15]>>16&1,T[14]&=65535,_(S,T,1-p)}for(h=0;h<16;h++)u[2*h]=S[h]&255,u[2*h+1]=S[h]>>8}function f(u,l){var h=new Uint8Array(32),s=new Uint8Array(32);return b(h,u),b(s,l),Ee(h,0,s,0)}function w(u){var l=new Uint8Array(32);return b(l,u),l[0]&1}function re(u,l){var h;for(h=0;h<16;h++)u[h]=l[2*h]+(l[2*h+1]<<8);u[15]&=32767}function W(u,l,h){for(var s=0;s<16;s++)u[s]=l[s]+h[s]}function Q(u,l,h){for(var s=0;s<16;s++)u[s]=l[s]-h[s]}function q(u,l,h){var s,p,T=0,S=0,B=0,N=0,te=0,K=0,Ae=0,Y=0,ae=0,fe=0,me=0,de=0,ce=0,he=0,ue=0,J=0,ie=0,V=0,X=0,ee=0,Z=0,$=0,k=0,R=0,L=0,H=0,z=0,se=0,ve=0,xe=0,ye=0,P=h[0],Pe=h[1],Oe=h[2],Le=h[3],we=h[4],Be=h[5],Fe=h[6],_t=h[7],je=h[8],wt=h[9],Et=h[10],Pt=h[11],It=h[12],Bt=h[13],Ft=h[14],Ct=h[15];s=l[0],T+=s*P,S+=s*Pe,B+=s*Oe,N+=s*Le,te+=s*we,K+=s*Be,Ae+=s*Fe,Y+=s*_t,ae+=s*je,fe+=s*wt,me+=s*Et,de+=s*Pt,ce+=s*It,he+=s*Bt,ue+=s*Ft,J+=s*Ct,s=l[1],S+=s*P,B+=s*Pe,N+=s*Oe,te+=s*Le,K+=s*we,Ae+=s*Be,Y+=s*Fe,ae+=s*_t,fe+=s*je,me+=s*wt,de+=s*Et,ce+=s*Pt,he+=s*It,ue+=s*Bt,J+=s*Ft,ie+=s*Ct,s=l[2],B+=s*P,N+=s*Pe,te+=s*Oe,K+=s*Le,Ae+=s*we,Y+=s*Be,ae+=s*Fe,fe+=s*_t,me+=s*je,de+=s*wt,ce+=s*Et,he+=s*Pt,ue+=s*It,J+=s*Bt,ie+=s*Ft,V+=s*Ct,s=l[3],N+=s*P,te+=s*Pe,K+=s*Oe,Ae+=s*Le,Y+=s*we,ae+=s*Be,fe+=s*Fe,me+=s*_t,de+=s*je,ce+=s*wt,he+=s*Et,ue+=s*Pt,J+=s*It,ie+=s*Bt,V+=s*Ft,X+=s*Ct,s=l[4],te+=s*P,K+=s*Pe,Ae+=s*Oe,Y+=s*Le,ae+=s*we,fe+=s*Be,me+=s*Fe,de+=s*_t,ce+=s*je,he+=s*wt,ue+=s*Et,J+=s*Pt,ie+=s*It,V+=s*Bt,X+=s*Ft,ee+=s*Ct,s=l[5],K+=s*P,Ae+=s*Pe,Y+=s*Oe,ae+=s*Le,fe+=s*we,me+=s*Be,de+=s*Fe,ce+=s*_t,he+=s*je,ue+=s*wt,J+=s*Et,ie+=s*Pt,V+=s*It,X+=s*Bt,ee+=s*Ft,Z+=s*Ct,s=l[6],Ae+=s*P,Y+=s*Pe,ae+=s*Oe,fe+=s*Le,me+=s*we,de+=s*Be,ce+=s*Fe,he+=s*_t,ue+=s*je,J+=s*wt,ie+=s*Et,V+=s*Pt,X+=s*It,ee+=s*Bt,Z+=s*Ft,$+=s*Ct,s=l[7],Y+=s*P,ae+=s*Pe,fe+=s*Oe,me+=s*Le,de+=s*we,ce+=s*Be,he+=s*Fe,ue+=s*_t,J+=s*je,ie+=s*wt,V+=s*Et,X+=s*Pt,ee+=s*It,Z+=s*Bt,$+=s*Ft,k+=s*Ct,s=l[8],ae+=s*P,fe+=s*Pe,me+=s*Oe,de+=s*Le,ce+=s*we,he+=s*Be,ue+=s*Fe,J+=s*_t,ie+=s*je,V+=s*wt,X+=s*Et,ee+=s*Pt,Z+=s*It,$+=s*Bt,k+=s*Ft,R+=s*Ct,s=l[9],fe+=s*P,me+=s*Pe,de+=s*Oe,ce+=s*Le,he+=s*we,ue+=s*Be,J+=s*Fe,ie+=s*_t,V+=s*je,X+=s*wt,ee+=s*Et,Z+=s*Pt,$+=s*It,k+=s*Bt,R+=s*Ft,L+=s*Ct,s=l[10],me+=s*P,de+=s*Pe,ce+=s*Oe,he+=s*Le,ue+=s*we,J+=s*Be,ie+=s*Fe,V+=s*_t,X+=s*je,ee+=s*wt,Z+=s*Et,$+=s*Pt,k+=s*It,R+=s*Bt,L+=s*Ft,H+=s*Ct,s=l[11],de+=s*P,ce+=s*Pe,he+=s*Oe,ue+=s*Le,J+=s*we,ie+=s*Be,V+=s*Fe,X+=s*_t,ee+=s*je,Z+=s*wt,$+=s*Et,k+=s*Pt,R+=s*It,L+=s*Bt,H+=s*Ft,z+=s*Ct,s=l[12],ce+=s*P,he+=s*Pe,ue+=s*Oe,J+=s*Le,ie+=s*we,V+=s*Be,X+=s*Fe,ee+=s*_t,Z+=s*je,$+=s*wt,k+=s*Et,R+=s*Pt,L+=s*It,H+=s*Bt,z+=s*Ft,se+=s*Ct,s=l[13],he+=s*P,ue+=s*Pe,J+=s*Oe,ie+=s*Le,V+=s*we,X+=s*Be,ee+=s*Fe,Z+=s*_t,$+=s*je,k+=s*wt,R+=s*Et,L+=s*Pt,H+=s*It,z+=s*Bt,se+=s*Ft,ve+=s*Ct,s=l[14],ue+=s*P,J+=s*Pe,ie+=s*Oe,V+=s*Le,X+=s*we,ee+=s*Be,Z+=s*Fe,$+=s*_t,k+=s*je,R+=s*wt,L+=s*Et,H+=s*Pt,z+=s*It,se+=s*Bt,ve+=s*Ft,xe+=s*Ct,s=l[15],J+=s*P,ie+=s*Pe,V+=s*Oe,X+=s*Le,ee+=s*we,Z+=s*Be,$+=s*Fe,k+=s*_t,R+=s*je,L+=s*wt,H+=s*Et,z+=s*Pt,se+=s*It,ve+=s*Bt,xe+=s*Ft,ye+=s*Ct,T+=38*ie,S+=38*V,B+=38*X,N+=38*ee,te+=38*Z,K+=38*$,Ae+=38*k,Y+=38*R,ae+=38*L,fe+=38*H,me+=38*z,de+=38*se,ce+=38*ve,he+=38*xe,ue+=38*ye,p=1,s=T+p+65535,p=Math.floor(s/65536),T=s-p*65536,s=S+p+65535,p=Math.floor(s/65536),S=s-p*65536,s=B+p+65535,p=Math.floor(s/65536),B=s-p*65536,s=N+p+65535,p=Math.floor(s/65536),N=s-p*65536,s=te+p+65535,p=Math.floor(s/65536),te=s-p*65536,s=K+p+65535,p=Math.floor(s/65536),K=s-p*65536,s=Ae+p+65535,p=Math.floor(s/65536),Ae=s-p*65536,s=Y+p+65535,p=Math.floor(s/65536),Y=s-p*65536,s=ae+p+65535,p=Math.floor(s/65536),ae=s-p*65536,s=fe+p+65535,p=Math.floor(s/65536),fe=s-p*65536,s=me+p+65535,p=Math.floor(s/65536),me=s-p*65536,s=de+p+65535,p=Math.floor(s/65536),de=s-p*65536,s=ce+p+65535,p=Math.floor(s/65536),ce=s-p*65536,s=he+p+65535,p=Math.floor(s/65536),he=s-p*65536,s=ue+p+65535,p=Math.floor(s/65536),ue=s-p*65536,s=J+p+65535,p=Math.floor(s/65536),J=s-p*65536,T+=p-1+37*(p-1),p=1,s=T+p+65535,p=Math.floor(s/65536),T=s-p*65536,s=S+p+65535,p=Math.floor(s/65536),S=s-p*65536,s=B+p+65535,p=Math.floor(s/65536),B=s-p*65536,s=N+p+65535,p=Math.floor(s/65536),N=s-p*65536,s=te+p+65535,p=Math.floor(s/65536),te=s-p*65536,s=K+p+65535,p=Math.floor(s/65536),K=s-p*65536,s=Ae+p+65535,p=Math.floor(s/65536),Ae=s-p*65536,s=Y+p+65535,p=Math.floor(s/65536),Y=s-p*65536,s=ae+p+65535,p=Math.floor(s/65536),ae=s-p*65536,s=fe+p+65535,p=Math.floor(s/65536),fe=s-p*65536,s=me+p+65535,p=Math.floor(s/65536),me=s-p*65536,s=de+p+65535,p=Math.floor(s/65536),de=s-p*65536,s=ce+p+65535,p=Math.floor(s/65536),ce=s-p*65536,s=he+p+65535,p=Math.floor(s/65536),he=s-p*65536,s=ue+p+65535,p=Math.floor(s/65536),ue=s-p*65536,s=J+p+65535,p=Math.floor(s/65536),J=s-p*65536,T+=p-1+37*(p-1),u[0]=T,u[1]=S,u[2]=B,u[3]=N,u[4]=te,u[5]=K,u[6]=Ae,u[7]=Y,u[8]=ae,u[9]=fe,u[10]=me,u[11]=de,u[12]=ce,u[13]=he,u[14]=ue,u[15]=J}function ge(u,l){q(u,l,l)}function ze(u,l){var h=t(),s;for(s=0;s<16;s++)h[s]=l[s];for(s=253;s>=0;s--)ge(h,h),s!==2&&s!==4&&q(h,h,l);for(s=0;s<16;s++)u[s]=h[s]}function Vt(u,l){var h=t(),s;for(s=0;s<16;s++)h[s]=l[s];for(s=250;s>=0;s--)ge(h,h),s!==1&&q(h,h,l);for(s=0;s<16;s++)u[s]=h[s]}function De(u,l,h){var s=new Uint8Array(32),p=new Float64Array(80),T,S,B=t(),N=t(),te=t(),K=t(),Ae=t(),Y=t();for(S=0;S<31;S++)s[S]=l[S];for(s[31]=l[31]&127|64,s[0]&=248,re(p,h),S=0;S<16;S++)N[S]=p[S],K[S]=B[S]=te[S]=0;for(B[0]=K[0]=1,S=254;S>=0;--S)T=s[S>>>3]>>>(S&7)&1,_(B,N,T),_(te,K,T),W(Ae,B,te),Q(B,B,te),W(te,N,K),Q(N,N,K),ge(K,Ae),ge(Y,B),q(B,te,B),q(te,N,Ae),W(Ae,B,te),Q(B,B,te),ge(N,B),Q(te,K,Y),q(B,te,E),W(B,B,K),q(te,te,B),q(B,K,Y),q(K,N,p),ge(N,Ae),_(B,N,T),_(te,K,T);for(S=0;S<16;S++)p[S+16]=B[S],p[S+32]=te[S],p[S+48]=N[S],p[S+64]=K[S];var ae=p.subarray(32),fe=p.subarray(16);return ze(ae,ae),q(fe,fe,ae),b(u,fe),0}function Ue(u,l){return De(u,l,o)}function Rr(u,l){return r(l,32),Ue(u,l)}function et(u,l,h){var s=new Uint8Array(32);return De(s,h,l),j(u,a,s,ne)}var ht=m,sn=v;function gt(u,l,h,s,p,T){var S=new Uint8Array(32);return et(S,p,T),ht(u,l,h,s,S)}function vt(u,l,h,s,p,T){var S=new Uint8Array(32);return et(S,p,T),sn(u,l,h,s,S)}var zr=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function dt(u,l,h,s){for(var p=new Int32Array(16),T=new Int32Array(16),S,B,N,te,K,Ae,Y,ae,fe,me,de,ce,he,ue,J,ie,V,X,ee,Z,$,k,R,L,H,z,se=u[0],ve=u[1],xe=u[2],ye=u[3],P=u[4],Pe=u[5],Oe=u[6],Le=u[7],we=l[0],Be=l[1],Fe=l[2],_t=l[3],je=l[4],wt=l[5],Et=l[6],Pt=l[7],It=0;s>=128;){for(ee=0;ee<16;ee++)Z=8*ee+It,p[ee]=h[Z+0]<<24|h[Z+1]<<16|h[Z+2]<<8|h[Z+3],T[ee]=h[Z+4]<<24|h[Z+5]<<16|h[Z+6]<<8|h[Z+7];for(ee=0;ee<80;ee++)if(S=se,B=ve,N=xe,te=ye,K=P,Ae=Pe,Y=Oe,ae=Le,fe=we,me=Be,de=Fe,ce=_t,he=je,ue=wt,J=Et,ie=Pt,$=Le,k=Pt,R=k&65535,L=k>>>16,H=$&65535,z=$>>>16,$=(P>>>14|je<<32-14)^(P>>>18|je<<32-18)^(je>>>41-32|P<<32-(41-32)),k=(je>>>14|P<<32-14)^(je>>>18|P<<32-18)^(P>>>41-32|je<<32-(41-32)),R+=k&65535,L+=k>>>16,H+=$&65535,z+=$>>>16,$=P&Pe^~P&Oe,k=je&wt^~je&Et,R+=k&65535,L+=k>>>16,H+=$&65535,z+=$>>>16,$=zr[ee*2],k=zr[ee*2+1],R+=k&65535,L+=k>>>16,H+=$&65535,z+=$>>>16,$=p[ee%16],k=T[ee%16],R+=k&65535,L+=k>>>16,H+=$&65535,z+=$>>>16,L+=R>>>16,H+=L>>>16,z+=H>>>16,V=H&65535|z<<16,X=R&65535|L<<16,$=V,k=X,R=k&65535,L=k>>>16,H=$&65535,z=$>>>16,$=(se>>>28|we<<32-28)^(we>>>34-32|se<<32-(34-32))^(we>>>39-32|se<<32-(39-32)),k=(we>>>28|se<<32-28)^(se>>>34-32|we<<32-(34-32))^(se>>>39-32|we<<32-(39-32)),R+=k&65535,L+=k>>>16,H+=$&65535,z+=$>>>16,$=se&ve^se&xe^ve&xe,k=we&Be^we&Fe^Be&Fe,R+=k&65535,L+=k>>>16,H+=$&65535,z+=$>>>16,L+=R>>>16,H+=L>>>16,z+=H>>>16,ae=H&65535|z<<16,ie=R&65535|L<<16,$=te,k=ce,R=k&65535,L=k>>>16,H=$&65535,z=$>>>16,$=V,k=X,R+=k&65535,L+=k>>>16,H+=$&65535,z+=$>>>16,L+=R>>>16,H+=L>>>16,z+=H>>>16,te=H&65535|z<<16,ce=R&65535|L<<16,ve=S,xe=B,ye=N,P=te,Pe=K,Oe=Ae,Le=Y,se=ae,Be=fe,Fe=me,_t=de,je=ce,wt=he,Et=ue,Pt=J,we=ie,ee%16===15)for(Z=0;Z<16;Z++)$=p[Z],k=T[Z],R=k&65535,L=k>>>16,H=$&65535,z=$>>>16,$=p[(Z+9)%16],k=T[(Z+9)%16],R+=k&65535,L+=k>>>16,H+=$&65535,z+=$>>>16,V=p[(Z+1)%16],X=T[(Z+1)%16],$=(V>>>1|X<<32-1)^(V>>>8|X<<32-8)^V>>>7,k=(X>>>1|V<<32-1)^(X>>>8|V<<32-8)^(X>>>7|V<<32-7),R+=k&65535,L+=k>>>16,H+=$&65535,z+=$>>>16,V=p[(Z+14)%16],X=T[(Z+14)%16],$=(V>>>19|X<<32-19)^(X>>>61-32|V<<32-(61-32))^V>>>6,k=(X>>>19|V<<32-19)^(V>>>61-32|X<<32-(61-32))^(X>>>6|V<<32-6),R+=k&65535,L+=k>>>16,H+=$&65535,z+=$>>>16,L+=R>>>16,H+=L>>>16,z+=H>>>16,p[Z]=H&65535|z<<16,T[Z]=R&65535|L<<16;$=se,k=we,R=k&65535,L=k>>>16,H=$&65535,z=$>>>16,$=u[0],k=l[0],R+=k&65535,L+=k>>>16,H+=$&65535,z+=$>>>16,L+=R>>>16,H+=L>>>16,z+=H>>>16,u[0]=se=H&65535|z<<16,l[0]=we=R&65535|L<<16,$=ve,k=Be,R=k&65535,L=k>>>16,H=$&65535,z=$>>>16,$=u[1],k=l[1],R+=k&65535,L+=k>>>16,H+=$&65535,z+=$>>>16,L+=R>>>16,H+=L>>>16,z+=H>>>16,u[1]=ve=H&65535|z<<16,l[1]=Be=R&65535|L<<16,$=xe,k=Fe,R=k&65535,L=k>>>16,H=$&65535,z=$>>>16,$=u[2],k=l[2],R+=k&65535,L+=k>>>16,H+=$&65535,z+=$>>>16,L+=R>>>16,H+=L>>>16,z+=H>>>16,u[2]=xe=H&65535|z<<16,l[2]=Fe=R&65535|L<<16,$=ye,k=_t,R=k&65535,L=k>>>16,H=$&65535,z=$>>>16,$=u[3],k=l[3],R+=k&65535,L+=k>>>16,H+=$&65535,z+=$>>>16,L+=R>>>16,H+=L>>>16,z+=H>>>16,u[3]=ye=H&65535|z<<16,l[3]=_t=R&65535|L<<16,$=P,k=je,R=k&65535,L=k>>>16,H=$&65535,z=$>>>16,$=u[4],k=l[4],R+=k&65535,L+=k>>>16,H+=$&65535,z+=$>>>16,L+=R>>>16,H+=L>>>16,z+=H>>>16,u[4]=P=H&65535|z<<16,l[4]=je=R&65535|L<<16,$=Pe,k=wt,R=k&65535,L=k>>>16,H=$&65535,z=$>>>16,$=u[5],k=l[5],R+=k&65535,L+=k>>>16,H+=$&65535,z+=$>>>16,L+=R>>>16,H+=L>>>16,z+=H>>>16,u[5]=Pe=H&65535|z<<16,l[5]=wt=R&65535|L<<16,$=Oe,k=Et,R=k&65535,L=k>>>16,H=$&65535,z=$>>>16,$=u[6],k=l[6],R+=k&65535,L+=k>>>16,H+=$&65535,z+=$>>>16,L+=R>>>16,H+=L>>>16,z+=H>>>16,u[6]=Oe=H&65535|z<<16,l[6]=Et=R&65535|L<<16,$=Le,k=Pt,R=k&65535,L=k>>>16,H=$&65535,z=$>>>16,$=u[7],k=l[7],R+=k&65535,L+=k>>>16,H+=$&65535,z+=$>>>16,L+=R>>>16,H+=L>>>16,z+=H>>>16,u[7]=Le=H&65535|z<<16,l[7]=Pt=R&65535|L<<16,It+=128,s-=128}return s}function Ke(u,l,h){var s=new Int32Array(8),p=new Int32Array(8),T=new Uint8Array(256),S,B=h;for(s[0]=1779033703,s[1]=3144134277,s[2]=1013904242,s[3]=2773480762,s[4]=1359893119,s[5]=2600822924,s[6]=528734635,s[7]=1541459225,p[0]=4089235720,p[1]=2227873595,p[2]=4271175723,p[3]=1595750129,p[4]=2917565137,p[5]=725511199,p[6]=4215389547,p[7]=327033209,dt(s,p,l,h),h%=128,S=0;S<h;S++)T[S]=l[B-h+S];for(T[h]=128,h=256-128*(h<112?1:0),T[h-9]=0,le(T,h-8,B/536870912|0,B<<3),dt(s,p,T,h),S=0;S<8;S++)le(u,8*S,s[S],p[S]);return 0}function mr(u,l){var h=t(),s=t(),p=t(),T=t(),S=t(),B=t(),N=t(),te=t(),K=t();Q(h,u[1],u[0]),Q(K,l[1],l[0]),q(h,h,K),W(s,u[0],u[1]),W(K,l[0],l[1]),q(s,s,K),q(p,u[3],l[3]),q(p,p,I),q(T,u[2],l[2]),W(T,T,T),Q(S,s,h),Q(B,T,p),W(N,T,p),W(te,s,h),q(u[0],S,B),q(u[1],te,N),q(u[2],N,B),q(u[3],S,te)}function lt(u,l,h){var s;for(s=0;s<4;s++)_(u[s],l[s],h)}function it(u,l){var h=t(),s=t(),p=t();ze(p,l[2]),q(h,l[0],p),q(s,l[1],p),b(u,s),u[31]^=w(h)<<7}function Pr(u,l,h){var s,p;for(x(u[0],d),x(u[1],g),x(u[2],g),x(u[3],d),p=255;p>=0;--p)s=h[p/8|0]>>(p&7)&1,lt(u,l,s),mr(l,u),mr(u,u),lt(u,l,s)}function tt(u,l){var h=[t(),t(),t(),t()];x(h[0],U),x(h[1],G),x(h[2],g),q(h[3],U,G),Pr(u,h,l)}function ot(u,l,h){var s=new Uint8Array(64),p=[t(),t(),t(),t()],T;for(h||r(l,32),Ke(s,l,32),s[0]&=248,s[31]&=127,s[31]|=64,tt(p,s),it(u,p),T=0;T<32;T++)l[T+32]=u[T];return 0}var pr=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function st(u,l){var h,s,p,T;for(s=63;s>=32;--s){for(h=0,p=s-32,T=s-12;p<T;++p)l[p]+=h-16*l[s]*pr[p-(s-32)],h=Math.floor((l[p]+128)/256),l[p]-=h*256;l[p]+=h,l[s]=0}for(h=0,p=0;p<32;p++)l[p]+=h-(l[31]>>4)*pr[p],h=l[p]>>8,l[p]&=255;for(p=0;p<32;p++)l[p]-=h*pr[p];for(s=0;s<32;s++)l[s+1]+=l[s]>>8,u[s]=l[s]&255}function at(u){var l=new Float64Array(64),h;for(h=0;h<64;h++)l[h]=u[h];for(h=0;h<64;h++)u[h]=0;st(u,l)}function Ur(u,l,h,s){var p=new Uint8Array(64),T=new Uint8Array(64),S=new Uint8Array(64),B,N,te=new Float64Array(64),K=[t(),t(),t(),t()];Ke(p,s,32),p[0]&=248,p[31]&=127,p[31]|=64;var Ae=h+64;for(B=0;B<h;B++)u[64+B]=l[B];for(B=0;B<32;B++)u[32+B]=p[32+B];for(Ke(S,u.subarray(32),h+32),at(S),tt(K,S),it(u,K),B=32;B<64;B++)u[B]=s[B];for(Ke(T,u,h+64),at(T),B=0;B<64;B++)te[B]=0;for(B=0;B<32;B++)te[B]=S[B];for(B=0;B<32;B++)for(N=0;N<32;N++)te[B+N]+=T[B]*p[N];return st(u.subarray(32),te),Ae}function yt(u,l){var h=t(),s=t(),p=t(),T=t(),S=t(),B=t(),N=t();return x(u[2],g),re(u[1],l),ge(p,u[1]),q(T,p,A),Q(p,p,u[2]),W(T,u[2],T),ge(S,T),ge(B,S),q(N,B,S),q(h,N,p),q(h,h,T),Vt(h,h),q(h,h,p),q(h,h,T),q(h,h,T),q(u[0],h,T),ge(s,u[0]),q(s,s,T),f(s,p)&&q(u[0],u[0],pe),ge(s,u[0]),q(s,s,T),f(s,p)?-1:(w(u[0])===l[31]>>7&&Q(u[0],d,u[0]),q(u[3],u[0],u[1]),0)}function ft(u,l,h,s){var p,T=new Uint8Array(32),S=new Uint8Array(64),B=[t(),t(),t(),t()],N=[t(),t(),t(),t()];if(h<64||yt(N,s))return-1;for(p=0;p<h;p++)u[p]=l[p];for(p=0;p<32;p++)u[p+32]=s[p];if(Ke(S,u,h),at(S),Pr(B,N,S),tt(N,l.subarray(32)),mr(B,N),it(T,B),h-=64,Ee(l,0,T,0)){for(p=0;p<h;p++)u[p]=0;return-1}for(p=0;p<h;p++)u[p]=l[p+64];return h}var Mr=32,rt=24,Je=32,rr=16,Xe=32,nt=32,or=32,Qe=32,ct=32,jr=rt,bt=Je,xt=rr,Ut=64,Ve=32,Ye=64,Tr=32,ut=64;e.lowlevel={crypto_core_hsalsa20:j,crypto_stream_xor:C,crypto_stream:O,crypto_stream_salsa20_xor:oe,crypto_stream_salsa20:F,crypto_onetimeauth:i,crypto_onetimeauth_verify:c,crypto_verify_16:Ie,crypto_verify_32:Ee,crypto_secretbox:m,crypto_secretbox_open:v,crypto_scalarmult:De,crypto_scalarmult_base:Ue,crypto_box_beforenm:et,crypto_box_afternm:ht,crypto_box:gt,crypto_box_open:vt,crypto_box_keypair:Rr,crypto_hash:Ke,crypto_sign:Ur,crypto_sign_keypair:ot,crypto_sign_open:ft,crypto_secretbox_KEYBYTES:Mr,crypto_secretbox_NONCEBYTES:rt,crypto_secretbox_ZEROBYTES:Je,crypto_secretbox_BOXZEROBYTES:rr,crypto_scalarmult_BYTES:Xe,crypto_scalarmult_SCALARBYTES:nt,crypto_box_PUBLICKEYBYTES:or,crypto_box_SECRETKEYBYTES:Qe,crypto_box_BEFORENMBYTES:ct,crypto_box_NONCEBYTES:jr,crypto_box_ZEROBYTES:bt,crypto_box_BOXZEROBYTES:xt,crypto_sign_BYTES:Ut,crypto_sign_PUBLICKEYBYTES:Ve,crypto_sign_SECRETKEYBYTES:Ye,crypto_sign_SEEDBYTES:Tr,crypto_hash_BYTES:ut,gf:t,D:A,L:pr,pack25519:b,unpack25519:re,M:q,A:W,S:ge,Z:Q,pow2523:Vt,add:mr,set25519:x,modL:st,scalarmult:Pr,scalarbase:tt};function mt(u,l){if(u.length!==Mr)throw new Error("bad key size");if(l.length!==rt)throw new Error("bad nonce size")}function an(u,l){if(u.length!==or)throw new Error("bad public key size");if(l.length!==Qe)throw new Error("bad secret key size")}function ke(){for(var u=0;u<arguments.length;u++)if(!(arguments[u]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function pt(u){for(var l=0;l<u.length;l++)u[l]=0}e.randomBytes=function(u){var l=new Uint8Array(u);return r(l,u),l},e.secretbox=function(u,l,h){ke(u,l,h),mt(h,l);for(var s=new Uint8Array(Je+u.length),p=new Uint8Array(s.length),T=0;T<u.length;T++)s[T+Je]=u[T];return m(p,s,s.length,l,h),p.subarray(rr)},e.secretbox.open=function(u,l,h){ke(u,l,h),mt(h,l);for(var s=new Uint8Array(rr+u.length),p=new Uint8Array(s.length),T=0;T<u.length;T++)s[T+rr]=u[T];return s.length<32||v(p,s,s.length,l,h)!==0?null:p.subarray(Je)},e.secretbox.keyLength=Mr,e.secretbox.nonceLength=rt,e.secretbox.overheadLength=rr,e.scalarMult=function(u,l){if(ke(u,l),u.length!==nt)throw new Error("bad n size");if(l.length!==Xe)throw new Error("bad p size");var h=new Uint8Array(Xe);return De(h,u,l),h},e.scalarMult.base=function(u){if(ke(u),u.length!==nt)throw new Error("bad n size");var l=new Uint8Array(Xe);return Ue(l,u),l},e.scalarMult.scalarLength=nt,e.scalarMult.groupElementLength=Xe,e.box=function(u,l,h,s){var p=e.box.before(h,s);return e.secretbox(u,l,p)},e.box.before=function(u,l){ke(u,l),an(u,l);var h=new Uint8Array(ct);return et(h,u,l),h},e.box.after=e.secretbox,e.box.open=function(u,l,h,s){var p=e.box.before(h,s);return e.secretbox.open(u,l,p)},e.box.open.after=e.secretbox.open,e.box.keyPair=function(){var u=new Uint8Array(or),l=new Uint8Array(Qe);return Rr(u,l),{publicKey:u,secretKey:l}},e.box.keyPair.fromSecretKey=function(u){if(ke(u),u.length!==Qe)throw new Error("bad secret key size");var l=new Uint8Array(or);return Ue(l,u),{publicKey:l,secretKey:new Uint8Array(u)}},e.box.publicKeyLength=or,e.box.secretKeyLength=Qe,e.box.sharedKeyLength=ct,e.box.nonceLength=jr,e.box.overheadLength=e.secretbox.overheadLength,e.sign=function(u,l){if(ke(u,l),l.length!==Ye)throw new Error("bad secret key size");var h=new Uint8Array(Ut+u.length);return Ur(h,u,u.length,l),h},e.sign.open=function(u,l){if(ke(u,l),l.length!==Ve)throw new Error("bad public key size");var h=new Uint8Array(u.length),s=ft(h,u,u.length,l);if(s<0)return null;for(var p=new Uint8Array(s),T=0;T<p.length;T++)p[T]=h[T];return p},e.sign.detached=function(u,l){for(var h=e.sign(u,l),s=new Uint8Array(Ut),p=0;p<s.length;p++)s[p]=h[p];return s},e.sign.detached.verify=function(u,l,h){if(ke(u,l,h),l.length!==Ut)throw new Error("bad signature size");if(h.length!==Ve)throw new Error("bad public key size");var s=new Uint8Array(Ut+u.length),p=new Uint8Array(Ut+u.length),T;for(T=0;T<Ut;T++)s[T]=l[T];for(T=0;T<u.length;T++)s[T+Ut]=u[T];return ft(p,s,s.length,h)>=0},e.sign.keyPair=function(){var u=new Uint8Array(Ve),l=new Uint8Array(Ye);return ot(u,l),{publicKey:u,secretKey:l}},e.sign.keyPair.fromSecretKey=function(u){if(ke(u),u.length!==Ye)throw new Error("bad secret key size");for(var l=new Uint8Array(Ve),h=0;h<l.length;h++)l[h]=u[32+h];return{publicKey:l,secretKey:new Uint8Array(u)}},e.sign.keyPair.fromSeed=function(u){if(ke(u),u.length!==Tr)throw new Error("bad seed size");for(var l=new Uint8Array(Ve),h=new Uint8Array(Ye),s=0;s<32;s++)h[s]=u[s];return ot(l,h,!0),{publicKey:l,secretKey:h}},e.sign.publicKeyLength=Ve,e.sign.secretKeyLength=Ye,e.sign.seedLength=Tr,e.sign.signatureLength=Ut,e.hash=function(u){ke(u);var l=new Uint8Array(ut);return Ke(l,u,u.length),l},e.hash.hashLength=ut,e.verify=function(u,l){return ke(u,l),u.length===0||l.length===0||u.length!==l.length?!1:_e(u,0,l,0,u.length)===0},e.setPRNG=function(u){r=u},function(){var u=typeof self<"u"?self.crypto||self.msCrypto:null;if(u&&u.getRandomValues){var l=65536;e.setPRNG(function(h,s){var p,T=new Uint8Array(s);for(p=0;p<s;p+=l)u.getRandomValues(T.subarray(p,p+Math.min(s-p,l)));for(p=0;p<s;p++)h[p]=T[p];pt(T)})}else typeof as<"u"&&(u=fs,u&&u.randomBytes&&e.setPRNG(function(h,s){var p,T=u.randomBytes(s);for(p=0;p<s;p++)h[p]=T[p];pt(T)}))}()})(n.exports?n.exports:self.nacl=self.nacl||{})})(xo);var Mp=xo.exports,wo={exports:{}};(function(n){(function(e,t){n.exports?n.exports=t():(e.nacl||(e.nacl={}),e.nacl.util=t())})(Tt,function(){var e={};function t(r){if(!/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/.test(r))throw new TypeError("invalid encoding")}return e.decodeUTF8=function(r){if(typeof r!="string")throw new TypeError("expected string");var a,o=unescape(encodeURIComponent(r)),d=new Uint8Array(o.length);for(a=0;a<o.length;a++)d[a]=o.charCodeAt(a);return d},e.encodeUTF8=function(r){var a,o=[];for(a=0;a<r.length;a++)o.push(String.fromCharCode(r[a]));return decodeURIComponent(escape(o.join("")))},typeof atob>"u"?typeof D.from<"u"?(e.encodeBase64=function(r){return D.from(r).toString("base64")},e.decodeBase64=function(r){return t(r),new Uint8Array(Array.prototype.slice.call(D.from(r,"base64"),0))}):(e.encodeBase64=function(r){return new D(r).toString("base64")},e.decodeBase64=function(r){return t(r),new Uint8Array(Array.prototype.slice.call(new D(r,"base64"),0))}):(e.encodeBase64=function(r){var a,o=[],d=r.length;for(a=0;a<d;a++)o.push(String.fromCharCode(r[a]));return btoa(o.join(""))},e.decodeBase64=function(r){t(r);var a,o=atob(r),d=new Uint8Array(o.length);for(a=0;a<o.length;a++)d[a]=o.charCodeAt(a);return d}),e})})(wo);var Tp=wo.exports,_p=Tt&&Tt.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(e,t);(!a||("get"in a?!e.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,a)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),Ap=Tt&&Tt.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),Eo=Tt&&Tt.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&_p(e,n,t);return Ap(e,n),e};Object.defineProperty(Zt,"__esModule",{value:!0});Zt.getEncryptionPublicKey=Zt.decryptSafely=Zt.decrypt=Zt.encryptSafely=Zt.encrypt=void 0;const br=Eo(Mp),Yt=Eo(Tp),er=St;function Po({publicKey:n,data:e,version:t}){if((0,er.isNullish)(n))throw new Error("Missing publicKey parameter");if((0,er.isNullish)(e))throw new Error("Missing data parameter");if((0,er.isNullish)(t))throw new Error("Missing version parameter");switch(t){case"x25519-xsalsa20-poly1305":{if(typeof e!="string")throw new Error("Message data must be given as a string");const r=br.box.keyPair();let a;try{a=Yt.decodeBase64(n)}catch{throw new Error("Bad public key")}const o=Yt.decodeUTF8(e),d=br.randomBytes(br.box.nonceLength),g=br.box(o,d,a,r.secretKey);return{version:"x25519-xsalsa20-poly1305",nonce:Yt.encodeBase64(d),ephemPublicKey:Yt.encodeBase64(r.publicKey),ciphertext:Yt.encodeBase64(g)}}default:throw new Error("Encryption type/version not supported")}}Zt.encrypt=Po;function Sp({publicKey:n,data:e,version:t}){if((0,er.isNullish)(n))throw new Error("Missing publicKey parameter");if((0,er.isNullish)(e))throw new Error("Missing data parameter");if((0,er.isNullish)(t))throw new Error("Missing version parameter");const r=2**11,a=16;if(typeof e=="object"&&e&&"toJSON"in e)throw new Error("Cannot encrypt with toJSON property.  Please remove toJSON property");const o={data:e,padding:""},g=D.byteLength(JSON.stringify(o),"utf-8")%r;let E=0;g>0&&(E=r-g-a),o.padding="0".repeat(E);const A=JSON.stringify(o);return Po({publicKey:n,data:A,version:t})}Zt.encryptSafely=Sp;function Mo({encryptedData:n,privateKey:e}){if((0,er.isNullish)(n))throw new Error("Missing encryptedData parameter");if((0,er.isNullish)(e))throw new Error("Missing privateKey parameter");switch(n.version){case"x25519-xsalsa20-poly1305":{const t=To(e),r=br.box.keyPair.fromSecretKey(t).secretKey,a=Yt.decodeBase64(n.nonce),o=Yt.decodeBase64(n.ciphertext),d=Yt.decodeBase64(n.ephemPublicKey),g=br.box.open(o,a,d,r);try{if(!g)throw new Error;const E=Yt.encodeUTF8(g);if(!E)throw new Error;return E}catch(E){throw E&&typeof E.message=="string"&&E.message.length?new Error(`Decryption failed: ${E.message}`):new Error("Decryption failed.")}}default:throw new Error("Encryption type/version not supported.")}}Zt.decrypt=Mo;function Ip({encryptedData:n,privateKey:e}){if((0,er.isNullish)(n))throw new Error("Missing encryptedData parameter");if((0,er.isNullish)(e))throw new Error("Missing privateKey parameter");return JSON.parse(Mo({encryptedData:n,privateKey:e})).data}Zt.decryptSafely=Ip;function $p(n){const e=To(n),t=br.box.keyPair.fromSecretKey(e).publicKey;return Yt.encodeBase64(t)}Zt.getEncryptionPublicKey=$p;function To(n){const e=D.from(n,"hex").toString("base64");return Yt.decodeBase64(e)}(function(n){var e=Tt&&Tt.__createBinding||(Object.create?function(a,o,d,g){g===void 0&&(g=d);var E=Object.getOwnPropertyDescriptor(o,d);(!E||("get"in E?!o.__esModule:E.writable||E.configurable))&&(E={enumerable:!0,get:function(){return o[d]}}),Object.defineProperty(a,g,E)}:function(a,o,d,g){g===void 0&&(g=d),a[g]=o[d]}),t=Tt&&Tt.__exportStar||function(a,o){for(var d in a)d!=="default"&&!Object.prototype.hasOwnProperty.call(o,d)&&e(o,a,d)};Object.defineProperty(n,"__esModule",{value:!0}),n.normalize=n.concatSig=void 0,t(hr,n),t(go,n),t(Zt,n);var r=St;Object.defineProperty(n,"concatSig",{enumerable:!0,get:function(){return r.concatSig}}),Object.defineProperty(n,"normalize",{enumerable:!0,get:function(){return r.normalize}})})(Ht);function Si(n,e){if(n===e)return 0;for(var t=n.length,r=e.length,a=0,o=Math.min(t,r);a<o;++a)if(n[a]!==e[a]){t=n[a],r=e[a];break}return t<r?-1:r<t?1:0}var kp=Object.prototype.hasOwnProperty,Ii=Object.keys||function(n){var e=[];for(var t in n)kp.call(n,t)&&e.push(t);return e},$i=Array.prototype.slice,Gn;function _o(){return typeof Gn<"u"?Gn:Gn=function(){return function(){}.name==="foo"}()}function ki(n){return Object.prototype.toString.call(n)}function Bi(n){return Kr(n)||typeof globalThis.ArrayBuffer!="function"?!1:typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(n):n?!!(n instanceof DataView||n.buffer&&n.buffer instanceof ArrayBuffer):!1}function We(n,e){n||Dt(n,!0,e,"==",oi)}var Bp=/\s*function\s+([^\(\s]*)\s*/;function Ao(n){if(to(n)){if(_o())return n.name;var e=n.toString(),t=e.match(Bp);return t&&t[1]}}We.AssertionError=ii;function ii(n){this.name="AssertionError",this.actual=n.actual,this.expected=n.expected,this.operator=n.operator,n.message?(this.message=n.message,this.generatedMessage=!1):(this.message=Fp(this),this.generatedMessage=!0);var e=n.stackStartFunction||Dt;if(Error.captureStackTrace)Error.captureStackTrace(this,e);else{var t=new Error;if(t.stack){var r=t.stack,a=Ao(e),o=r.indexOf(`
`+a);if(o>=0){var d=r.indexOf(`
`,o+1);r=r.substring(d+1)}this.stack=r}}}cs(ii,Error);function Fi(n,e){return typeof n=="string"?n.length<e?n:n.slice(0,e):n}function Ci(n){if(_o()||!to(n))return us(n);var e=Ao(n),t=e?": "+e:"";return"[Function"+t+"]"}function Fp(n){return Fi(Ci(n.actual),128)+" "+n.operator+" "+Fi(Ci(n.expected),128)}function Dt(n,e,t,r,a){throw new ii({message:t,actual:n,expected:e,operator:r,stackStartFunction:a})}We.fail=Dt;function oi(n,e){n||Dt(n,!0,e,"==",oi)}We.ok=oi;We.equal=So;function So(n,e,t){n!=e&&Dt(n,e,t,"==",So)}We.notEqual=Io;function Io(n,e,t){n==e&&Dt(n,e,t,"!=",Io)}We.deepEqual=$o;function $o(n,e,t){Dr(n,e,!1)||Dt(n,e,t,"deepEqual",$o)}We.deepStrictEqual=ko;function ko(n,e,t){Dr(n,e,!0)||Dt(n,e,t,"deepStrictEqual",ko)}function Dr(n,e,t,r){if(n===e)return!0;if(Kr(n)&&Kr(e))return Si(n,e)===0;if(di(n)&&di(e))return n.getTime()===e.getTime();if(li(n)&&li(e))return n.source===e.source&&n.global===e.global&&n.multiline===e.multiline&&n.lastIndex===e.lastIndex&&n.ignoreCase===e.ignoreCase;if((n===null||typeof n!="object")&&(e===null||typeof e!="object"))return t?n===e:n==e;if(Bi(n)&&Bi(e)&&ki(n)===ki(e)&&!(n instanceof Float32Array||n instanceof Float64Array))return Si(new Uint8Array(n.buffer),new Uint8Array(e.buffer))===0;if(Kr(n)!==Kr(e))return!1;r=r||{actual:[],expected:[]};var a=r.actual.indexOf(n);return a!==-1&&a===r.expected.indexOf(e)?!0:(r.actual.push(n),r.expected.push(e),Cp(n,e,t,r))}function Oi(n){return Object.prototype.toString.call(n)=="[object Arguments]"}function Cp(n,e,t,r){if(n==null||e===null||e===void 0)return!1;if(mi(n)||mi(e))return n===e;if(t&&Object.getPrototypeOf(n)!==Object.getPrototypeOf(e))return!1;var a=Oi(n),o=Oi(e);if(a&&!o||!a&&o)return!1;if(a)return n=$i.call(n),e=$i.call(e),Dr(n,e,t);var d=Ii(n),g=Ii(e),E,A;if(d.length!==g.length)return!1;for(d.sort(),g.sort(),A=d.length-1;A>=0;A--)if(d[A]!==g[A])return!1;for(A=d.length-1;A>=0;A--)if(E=d[A],!Dr(n[E],e[E],t,r))return!1;return!0}We.notDeepEqual=Bo;function Bo(n,e,t){Dr(n,e,!1)&&Dt(n,e,t,"notDeepEqual",Bo)}We.notDeepStrictEqual=Fo;function Fo(n,e,t){Dr(n,e,!0)&&Dt(n,e,t,"notDeepStrictEqual",Fo)}We.strictEqual=Co;function Co(n,e,t){n!==e&&Dt(n,e,t,"===",Co)}We.notStrictEqual=Oo;function Oo(n,e,t){n===e&&Dt(n,e,t,"!==",Oo)}function Li(n,e){if(!n||!e)return!1;if(Object.prototype.toString.call(e)=="[object RegExp]")return e.test(n);try{if(n instanceof e)return!0}catch{}return Error.isPrototypeOf(e)?!1:e.call({},n)===!0}function Op(n){var e;try{n()}catch(t){e=t}return e}function Lo(n,e,t,r){var a;if(typeof e!="function")throw new TypeError('"block" argument must be a function');typeof t=="string"&&(r=t,t=null),a=Op(e),r=(t&&t.name?" ("+t.name+").":".")+(r?" "+r:"."),n&&!a&&Dt(a,t,"Missing expected exception"+r);var o=typeof r=="string",d=!n&&hs(a),g=!n&&a&&!t;if((d&&o&&Li(a,t)||g)&&Dt(a,t,"Got unwanted exception"+r),n&&a&&t&&!Li(a,t)||!n&&a)throw a}We.throws=Lp;function Lp(n,e,t){Lo(!0,n,e,t)}We.doesNotThrow=Hp;function Hp(n,e,t){Lo(!1,n,e,t)}We.ifError=Np;function Np(n){if(n)throw n}var ir={},At={},Ho=Jn,Vn=At.ValidationError=function(e,t,r,a,o,d){if(Array.isArray(a)?(this.path=a,this.property=a.reduce(function(E,A){return E+No(A)},"instance")):a!==void 0&&(this.property=a),e&&(this.message=e),r){var g=r.$id||r.id;this.schema=g||r}t!==void 0&&(this.instance=t),this.name=o,this.argument=d,this.stack=this.toString()};Vn.prototype.toString=function(){return this.property+" "+this.message};var Bn=At.ValidatorResult=function(e,t,r,a){this.instance=e,this.schema=t,this.options=r,this.path=a.path,this.propertyPath=a.propertyPath,this.errors=[],this.throwError=r&&r.throwError,this.throwFirst=r&&r.throwFirst,this.throwAll=r&&r.throwAll,this.disableFormat=r&&r.disableFormat===!0};Bn.prototype.addError=function(e){var t;if(typeof e=="string")t=new Vn(e,this.instance,this.schema,this.path);else{if(!e)throw new Error("Missing error detail");if(!e.message)throw new Error("Missing error message");if(!e.name)throw new Error("Missing validator type");t=new Vn(e.message,this.instance,this.schema,this.path,e.name,e.argument)}if(this.errors.push(t),this.throwFirst)throw new xr(this);if(this.throwError)throw t;return t};Bn.prototype.importErrors=function(e){typeof e=="string"||e&&e.validatorType?this.addError(e):e&&e.errors&&(this.errors=this.errors.concat(e.errors))};function Dp(n,e){return e+": "+n.toString()+`
`}Bn.prototype.toString=function(e){return this.errors.map(Dp).join("")};Object.defineProperty(Bn.prototype,"valid",{get:function(){return!this.errors.length}});At.ValidatorResultError=xr;function xr(n){Error.captureStackTrace&&Error.captureStackTrace(this,xr),this.instance=n.instance,this.schema=n.schema,this.options=n.options,this.errors=n.errors}xr.prototype=new Error;xr.prototype.constructor=xr;xr.prototype.name="Validation Error";var Hi=At.SchemaError=function n(e,t){this.message=e,this.schema=t,Error.call(this,e),Error.captureStackTrace(this,n)};Hi.prototype=Object.create(Error.prototype,{constructor:{value:Hi,enumerable:!1},name:{value:"SchemaError",enumerable:!1}});var Yn=At.SchemaContext=function(e,t,r,a,o){this.schema=e,this.options=t,Array.isArray(r)?(this.path=r,this.propertyPath=r.reduce(function(d,g){return d+No(g)},"instance")):this.propertyPath=r,this.base=a,this.schemas=o};Yn.prototype.resolve=function(e){return Ho.resolve(this.base,e)};Yn.prototype.makeChild=function(e,t){var r=t===void 0?this.path:this.path.concat([t]),a=e.$id||e.id,o=Ho.resolve(this.base,a||""),d=new Yn(e,this.options,r,o,Object.create(this.schemas));return a&&!d.schemas[o]&&(d.schemas[o]=e),d};var Wt=At.FORMAT_REGEXPS={"date-time":/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-(3[01]|0[1-9]|[12][0-9])[tT ](2[0-4]|[01][0-9]):([0-5][0-9]):(60|[0-5][0-9])(\.\d+)?([zZ]|[+-]([0-5][0-9]):(60|[0-5][0-9]))$/,date:/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-(3[01]|0[1-9]|[12][0-9])$/,time:/^(2[0-4]|[01][0-9]):([0-5][0-9]):(60|[0-5][0-9])$/,duration:/P(T\d+(H(\d+M(\d+S)?)?|M(\d+S)?|S)|\d+(D|M(\d+D)?|Y(\d+M(\d+D)?)?)(T\d+(H(\d+M(\d+S)?)?|M(\d+S)?|S))?|\d+W)/i,email:/^(?:[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+\.)*[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+@(?:(?:(?:[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!\.)){0,61}[a-zA-Z0-9]?\.)+[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!$)){0,61}[a-zA-Z0-9]?)|(?:\[(?:(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\.){3}(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\]))$/,"idn-email":/^("(?:[!#-\[\]-\u{10FFFF}]|\\[\t -\u{10FFFF}])*"|[!#-'*+\-/-9=?A-Z\^-\u{10FFFF}](?:\.?[!#-'*+\-/-9=?A-Z\^-\u{10FFFF}])*)@([!#-'*+\-/-9=?A-Z\^-\u{10FFFF}](?:\.?[!#-'*+\-/-9=?A-Z\^-\u{10FFFF}])*|\[[!-Z\^-\u{10FFFF}]*\])$/u,"ip-address":/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/,ipv6:/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,uri:/^[a-zA-Z][a-zA-Z0-9+.-]*:[^\s]*$/,"uri-reference":/^(((([A-Za-z][+\-.0-9A-Za-z]*(:%[0-9A-Fa-f]{2}|:[!$&-.0-;=?-Z_a-z~]|[/?])|\?)(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|([A-Za-z][+\-.0-9A-Za-z]*:?)?)|([A-Za-z][+\-.0-9A-Za-z]*:)?\/((%[0-9A-Fa-f]{2}|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?[/?]|[!$&-.0-;=?-Z_a-z~])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|(\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?)?))#(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|(([A-Za-z][+\-.0-9A-Za-z]*)?%[0-9A-Fa-f]{2}|[!$&-.0-9;=@_~]|[A-Za-z][+\-.0-9A-Za-z]*[!$&-*,;=@_~])(%[0-9A-Fa-f]{2}|[!$&-.0-9;=@-Z_a-z~])*((([/?](%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*)?#|[/?])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*)?|([A-Za-z][+\-.0-9A-Za-z]*(:%[0-9A-Fa-f]{2}|:[!$&-.0-;=?-Z_a-z~]|[/?])|\?)(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|([A-Za-z][+\-.0-9A-Za-z]*:)?\/((%[0-9A-Fa-f]{2}|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?[/?]|[!$&-.0-;=?-Z_a-z~])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+(:\d*)?|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?:\d*|\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?)?|[A-Za-z][+\-.0-9A-Za-z]*:?)?$/,iri:/^[a-zA-Z][a-zA-Z0-9+.-]*:[^\s]*$/,"iri-reference":/^(((([A-Za-z][+\-.0-9A-Za-z]*(:%[0-9A-Fa-f]{2}|:[!$&-.0-;=?-Z_a-z~-\u{10FFFF}]|[/?])|\?)(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*|([A-Za-z][+\-.0-9A-Za-z]*:?)?)|([A-Za-z][+\-.0-9A-Za-z]*:)?\/((%[0-9A-Fa-f]{2}|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~-\u{10FFFF}])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~-\u{10FFFF}]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?[/?]|[!$&-.0-;=?-Z_a-z~-\u{10FFFF}])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*|(\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~-\u{10FFFF}])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~-\u{10FFFF}]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?)?))#(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*|(([A-Za-z][+\-.0-9A-Za-z]*)?%[0-9A-Fa-f]{2}|[!$&-.0-9;=@_~-\u{10FFFF}]|[A-Za-z][+\-.0-9A-Za-z]*[!$&-*,;=@_~-\u{10FFFF}])(%[0-9A-Fa-f]{2}|[!$&-.0-9;=@-Z_a-z~-\u{10FFFF}])*((([/?](%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*)?#|[/?])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*)?|([A-Za-z][+\-.0-9A-Za-z]*(:%[0-9A-Fa-f]{2}|:[!$&-.0-;=?-Z_a-z~-\u{10FFFF}]|[/?])|\?)(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*|([A-Za-z][+\-.0-9A-Za-z]*:)?\/((%[0-9A-Fa-f]{2}|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~-\u{10FFFF}])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~-\u{10FFFF}]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?[/?]|[!$&-.0-;=?-Z_a-z~-\u{10FFFF}])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~-\u{10FFFF}])+(:\d*)?|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~-\u{10FFFF}]+)?|[.0-:A-Fa-f]+)\])?:\d*|\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~-\u{10FFFF}]+)?|[.0-:A-Fa-f]+)\])?)?|[A-Za-z][+\-.0-9A-Za-z]*:?)?$/u,uuid:/^[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i,"uri-template":/(%[0-9a-f]{2}|[!#$&(-;=?@\[\]_a-z~]|\{[!#&+,./;=?@|]?(%[0-9a-f]{2}|[0-9_a-z])(\.?(%[0-9a-f]{2}|[0-9_a-z]))*(:[1-9]\d{0,3}|\*)?(,(%[0-9a-f]{2}|[0-9_a-z])(\.?(%[0-9a-f]{2}|[0-9_a-z]))*(:[1-9]\d{0,3}|\*)?)*\})*/iu,"json-pointer":/^(\/([\x00-\x2e0-@\[-}\x7f]|~[01])*)*$/iu,"relative-json-pointer":/^\d+(#|(\/([\x00-\x2e0-@\[-}\x7f]|~[01])*)*)$/iu,hostname:/^(?=.{1,255}$)[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?(?:\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?)*\.?$/,"host-name":/^(?=.{1,255}$)[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?(?:\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?)*\.?$/,"utc-millisec":function(n){return typeof n=="string"&&parseFloat(n)===parseInt(n,10)&&!isNaN(n)},regex:function(n){var e=!0;try{new RegExp(n)}catch{e=!1}return e},style:/[\r\n\t ]*[^\r\n\t ][^:]*:[\r\n\t ]*[^\r\n\t ;]*[\r\n\t ]*;?/,color:/^(#?([0-9A-Fa-f]{3}){1,2}\b|aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow|(rgb\(\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*\))|(rgb\(\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*\)))$/,phone:/^\+(?:[0-9] ?){6,14}[0-9]$/,alpha:/^[a-zA-Z]+$/,alphanumeric:/^[a-zA-Z0-9]+$/};Wt.regexp=Wt.regex;Wt.pattern=Wt.regex;Wt.ipv4=Wt["ip-address"];At.isFormat=function(e,t,r){if(typeof e=="string"&&Wt[t]!==void 0){if(Wt[t]instanceof RegExp)return Wt[t].test(e);if(typeof Wt[t]=="function")return Wt[t](e)}else if(r&&r.customFormats&&typeof r.customFormats[t]=="function")return r.customFormats[t](e);return!0};var No=At.makeSuffix=function(e){return e=e.toString(),!e.match(/[.\s\[\]]/)&&!e.match(/^[\d]/)?"."+e:e.match(/^\d+$/)?"["+e+"]":"["+JSON.stringify(e)+"]"};At.deepCompareStrict=function n(e,t){if(typeof e!=typeof t)return!1;if(Array.isArray(e))return!Array.isArray(t)||e.length!==t.length?!1:e.every(function(o,d){return n(e[d],t[d])});if(typeof e=="object"){if(!e||!t)return e===t;var r=Object.keys(e),a=Object.keys(t);return r.length!==a.length?!1:r.every(function(o){return n(e[o],t[o])})}return e===t};function Gp(n,e,t,r){typeof t=="object"?e[r]=si(n[r],t):n.indexOf(t)===-1&&e.push(t)}function Rp(n,e,t){e[t]=n[t]}function zp(n,e,t,r){typeof e[r]!="object"||!e[r]?t[r]=e[r]:n[r]?t[r]=si(n[r],e[r]):t[r]=e[r]}function si(n,e){var t=Array.isArray(e),r=t&&[]||{};return t?(n=n||[],r=r.concat(n),e.forEach(Gp.bind(null,n,r))):(n&&typeof n=="object"&&Object.keys(n).forEach(Rp.bind(null,n,r)),Object.keys(e).forEach(zp.bind(null,n,e,r))),r}At.deepMerge=si;At.objectGetPath=function(e,t){for(var r=t.split("/").slice(1),a;typeof(a=r.shift())=="string";){var o=decodeURIComponent(a.replace(/~0/,"~").replace(/~1/g,"/"));if(!(o in e))return;e=e[o]}return e};function Up(n){return"/"+encodeURIComponent(n).replace(/~/g,"%7E")}At.encodePath=function(e){return e.map(Up).join("")};At.getDecimalPlaces=function(e){var t=0;if(isNaN(e))return t;typeof e!="number"&&(e=Number(e));var r=e.toString().split("e");if(r.length===2){if(r[1][0]!=="-")return t;t=Number(r[1].slice(1))}var a=r[0].split(".");return a.length===2&&(t+=a[1].length),t};At.isSchema=function(e){return typeof e=="object"&&e||typeof e=="boolean"};var zt=At,He=zt.ValidatorResult,lr=zt.SchemaError,ai={};ai.ignoreProperties={id:!0,default:!0,description:!0,title:!0,additionalItems:!0,then:!0,else:!0,$schema:!0,$ref:!0,extends:!0};var Ne=ai.validators={};Ne.type=function(e,t,r,a){if(e===void 0)return null;var o=new He(e,t,r,a),d=Array.isArray(t.type)?t.type:[t.type];if(!d.some(this.testType.bind(this,e,t,r,a))){var g=d.map(function(E){if(E){var A=E.$id||E.id;return A?"<"+A+">":E+""}});o.addError({name:"type",argument:g,message:"is not of a type(s) "+g})}return o};function fi(n,e,t,r,a){var o=e.throwError,d=e.throwAll;e.throwError=!1,e.throwAll=!1;var g=this.validateSchema(n,a,e,t);return e.throwError=o,e.throwAll=d,!g.valid&&r instanceof Function&&r(g),g.valid}Ne.anyOf=function(e,t,r,a){if(e===void 0)return null;var o=new He(e,t,r,a),d=new He(e,t,r,a);if(!Array.isArray(t.anyOf))throw new lr("anyOf must be an array");if(!t.anyOf.some(fi.bind(this,e,r,a,function(E){d.importErrors(E)}))){var g=t.anyOf.map(function(E,A){var I=E.$id||E.id;return I?"<"+I+">":E.title&&JSON.stringify(E.title)||E.$ref&&"<"+E.$ref+">"||"[subschema "+A+"]"});r.nestedErrors&&o.importErrors(d),o.addError({name:"anyOf",argument:g,message:"is not any of "+g.join(",")})}return o};Ne.allOf=function(e,t,r,a){if(e===void 0)return null;if(!Array.isArray(t.allOf))throw new lr("allOf must be an array");var o=new He(e,t,r,a),d=this;return t.allOf.forEach(function(g,E){var A=d.validateSchema(e,g,r,a);if(!A.valid){var I=g.$id||g.id,U=I||g.title&&JSON.stringify(g.title)||g.$ref&&"<"+g.$ref+">"||"[subschema "+E+"]";o.addError({name:"allOf",argument:{id:U,length:A.errors.length,valid:A},message:"does not match allOf schema "+U+" with "+A.errors.length+" error[s]:"}),o.importErrors(A)}}),o};Ne.oneOf=function(e,t,r,a){if(e===void 0)return null;if(!Array.isArray(t.oneOf))throw new lr("oneOf must be an array");var o=new He(e,t,r,a),d=new He(e,t,r,a),g=t.oneOf.filter(fi.bind(this,e,r,a,function(A){d.importErrors(A)})).length,E=t.oneOf.map(function(A,I){var U=A.$id||A.id;return U||A.title&&JSON.stringify(A.title)||A.$ref&&"<"+A.$ref+">"||"[subschema "+I+"]"});return g!==1&&(r.nestedErrors&&o.importErrors(d),o.addError({name:"oneOf",argument:E,message:"is not exactly one from "+E.join(",")})),o};Ne.if=function(e,t,r,a){if(e===void 0)return null;if(!zt.isSchema(t.if))throw new Error('Expected "if" keyword to be a schema');var o=fi.call(this,e,r,a,null,t.if),d=new He(e,t,r,a),g;if(o){if(t.then===void 0)return;if(!zt.isSchema(t.then))throw new Error('Expected "then" keyword to be a schema');g=this.validateSchema(e,t.then,r,a.makeChild(t.then)),d.importErrors(g)}else{if(t.else===void 0)return;if(!zt.isSchema(t.else))throw new Error('Expected "else" keyword to be a schema');g=this.validateSchema(e,t.else,r,a.makeChild(t.else)),d.importErrors(g)}return d};function ci(n,e){if(Object.hasOwnProperty.call(n,e))return n[e];if(e in n){for(;n=Object.getPrototypeOf(n);)if(Object.propertyIsEnumerable.call(n,e))return n[e]}}Ne.propertyNames=function(e,t,r,a){if(this.types.object(e)){var o=new He(e,t,r,a),d=t.propertyNames!==void 0?t.propertyNames:{};if(!zt.isSchema(d))throw new lr('Expected "propertyNames" to be a schema (object or boolean)');for(var g in e)if(ci(e,g)!==void 0){var E=this.validateSchema(g,d,r,a.makeChild(d));o.importErrors(E)}return o}};Ne.properties=function(e,t,r,a){if(this.types.object(e)){var o=new He(e,t,r,a),d=t.properties||{};for(var g in d){var E=d[g];if(E!==void 0){if(E===null)throw new lr('Unexpected null, expected schema in "properties"');typeof r.preValidateProperty=="function"&&r.preValidateProperty(e,g,E,r,a);var A=ci(e,g),I=this.validateSchema(A,E,r,a.makeChild(E,g));I.instance!==o.instance[g]&&(o.instance[g]=I.instance),o.importErrors(I)}}return o}};function Do(n,e,t,r,a,o){if(this.types.object(n)&&!(e.properties&&e.properties[a]!==void 0))if(e.additionalProperties===!1)o.addError({name:"additionalProperties",argument:a,message:"is not allowed to have the additional property "+JSON.stringify(a)});else{var d=e.additionalProperties||{};typeof t.preValidateProperty=="function"&&t.preValidateProperty(n,a,d,t,r);var g=this.validateSchema(n[a],d,t,r.makeChild(d,a));g.instance!==o.instance[a]&&(o.instance[a]=g.instance),o.importErrors(g)}}Ne.patternProperties=function(e,t,r,a){if(this.types.object(e)){var o=new He(e,t,r,a),d=t.patternProperties||{};for(var g in e){var E=!0;for(var A in d){var I=d[A];if(I!==void 0){if(I===null)throw new lr('Unexpected null, expected schema in "patternProperties"');try{var U=new RegExp(A,"u")}catch{U=new RegExp(A)}if(U.test(g)){E=!1,typeof r.preValidateProperty=="function"&&r.preValidateProperty(e,g,I,r,a);var G=this.validateSchema(e[g],I,r,a.makeChild(I,g));G.instance!==o.instance[g]&&(o.instance[g]=G.instance),o.importErrors(G)}}}E&&Do.call(this,e,t,r,a,g,o)}return o}};Ne.additionalProperties=function(e,t,r,a){if(this.types.object(e)){if(t.patternProperties)return null;var o=new He(e,t,r,a);for(var d in e)Do.call(this,e,t,r,a,d,o);return o}};Ne.minProperties=function(e,t,r,a){if(this.types.object(e)){var o=new He(e,t,r,a),d=Object.keys(e);return d.length>=t.minProperties||o.addError({name:"minProperties",argument:t.minProperties,message:"does not meet minimum property length of "+t.minProperties}),o}};Ne.maxProperties=function(e,t,r,a){if(this.types.object(e)){var o=new He(e,t,r,a),d=Object.keys(e);return d.length<=t.maxProperties||o.addError({name:"maxProperties",argument:t.maxProperties,message:"does not meet maximum property length of "+t.maxProperties}),o}};Ne.items=function(e,t,r,a){var o=this;if(this.types.array(e)&&t.items!==void 0){var d=new He(e,t,r,a);return e.every(function(g,E){if(Array.isArray(t.items))var A=t.items[E]===void 0?t.additionalItems:t.items[E];else var A=t.items;if(A===void 0)return!0;if(A===!1)return d.addError({name:"items",message:"additionalItems not permitted"}),!1;var I=o.validateSchema(g,A,r,a.makeChild(A,E));return I.instance!==d.instance[E]&&(d.instance[E]=I.instance),d.importErrors(I),!0}),d}};Ne.contains=function(e,t,r,a){var o=this;if(this.types.array(e)&&t.contains!==void 0){if(!zt.isSchema(t.contains))throw new Error('Expected "contains" keyword to be a schema');var d=new He(e,t,r,a),g=e.some(function(E,A){var I=o.validateSchema(E,t.contains,r,a.makeChild(t.contains,A));return I.errors.length===0});return g===!1&&d.addError({name:"contains",argument:t.contains,message:"must contain an item matching given schema"}),d}};Ne.minimum=function(e,t,r,a){if(this.types.number(e)){var o=new He(e,t,r,a);return t.exclusiveMinimum&&t.exclusiveMinimum===!0?e>t.minimum||o.addError({name:"minimum",argument:t.minimum,message:"must be greater than "+t.minimum}):e>=t.minimum||o.addError({name:"minimum",argument:t.minimum,message:"must be greater than or equal to "+t.minimum}),o}};Ne.maximum=function(e,t,r,a){if(this.types.number(e)){var o=new He(e,t,r,a);return t.exclusiveMaximum&&t.exclusiveMaximum===!0?e<t.maximum||o.addError({name:"maximum",argument:t.maximum,message:"must be less than "+t.maximum}):e<=t.maximum||o.addError({name:"maximum",argument:t.maximum,message:"must be less than or equal to "+t.maximum}),o}};Ne.exclusiveMinimum=function(e,t,r,a){if(typeof t.exclusiveMinimum!="boolean"&&this.types.number(e)){var o=new He(e,t,r,a),d=e>t.exclusiveMinimum;return d||o.addError({name:"exclusiveMinimum",argument:t.exclusiveMinimum,message:"must be strictly greater than "+t.exclusiveMinimum}),o}};Ne.exclusiveMaximum=function(e,t,r,a){if(typeof t.exclusiveMaximum!="boolean"&&this.types.number(e)){var o=new He(e,t,r,a),d=e<t.exclusiveMaximum;return d||o.addError({name:"exclusiveMaximum",argument:t.exclusiveMaximum,message:"must be strictly less than "+t.exclusiveMaximum}),o}};var Go=function(e,t,r,a,o,d){if(this.types.number(e)){var g=t[o];if(g==0)throw new lr(o+" cannot be zero");var E=new He(e,t,r,a),A=zt.getDecimalPlaces(e),I=zt.getDecimalPlaces(g),U=Math.max(A,I),G=Math.pow(10,U);return Math.round(e*G)%Math.round(g*G)!==0&&E.addError({name:o,argument:g,message:d+JSON.stringify(g)}),E}};Ne.multipleOf=function(e,t,r,a){return Go.call(this,e,t,r,a,"multipleOf","is not a multiple of (divisible by) ")};Ne.divisibleBy=function(e,t,r,a){return Go.call(this,e,t,r,a,"divisibleBy","is not divisible by (multiple of) ")};Ne.required=function(e,t,r,a){var o=new He(e,t,r,a);return e===void 0&&t.required===!0?o.addError({name:"required",message:"is required"}):this.types.object(e)&&Array.isArray(t.required)&&t.required.forEach(function(d){ci(e,d)===void 0&&o.addError({name:"required",argument:d,message:"requires property "+JSON.stringify(d)})}),o};Ne.pattern=function(e,t,r,a){if(this.types.string(e)){var o=new He(e,t,r,a),d=t.pattern;try{var g=new RegExp(d,"u")}catch{g=new RegExp(d)}return e.match(g)||o.addError({name:"pattern",argument:t.pattern,message:"does not match pattern "+JSON.stringify(t.pattern.toString())}),o}};Ne.format=function(e,t,r,a){if(e!==void 0){var o=new He(e,t,r,a);return!o.disableFormat&&!zt.isFormat(e,t.format,this)&&o.addError({name:"format",argument:t.format,message:"does not conform to the "+JSON.stringify(t.format)+" format"}),o}};Ne.minLength=function(e,t,r,a){if(this.types.string(e)){var o=new He(e,t,r,a),d=e.match(/[\uDC00-\uDFFF]/g),g=e.length-(d?d.length:0);return g>=t.minLength||o.addError({name:"minLength",argument:t.minLength,message:"does not meet minimum length of "+t.minLength}),o}};Ne.maxLength=function(e,t,r,a){if(this.types.string(e)){var o=new He(e,t,r,a),d=e.match(/[\uDC00-\uDFFF]/g),g=e.length-(d?d.length:0);return g<=t.maxLength||o.addError({name:"maxLength",argument:t.maxLength,message:"does not meet maximum length of "+t.maxLength}),o}};Ne.minItems=function(e,t,r,a){if(this.types.array(e)){var o=new He(e,t,r,a);return e.length>=t.minItems||o.addError({name:"minItems",argument:t.minItems,message:"does not meet minimum length of "+t.minItems}),o}};Ne.maxItems=function(e,t,r,a){if(this.types.array(e)){var o=new He(e,t,r,a);return e.length<=t.maxItems||o.addError({name:"maxItems",argument:t.maxItems,message:"does not meet maximum length of "+t.maxItems}),o}};function jp(n,e,t){var r,a=t.length;for(r=e+1,a;r<a;r++)if(zt.deepCompareStrict(n,t[r]))return!1;return!0}Ne.uniqueItems=function(e,t,r,a){if(t.uniqueItems===!0&&this.types.array(e)){var o=new He(e,t,r,a);return e.every(jp)||o.addError({name:"uniqueItems",message:"contains duplicate item"}),o}};Ne.dependencies=function(e,t,r,a){if(this.types.object(e)){var o=new He(e,t,r,a);for(var d in t.dependencies)if(e[d]!==void 0){var g=t.dependencies[d],E=a.makeChild(g,d);if(typeof g=="string"&&(g=[g]),Array.isArray(g))g.forEach(function(I){e[I]===void 0&&o.addError({name:"dependencies",argument:E.propertyPath,message:"property "+I+" not found, required by "+E.propertyPath})});else{var A=this.validateSchema(e,g,r,E);o.instance!==A.instance&&(o.instance=A.instance),A&&A.errors.length&&(o.addError({name:"dependencies",argument:E.propertyPath,message:"does not meet dependency required by "+E.propertyPath}),o.importErrors(A))}}return o}};Ne.enum=function(e,t,r,a){if(e===void 0)return null;if(!Array.isArray(t.enum))throw new lr("enum expects an array",t);var o=new He(e,t,r,a);return t.enum.some(zt.deepCompareStrict.bind(null,e))||o.addError({name:"enum",argument:t.enum,message:"is not one of enum values: "+t.enum.map(String).join(",")}),o};Ne.const=function(e,t,r,a){if(e===void 0)return null;var o=new He(e,t,r,a);return zt.deepCompareStrict(t.const,e)||o.addError({name:"const",argument:t.const,message:"does not exactly match expected constant: "+t.const}),o};Ne.not=Ne.disallow=function(e,t,r,a){var o=this;if(e===void 0)return null;var d=new He(e,t,r,a),g=t.not||t.disallow;return g?(Array.isArray(g)||(g=[g]),g.forEach(function(E){if(o.testType(e,t,r,a,E)){var A=E&&(E.$id||E.id),I=A||E;d.addError({name:"not",argument:I,message:"is of prohibited type "+I})}}),d):null};var qp=ai,on={},Ni=Jn,Zp=At;on.SchemaScanResult=Ro;function Ro(n,e){this.id=n,this.ref=e}on.scan=function(e,t){function r(E,A){if(!(!A||typeof A!="object")){if(A.$ref){var I=Ni.resolve(E,A.$ref);g[I]=g[I]?g[I]+1:0;return}var U=A.$id||A.id,G=U?Ni.resolve(E,U):E;if(G){if(G.indexOf("#")<0&&(G+="#"),d[G]){if(!Zp.deepCompareStrict(d[G],A))throw new Error("Schema <"+G+"> already exists with different definition");return d[G]}d[G]=A,G[G.length-1]=="#"&&(d[G.substring(0,G.length-1)]=A)}a(G+"/items",Array.isArray(A.items)?A.items:[A.items]),a(G+"/extends",Array.isArray(A.extends)?A.extends:[A.extends]),r(G+"/additionalItems",A.additionalItems),o(G+"/properties",A.properties),r(G+"/additionalProperties",A.additionalProperties),o(G+"/definitions",A.definitions),o(G+"/patternProperties",A.patternProperties),o(G+"/dependencies",A.dependencies),a(G+"/disallow",A.disallow),a(G+"/allOf",A.allOf),a(G+"/anyOf",A.anyOf),a(G+"/oneOf",A.oneOf),r(G+"/not",A.not)}}function a(E,A){if(Array.isArray(A))for(var I=0;I<A.length;I++)r(E+"/"+I,A[I])}function o(E,A){if(!(!A||typeof A!="object"))for(var I in A)r(E+"/"+I,A[I])}var d={},g={};return r(e,t),new Ro(d,g)};var zo=Jn,Uo=qp,Er=At,jo=on.scan,qo=Er.ValidatorResult,Kp=Er.ValidatorResultError,Jr=Er.SchemaError,Zo=Er.SchemaContext,Ko="/",$t=function n(){this.customFormats=Object.create(n.prototype.customFormats),this.schemas={},this.unresolvedRefs=[],this.types=Object.create(tr),this.attributes=Object.create(Uo.validators)};$t.prototype.customFormats={};$t.prototype.schemas=null;$t.prototype.types=null;$t.prototype.attributes=null;$t.prototype.unresolvedRefs=null;$t.prototype.addSchema=function(e,t){var r=this;if(!e)return null;var a=jo(t||Ko,e),o=t||e.$id||e.id;for(var d in a.id)this.schemas[d]=a.id[d];for(var d in a.ref)this.unresolvedRefs.push(d);return this.unresolvedRefs=this.unresolvedRefs.filter(function(g){return typeof r.schemas[g]>"u"}),this.schemas[o]};$t.prototype.addSubSchemaArray=function(e,t){if(Array.isArray(t))for(var r=0;r<t.length;r++)this.addSubSchema(e,t[r])};$t.prototype.addSubSchemaObject=function(e,t){if(!(!t||typeof t!="object"))for(var r in t)this.addSubSchema(e,t[r])};$t.prototype.setSchemas=function(e){this.schemas=e};$t.prototype.getSchema=function(e){return this.schemas[e]};$t.prototype.validate=function(e,t,r,a){if(typeof t!="boolean"&&typeof t!="object"||t===null)throw new Jr("Expected `schema` to be an object or boolean");r||(r={});var o=t.$id||t.id,d=zo.resolve(r.base||Ko,o||"");if(!a){a=new Zo(t,r,[],d,Object.create(this.schemas)),a.schemas[d]||(a.schemas[d]=t);var g=jo(d,t);for(var E in g.id){var A=g.id[E];a.schemas[E]=A}}if(r.required&&e===void 0){var I=new qo(e,t,r,a);return I.addError("is required, but is undefined"),I}var I=this.validateSchema(e,t,r,a);if(I){if(r.throwAll&&I.errors.length)throw new Kp(I)}else throw new Error("Result undefined");return I};function Vo(n){var e=typeof n=="string"?n:n.$ref;return typeof e=="string"?e:!1}$t.prototype.validateSchema=function(e,t,r,a){var o=new qo(e,t,r,a);if(typeof t=="boolean")t===!0?t={}:t===!1&&(t={type:[]});else if(!t)throw new Error("schema is undefined");if(t.extends)if(Array.isArray(t.extends)){var d={schema:t,ctx:a};t.extends.forEach(this.schemaTraverser.bind(this,d)),t=d.schema,d.schema=null,d.ctx=null,d=null}else t=Er.deepMerge(t,this.superResolve(t.extends,a));var g=Vo(t);if(g){var E=this.resolve(t,g,a),A=new Zo(E.subschema,r,a.path,E.switchSchema,a.schemas);return this.validateSchema(e,E.subschema,r,A)}var I=r&&r.skipAttributes||[];for(var U in t)if(!Uo.ignoreProperties[U]&&I.indexOf(U)<0){var G=null,pe=this.attributes[U];if(pe)G=pe.call(this,e,t,r,a);else if(r.allowUnknownAttributes===!1)throw new Jr("Unsupported attribute: "+U,t);G&&o.importErrors(G)}if(typeof r.rewrite=="function"){var le=r.rewrite.call(this,e,t,r,a);o.instance=le}return o};$t.prototype.schemaTraverser=function(e,t){e.schema=Er.deepMerge(e.schema,this.superResolve(t,e.ctx))};$t.prototype.superResolve=function(e,t){var r=Vo(e);return r?this.resolve(e,r,t).subschema:e};$t.prototype.resolve=function(e,t,r){if(t=r.resolve(t),r.schemas[t])return{subschema:r.schemas[t],switchSchema:t};var a=zo.parse(t),o=a&&a.hash,d=o&&o.length&&t.substr(0,t.length-o.length);if(!d||!r.schemas[d])throw new Jr("no such schema <"+t+">",e);var g=Er.objectGetPath(r.schemas[d],o.substr(1));if(g===void 0)throw new Jr("no such schema "+o+" located in <"+d+">",e);return{subschema:g,switchSchema:t}};$t.prototype.testType=function(e,t,r,a,o){if(o!==void 0){if(o===null)throw new Jr('Unexpected null in "type" keyword');if(typeof this.types[o]=="function")return this.types[o].call(this,e);if(o&&typeof o=="object"){var d=this.validateSchema(e,o,r,a);return d===void 0||!(d&&d.errors.length)}return!0}};var tr=$t.prototype.types={};tr.string=function(e){return typeof e=="string"};tr.number=function(e){return typeof e=="number"&&isFinite(e)};tr.integer=function(e){return typeof e=="number"&&e%1===0};tr.boolean=function(e){return typeof e=="boolean"};tr.array=function(e){return Array.isArray(e)};tr.null=function(e){return e===null};tr.date=function(e){return e instanceof Date};tr.any=function(e){return!0};tr.object=function(e){return e&&typeof e=="object"&&!Array.isArray(e)&&!(e instanceof Date)};var Vp=$t,Yp=ir.Validator=Vp;ir.ValidatorResult=At.ValidatorResult;ir.ValidatorResultError=At.ValidatorResultError;ir.ValidationError=At.ValidationError;ir.SchemaError=At.SchemaError;ir.SchemaScanResult=on.SchemaScanResult;ir.scan=on.scan;ir.validate=function(n,e,t){var r=new Yp;return r.validate(n,e,t)};function Di(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,r)}return t}function sr(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Di(Object(t),!0).forEach(function(r){Nt(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Di(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Gi(n){return n.length===2+20*2}function Wp(n){let{getAccounts:e,getPrivateKey:t,processDecryptMessage:r,processEncryptionPublicKey:a,processEthSignMessage:o,processPersonalMessage:d,processTransaction:g,processSignTransaction:E,processTypedMessage:A,processTypedMessageV3:I,processTypedMessageV4:U}=n;if(!e)throw new Error("opts.getAccounts is required");async function G(O,C){if(typeof O=="string"&&O.length>0){const i=(await e(C)).map(m=>m.toLowerCase()),c=O.toLowerCase();if(i.includes(c))return c}throw be.ethErrors.rpc.invalidParams({message:"Invalid parameters: must provide an Ethereum address."})}async function pe(O,C){C.result=await e(O)}async function le(O,C){const y=await e(O);C.result=y[0]||null}async function _e(O,C){if(!g)throw be.ethErrors.rpc.methodNotSupported();const y=O.params[0]||{from:""};y.from=await G(y.from,O),C.result=await g(y,O)}async function Ie(O,C){if(!E)throw be.ethErrors.rpc.methodNotSupported();const y=O.params[0]||{from:""};y.from=await G(y.from,O),C.result=await E(y,O)}async function Ee(O,C){if(!o)throw be.ethErrors.rpc.methodNotSupported();const y=await G(O.params[0],O),i=O.params[1],c=O.params[2]||{},m=sr(sr({},c),{},{from:y,data:i});C.result=await o(m,O)}async function $e(O,C){if(!A)throw be.ethErrors.rpc.methodNotSupported();const y=O.params[0],i=await G(O.params[1],O),c="V1",m=O.params[2]||{},v=sr(sr({},m),{},{from:i,data:y});C.result=await A(v,O,c)}async function Me(O,C){if(!I)throw be.ethErrors.rpc.methodNotSupported();const y=await G(O.params[0],O),i=O.params[1],c="V3",m={data:i,from:y,version:c};C.result=await I(m,O,c)}async function Se(O,C){if(!U)throw be.ethErrors.rpc.methodNotSupported();const y=await G(O.params[0],O),i=O.params[1],c="V4",m={data:i,from:y,version:c};C.result=await U(m,O,c)}async function j(O,C){if(!d)throw be.ethErrors.rpc.methodNotSupported();const y=O.params[0],i=O.params[1],c=O.params[2]||{};let m,v;if(Gi(y)&&!Gi(i)){let M="The eth_personalSign method requires params ordered ";M+="[message, address]. This was previously handled incorrectly, ",M+="and has been corrected automatically. ",M+="Please switch this param order for smooth behavior in the future.",C.warning=M,m=y,v=i}else v=y,m=i;m=await G(m,O);const x=sr(sr({},c),{},{from:m,data:v});C.result=await d(x,O)}async function ne(O,C){if(!a)throw be.ethErrors.rpc.methodNotSupported();const y=await G(O.params[0],O);C.result=await a(y,O)}async function oe(O,C){if(!r)throw be.ethErrors.rpc.methodNotSupported();const y=O.params[0],i=await G(O.params[1],O),c=O.params[2]||{},m=sr(sr({},c),{},{from:i,data:y});C.result=r(m,O)}async function F(O,C){if(!t)throw be.ethErrors.rpc.methodNotSupported();C.result=t(O)}return wn({eth_accounts:Lt(pe),eth_private_key:Lt(F),private_key:Lt(F),eth_coinbase:Lt(le),eth_sendTransaction:Lt(_e),eth_signTransaction:Lt(Ie),eth_sign:Lt(Ee),eth_signTypedData:Lt($e),eth_signTypedData_v3:Lt(Me),eth_signTypedData_v4:Lt(Se),personal_sign:Lt(j),eth_getEncryptionPublicKey:Lt(ne),eth_decrypt:Lt(oe)})}function ui(n){const{getAccounts:e,getPrivateKey:t,processTransaction:r,processSignTransaction:a,processEthSignMessage:o,processTypedMessage:d,processTypedMessageV3:g,processTypedMessageV4:E,processPersonalMessage:A,processEncryptionPublicKey:I,processDecryptMessage:U}=n;return oo([wn({eth_syncing:!1}),Wp({getAccounts:e,getPrivateKey:t,processTransaction:r,processEthSignMessage:o,processSignTransaction:a,processTypedMessage:d,processTypedMessageV3:g,processTypedMessageV4:E,processPersonalMessage:A,processEncryptionPublicKey:I,processDecryptMessage:U})])}function Yo(n){let{addChain:e,switchChain:t}=n;async function r(o,d){var g;const E=(g=o.params)!==null&&g!==void 0&&g.length?o.params[0]:void 0;if(!E)throw be.ethErrors.rpc.invalidParams("Missing chain params");if(!E.chainId)throw be.ethErrors.rpc.invalidParams("Missing chainId in chainParams");if(!E.rpcUrls||E.rpcUrls.length===0)throw be.ethErrors.rpc.invalidParams("Missing rpcUrls in chainParams");if(!E.nativeCurrency)throw be.ethErrors.rpc.invalidParams("Missing nativeCurrency in chainParams");d.result=await e(E)}async function a(o,d){var g;const E=(g=o.params)!==null&&g!==void 0&&g.length?o.params[0]:void 0;if(!E)throw be.ethErrors.rpc.invalidParams("Missing chainId");d.result=await t(E)}return wn({wallet_addEthereumChain:Lt(r),wallet_switchEthereumChain:Lt(a)})}function Jp(n){let{updatePrivatekey:e}=n;async function t(r,a){var o;const d=(o=r.params)!==null&&o!==void 0&&o.length?r.params[0]:void 0;if(!(d!=null&&d.privateKey))throw be.ethErrors.rpc.invalidParams("Missing privateKey");a.result=await e(d)}return wn({wallet_updateAccount:Lt(t)})}function Xp(n){return(e,t,r,a)=>e.method==="eth_chainId"?(t.result=n,a()):r()}function Qp(n){return(e,t,r,a)=>e.method==="eth_provider_config"?(t.result=n,a()):r()}function hi(n){const{chainId:e,rpcTarget:t}=n,r=ps({rpcTarget:t});return{networkMiddleware:oo([Xp(e),Qp(n),r]),fetchMiddleware:r}}function eg(n){let{connector:e}=n;return{getPrivateKey:async()=>{throw be.ethErrors.rpc.methodNotSupported()},getAccounts:async t=>{const{accounts:r}=e;if(r&&r.length)return r;throw new Error("Failed to get accounts")},processTransaction:async(t,r)=>await e.sendTransaction(t),processSignTransaction:async(t,r)=>await e.signTransaction(t),processEthSignMessage:async(t,r)=>await e.signMessage([t.from,t.data]),processPersonalMessage:async(t,r)=>await e.signPersonalMessage([t.data,t.from]),processTypedMessage:async(t,r)=>await e.signTypedData([t.from,t.data]),processTypedMessageV3:async t=>await e.signTypedData([t.from,t.data]),processTypedMessageV4:async t=>await e.signTypedData([t.from,t.data]),processEncryptionPublicKey:async t=>{throw be.ethErrors.rpc.methodNotSupported()},processDecryptMessage:t=>{throw be.ethErrors.rpc.methodNotSupported()}}}function Ri(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,r)}return t}function kr(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Ri(Object(t),!0).forEach(function(r){Nt(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Ri(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}class zi extends Xn{constructor(e){let{config:t,state:r,connector:a}=e;super({config:{chainConfig:kr(kr({},t.chainConfig),{},{chainNamespace:nr.EIP155}),skipLookupNetwork:!!t.skipLookupNetwork},state:kr(kr({},r||{}),{},{chainId:"loading",accounts:[]})}),Nt(this,"connector",null),this.connector=a||null}async enable(){if(!this.connector)throw be.ethErrors.provider.custom({message:"Connector is not initialized, pass wallet connect connector in constructor",code:4902});return await this.setupProvider(this.connector),this._providerEngineProxy.request({method:"eth_accounts"})}async setupProvider(e){this.onConnectorStateUpdate(e),await this.setupEngine(e)}async switchChain(e){let{chainId:t,addChain:r=!0,lookup:a=!0}=e;if(!this.connector)throw be.ethErrors.provider.custom({message:"Connector is not initialized, pass wallet connect connector in constructor",code:4902});const o=this.getChainConfig(t);this.update({chainId:"loading"});const{rpcTarget:d,displayName:g}=o;if(r)try{await this.connector.sendCustomRequest({method:"wallet_addEthereumChain",params:[{chainId:t,chainName:g,rpcUrls:[d],blockExplorerUrls:[o.blockExplorer],nativeCurrency:{name:o.tickerName,symbol:o.ticker,decimals:o.decimals||18}}]})}catch(E){qt.error(E)}try{await this.connector.sendCustomRequest({method:"wallet_switchEthereumChain",params:[{chainId:t}]})}catch(E){if(qt.error(E),E.message!=="JSON RPC response format is invalid")throw E}this.configure({chainConfig:o}),a&&await this.lookupNetwork(this.connector)}async addChain(e){if(!this.connector)throw pi.notReady("Wallet adapter is not ready yet");const{rpcTarget:t,displayName:r}=e;try{await this.connector.sendCustomRequest({method:"wallet_addEthereumChain",params:[{chainId:e.chainId,chainName:r,rpcUrls:[t],blockExplorerUrls:[e.blockExplorer],nativeCurrency:{name:e.tickerName,symbol:e.ticker,decimals:e.decimals||18}}]}),super.addChain(e)}catch(a){throw qt.error(a),a}}async lookupNetwork(e){if(!e.connected)throw gn.notConnectedError("Wallet connect connector is not connected");if(!this.provider)throw be.ethErrors.provider.custom({message:"Provider is not initialized",code:4902});const{chainId:t}=this.config.chainConfig,r=Vr(e.chainId.toString())?e.chainId:`0x${e.chainId.toString(16)}`;if(t!==r)throw pi.rpcConnectionError(`Invalid network, net_version is: ${r}, expected: ${t}`);return this.provider.emit("connect",{chainId:t}),this.provider.emit("chainChanged",this.state.chainId),r}async setupEngine(e){const t=eg({connector:e});this.update({accounts:e.accounts||[]});const r=ui(t),a=new Qn,{networkMiddleware:o}=hi(this.config.chainConfig);a.push(r),a.push(o);const d=ei(a);this.updateProviderEngineProxy(d),this.config.skipLookupNetwork||await this.lookupNetwork(e)}async onConnectorStateUpdate(e){e.on("session_update",async(t,r)=>{if(!this.provider)throw gn.notConnectedError("Wallet connect connector is not connected");if(t){this.provider.emit("error",t);return}const{accounts:a,chainId:o,rpcUrl:d}=r.params[0];a!=null&&a.length&&this.state.accounts[0]!==a[0]&&(this.update({accounts:a}),this.provider.emit("accountsChanged",a));const g=`0x${o.toString(16)}`;if(o&&this.state.chainId!==g){const E=ro(nr.EIP155,o)||{};this.configure({chainConfig:kr(kr({},E),{},{chainId:g,rpcTarget:d,chainNamespace:nr.EIP155})}),await this.setupEngine(e)}})}}Nt(zi,"getProviderInstance",async n=>{const e=new zi({config:{chainConfig:n.chainConfig,skipLookupNetwork:n.skipLookupNetwork}});return await e.setupProvider(n.connector),e});async function Wo(n){if(n.session.length){const e=n.session.keys.length-1;return n.session.get(n.session.keys[e])}return null}async function gr(n,e,t,r){const a=await Wo(n);if(!a)throw be.ethErrors.provider.disconnected();return n.request({topic:a.topic,chainId:`eip155:${e}`,request:{method:t,params:r}})}async function Jo(n){const e=await Wo(n);if(!e)throw be.ethErrors.provider.disconnected();const t=no(e.namespaces);if(t&&t.length)return[...new Set(t.map(r=>io(r).address))];throw new Error("Failed to get accounts")}function tg(n){let{connector:e,chainId:t}=n;return{getPrivateKey:async()=>{throw be.ethErrors.rpc.methodNotSupported()},getAccounts:async r=>Jo(e),processTransaction:async(r,a)=>await gr(e,t,"eth_sendTransaction",[r]),processSignTransaction:async(r,a)=>await gr(e,t,"eth_signTransaction",[r]),processEthSignMessage:async(r,a)=>await gr(e,t,"eth_sign",[r.from,r.data]),processPersonalMessage:async(r,a)=>await gr(e,t,"personal_sign",[r.from,r.data]),processTypedMessage:async(r,a)=>await gr(e,t,"eth_signTypedData",[r.data,r.from]),processTypedMessageV3:async r=>await gr(e,t,"eth_signTypedData_v3",[r.from,r.data]),processTypedMessageV4:async r=>await gr(e,t,"eth_signTypedData_v4",[r.from,r.data]),processEncryptionPublicKey:async r=>{throw be.ethErrors.rpc.methodNotSupported()},processDecryptMessage:r=>{throw be.ethErrors.rpc.methodNotSupported()}}}function Ui(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,r)}return t}function Br(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Ui(Object(t),!0).forEach(function(r){Nt(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Ui(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}class ji extends Xn{constructor(e){let{config:t,state:r,connector:a}=e;super({config:{chainConfig:Br(Br({},t.chainConfig),{},{chainNamespace:nr.EIP155}),skipLookupNetwork:!!t.skipLookupNetwork},state:Br(Br({},r||{}),{},{chainId:"loading",accounts:[]})}),Nt(this,"connector",null),this.connector=a||null}async enable(){if(!this.connector)throw be.ethErrors.provider.custom({message:"Connector is not initialized, pass wallet connect connector in constructor",code:4902});return await this.setupProvider(this.connector),this._providerEngineProxy.request({method:"eth_accounts"})}async setupProvider(e){this.onConnectorStateUpdate(e),await this.setupEngine(e)}async switchChain(e){let{chainId:t}=e;if(!this.connector)throw be.ethErrors.provider.custom({message:"Connector is not initialized, pass wallet connect connector in constructor",code:4902});const r=this.getChainConfig(t);this.configure({chainConfig:r}),await this.setupEngine(this.connector)}async addChain(e){super.addChain(e)}async lookupNetwork(e){return this.config.chainConfig.chainId}async setupEngine(e){const{chainId:t}=this.config.chainConfig,r=parseInt(t,16),a=tg({connector:e,chainId:r}),o=await Jo(e);this.update({accounts:o||[]});const d=ui(a),g=this.getChainSwitchMiddleware(),E=new Qn,{networkMiddleware:A}=hi(this.config.chainConfig);E.push(d),E.push(g),E.push(A);const I=ei(E);this.updateProviderEngineProxy(I)}getChainSwitchMiddleware(){return Yo({addChain:async r=>{const{chainId:a,chainName:o,rpcUrls:d,blockExplorerUrls:g,nativeCurrency:E}=r;this.addChain({chainNamespace:nr.EIP155,chainId:a,ticker:E?.symbol||"ETH",tickerName:E?.name||"Ether",displayName:o,rpcTarget:d[0],blockExplorer:g?.[0]||"",decimals:E?.decimals||18})},switchChain:async r=>{const{chainId:a}=r;await this.switchChain({chainId:a})}})}connectedTopic(){var e,t;if(!this.connector)throw gn.notConnectedError("Wallet connect connector is not connected");if((e=this.connector)!==null&&e!==void 0&&(t=e.session)!==null&&t!==void 0&&t.length){var r;const a=this.connector.session.keys.length-1;return(r=this.connector.session.get(this.connector.session.keys[a]))===null||r===void 0?void 0:r.topic}}checkIfChainIdAllowed(e){if(!this.connector||!this.connectedTopic())return!1;const t=this.connector.session.get(this.connectedTopic()),r=ds(t.namespaces);let a=!1;for(const o of r){const d=ls(o);if(Number.parseInt(d.reference,10)===Number.parseInt(e,10)){a=!0;break}}return a}checkIfAccountAllowed(e){if(!this.connector||!this.connectedTopic())return!1;const t=this.connector.session.get(this.connectedTopic()),r=no(t.namespaces);let a=!1;for(const d of r){var o;if(((o=io(d).address)===null||o===void 0?void 0:o.toLowerCase())===e?.toLowerCase()){a=!0;break}}return a}async onConnectorStateUpdate(e){e.events.on("session_event",async t=>{if(qt.debug("session_event data",t),!this.provider)throw gn.notConnectedError("Wallet connect connector is not connected");const{event:r}=t.params,{name:a,data:o}=r||{};if(a==="accountsChanged"&&o!==null&&o!==void 0&&o.length&&this.state.accounts[0]!==o[0]&&this.checkIfAccountAllowed(o[0])&&(this.update({accounts:o}),this.provider.emit("accountsChanged",o)),r.name==="chainChanged"){const{chainId:d,rpcUrl:g}=o,E=`0x${d.toString(16)}`;if(!this.checkIfChainIdAllowed(E))return;if(E&&this.state.chainId!==E){const A=ro(nr.EIP155,E)||{};this.configure({chainConfig:Br(Br({},A),{},{chainId:E,rpcTarget:g,chainNamespace:nr.EIP155})}),await this.setupEngine(e)}}})}}Nt(ji,"getProviderInstance",async n=>{const e=new ji({config:{chainConfig:n.chainConfig,skipLookupNetwork:n.skipLookupNetwork}});return await e.setupProvider(n.connector),e});const Xo=new Kt("1e18"),Qo=new Kt("1e9"),es=new Kt("1"),rg={hex:n=>typeof n=="string"?new Kt(Ze.stripHexPrefix(n),16):new Kt(n,16),dec:n=>new Kt(n,10)},ng={WEI:n=>n.div(Xo),GWEI:n=>n.div(Qo),ETH:n=>n.div(es)},ig={WEI:n=>n.times(Xo).dp(0,Kt.ROUND_HALF_UP),GWEI:n=>n.times(Qo).dp(9,Kt.ROUND_HALF_UP),ETH:n=>n.times(es).dp(9,Kt.ROUND_HALF_UP)},og={hex:n=>n.toString(16),dec:n=>new Kt(n).toString(10)},sg=n=>{const{value:e,fromNumericBase:t,fromDenomination:r,toNumericBase:a,toDenomination:o,numberOfDecimals:d}=n;let g=rg[t](e);return r&&(g=ng[r](g)),o&&(g=ig[o](g)),d&&(g=g.dp(d,Kt.ROUND_HALF_DOWN)),a&&(g=og[a](g)),g},ts=(n,e)=>{let{fromNumericBase:t="hex",toNumericBase:r,fromDenomination:a,toDenomination:o,numberOfDecimals:d}=e;return sg({fromNumericBase:t,toNumericBase:r,fromDenomination:a,toDenomination:o,numberOfDecimals:d,value:n||"0"})};function Cr(n){return ts(n,{fromNumericBase:"dec",toNumericBase:"hex",fromDenomination:"GWEI",toDenomination:"WEI"})}function rs(n){return ts(n,{fromNumericBase:"hex",toNumericBase:"dec",fromDenomination:"WEI",toDenomination:"GWEI"})}function qi(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,r)}return t}function ar(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?qi(Object(t),!0).forEach(function(r){Nt(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):qi(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function vr(n){const e=Cr(n);return rs(e)}async function ag(n){const e=await so(n);return ar(ar({},e),{},{estimatedBaseFee:vr(e.estimatedBaseFee),low:ar(ar({},e.low),{},{suggestedMaxPriorityFeePerGas:vr(e.low.suggestedMaxPriorityFeePerGas),suggestedMaxFeePerGas:vr(e.low.suggestedMaxFeePerGas)}),medium:ar(ar({},e.medium),{},{suggestedMaxPriorityFeePerGas:vr(e.medium.suggestedMaxPriorityFeePerGas),suggestedMaxFeePerGas:vr(e.medium.suggestedMaxFeePerGas)}),high:ar(ar({},e.high),{},{suggestedMaxPriorityFeePerGas:vr(e.high.suggestedMaxPriorityFeePerGas),suggestedMaxFeePerGas:vr(e.high.suggestedMaxFeePerGas)})})}async function fg(n){const e=await so(n,{referrer:n,referrerPolicy:"no-referrer-when-downgrade",method:"GET",mode:"cors"});return{low:e.SafeGasPrice,medium:e.ProposeGasPrice,high:e.FastGasPrice}}const Rn=(n,e)=>{var t;try{We.ok(n&&typeof n=="object","Params must be an object."),We.ok("data"in n,'Params must include a "data" field.'),We.ok("from"in n,'Params must include a "from" field.'),We.ok(typeof n.from=="string"&&Ze.isValidAddress(n.from),'"from" field must be a valid, lowercase, hexadecimal Ethereum address string.');let r=null,a=null;switch(n.version){case Ht.SignTypedDataVersion.V1:typeof n.data=="string"?We.doesNotThrow(()=>{r=JSON.parse(n.data)},'"data" must be a valid JSON string.'):r=n.data,We.ok(Array.isArray(r),"params.data must be an array."),We.doesNotThrow(()=>{Ht.typedSignatureHash(r)},"Signing data must be valid EIP-712 typed data.");break;case Ht.SignTypedDataVersion.V3:case Ht.SignTypedDataVersion.V4:typeof n.data=="string"?We.doesNotThrow(()=>{r=JSON.parse(n.data)},'"data" must be a valid JSON string.'):r=n.data,We.ok(r.primaryType in r.types,`Primary type of "${r.primaryType}" has no type definition.`);const o=ir.validate(r,Ht.TYPED_MESSAGE_SCHEMA.properties);We.strictEqual(o.errors.length,0,"Signing data must conform to EIP-712 schema. See https://git.io/fNtcx."),a=(t=r.domain)===null||t===void 0?void 0:t.chainId,a&&(We.ok(!Number.isNaN(e),`Cannot sign messages for chainId "${a}", because Web3Auth is switching networks.`),typeof a=="string"&&(a=Number.parseInt(a,Vr(a)?16:10)),We.strictEqual(a,e,`Provided chainId "${a}" must match the active chainId "${e}"`));break;default:We.fail(`Unknown typed data version "${n.version}"`)}}catch(r){throw be.ethErrors.rpc.invalidInput({message:r?.message})}};function Zi(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,r)}return t}function Ki(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Zi(Object(t),!0).forEach(function(r){Nt(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Zi(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}async function Vi(n,e,t){const r=await t.formatTransaction(n),a=await t.getCommonConfiguration();return ao.TransactionFactory.fromTxData(r,{common:a}).sign(D.from(e,"hex")).serialize()}function cg(n){let{txFormatter:e,privKey:t,getProviderEngineProxy:r}=n;return{getAccounts:async a=>[`0x${Ze.privateToAddress(D.from(t,"hex")).toString("hex")}`],getPrivateKey:async a=>t,processTransaction:async(a,o)=>{const d=r();if(!d)throw be.ethErrors.provider.custom({message:"Provider is not initialized",code:4902});const g=await Vi(a,t,e);return await d.request({method:"eth_sendRawTransaction",params:["0x".concat(g.toString("hex"))]})},processSignTransaction:async(a,o)=>{if(!r())throw be.ethErrors.provider.custom({message:"Provider is not initialized",code:4902});return`0x${(await Vi(a,t,e)).toString("hex")}`},processEthSignMessage:async(a,o)=>ms(t,a.data),processPersonalMessage:async(a,o)=>{const d=D.from(t,"hex");return Ht.personalSign({privateKey:d,data:a.data})},processTypedMessage:async(a,o)=>{qt.debug("processTypedMessage",a);const d=D.from(t,"hex"),g=r();if(!g)throw be.ethErrors.provider.custom({message:"Provider is not initialized",code:4902});const E=await g.request({method:"eth_chainId"}),A=Number.parseInt(E,Vr(E)?16:10),I=Ki(Ki({},a),{},{version:Ht.SignTypedDataVersion.V1});Rn(I,A);const U=typeof I.data=="string"?JSON.parse(I.data):I.data;return Ht.signTypedData({privateKey:d,data:U,version:Ht.SignTypedDataVersion.V1})},processTypedMessageV3:async(a,o)=>{qt.debug("processTypedMessageV3",a);const d=D.from(t,"hex"),g=r();if(!g)throw be.ethErrors.provider.custom({message:"Provider is not initialized",code:4902});const E=await g.request({method:"eth_chainId"}),A=Number.parseInt(E,Vr(E)?16:10);Rn(a,A);const I=typeof a.data=="string"?JSON.parse(a.data):a.data;return Ht.signTypedData({privateKey:d,data:I,version:Ht.SignTypedDataVersion.V3})},processTypedMessageV4:async(a,o)=>{qt.debug("processTypedMessageV4",a);const d=D.from(t,"hex"),g=r();if(!g)throw be.ethErrors.provider.custom({message:"Provider is not initialized",code:4902});const E=await g.request({method:"eth_chainId"}),A=Number.parseInt(E,Vr(E)?16:10);Rn(a,A);const I=typeof a.data=="string"?JSON.parse(a.data):a.data;return Ht.signTypedData({privateKey:d,data:I,version:Ht.SignTypedDataVersion.V4})},processEncryptionPublicKey:async(a,o)=>(qt.info("processEncryptionPublicKey",a),Ht.getEncryptionPublicKey(t)),processDecryptMessage:(a,o)=>{qt.info("processDecryptMessage",a);const d=Ze.stripHexPrefix(a.data),g=D.from(d,"hex");return Ht.decrypt({encryptedData:JSON.parse(g.toString("utf8")),privateKey:t})}}}function ug(n,e){return n==null||e===null||e===void 0?null:new Kt(n,10).lt(e,10)}function mn(n){return Ze.addHexPrefix(n.toString(16))}function zn(n){return vn.isBN(n)?n:new vn(Ze.stripHexPrefix(n),16)}function hg(n,e,t){const r=new vn(e),a=new vn(t);return n.mul(r).div(a)}const dg="https://gas-api.metaswap.codefi.network/networks/<chain_id>/gasPrices",lg="https://gas-api.metaswap.codefi.network/networks/<chain_id>/suggestedGasFees",Yi={LEGACY:"0x0",ACCESS_LIST:"0x1",FEE_MARKET:"0x2"},pn={SENT_ETHER:"sentEther",CONTRACT_INTERACTION:"contractInteraction",DEPLOY_CONTRACT:"contractDeployment",STANDARD_TRANSACTION:"transaction"},Fr={FEE_MARKET:"fee-market",LEGACY:"legacy",ETH_GASPRICE:"eth_gasPrice",NONE:"none"};function Wi(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,r)}return t}function Un(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Wi(Object(t),!0).forEach(function(r){Nt(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Wi(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}class mg{constructor(e){let{getProviderEngineProxy:t}=e;Nt(this,"chainConfig",null),Nt(this,"getProviderEngineProxy",void 0),Nt(this,"isEIP1559Compatible",!1),this.getProviderEngineProxy=t}get providerProxy(){return this.getProviderEngineProxy()}async init(){this.chainConfig=await this.providerProxy.request({method:"eth_provider_config",params:[]}),this.isEIP1559Compatible=await this.getEIP1559Compatibility()}async getCommonConfiguration(){if(!this.chainConfig)throw new Error("Chain config not initialized");const{displayName:e,chainId:t}=this.chainConfig,r=this.isEIP1559Compatible?Yr.Hardfork.London:Yr.Hardfork.Berlin,a={name:e,chainId:t==="loading"?0:Number.parseInt(t,16),networkId:t==="loading"?0:Number.parseInt(t,16),defaultHardfork:r};return Yr.Common.custom(a)}async formatTransaction(e){if(!this.chainConfig)throw new Error("Chain config not initialized");const t=Un({},e);if(t.nonce===void 0&&(t.nonce=await this.providerProxy.request({method:"eth_getTransactionCount",params:[e.from,"latest"]})),!this.isEIP1559Compatible&&t.gasPrice){if(t.maxFeePerGas&&delete t.maxFeePerGas,t.maxPriorityFeePerGas&&delete t.maxPriorityFeePerGas,t.gas)t.gasLimit=t.gas;else{const d=await this.getDefaultGasLimit(t);d&&(t.gasLimit=d)}return t}if(t.gas)t.gasLimit=t.gas;else{const d=await this.getDefaultGasLimit(t);d&&(t.gasLimit=d)}const{gasPrice:r,maxFeePerGas:a,maxPriorityFeePerGas:o}=await this.getDefaultGasFees(t);return this.isEIP1559Compatible?(t.gasPrice&&!t.maxFeePerGas&&!t.maxPriorityFeePerGas?(t.maxFeePerGas=t.gasPrice,t.maxPriorityFeePerGas=ug(typeof o=="string"?Ze.stripHexPrefix(o):o,typeof t.gasPrice=="string"?Ze.stripHexPrefix(t.gasPrice):t.gasPrice)?o:t.gasPrice):(a&&!t.maxFeePerGas&&(t.maxFeePerGas=a),o&&!t.maxPriorityFeePerGas&&(t.maxPriorityFeePerGas=o),r&&!t.maxFeePerGas&&(t.maxFeePerGas=r),t.maxFeePerGas&&!t.maxPriorityFeePerGas&&(t.maxPriorityFeePerGas=t.maxFeePerGas)),delete t.gasPrice):(delete t.maxPriorityFeePerGas,delete t.maxFeePerGas),r&&!t.gasPrice&&!t.maxPriorityFeePerGas&&!t.maxFeePerGas&&(t.gasPrice=r),t.type=this.isEIP1559Compatible?Yi.FEE_MARKET:Yi.LEGACY,t.chainId=this.chainConfig.chainId,t}async fetchEthGasPriceEstimate(){const e=await this.providerProxy.request({method:"eth_gasPrice",params:[]});return{gasPrice:rs(e).toString()}}async getEIP1559Compatibility(){const e=await this.providerProxy.request({method:"eth_getBlockByNumber",params:["latest",!1]});return!!(e&&e.baseFeePerGas!==void 0)}async fetchGasFeeEstimateData(){if(!this.chainConfig)throw new Error("Chain config not initialized");const e=this.chainConfig.chainId==="0x1",t=Number.parseInt(this.chainConfig.chainId,16);let r;try{if(this.isEIP1559Compatible)r={gasFeeEstimates:await ag(lg.replace("<chain_id>",`${t}`)),gasEstimateType:Fr.FEE_MARKET};else if(e)r={gasFeeEstimates:await fg(dg.replace("<chain_id>",`${t}`)),gasEstimateType:Fr.LEGACY};else throw new Error("Main gas fee/price estimation failed. Use fallback")}catch{try{r={gasFeeEstimates:await this.fetchEthGasPriceEstimate(),gasEstimateType:Fr.ETH_GASPRICE}}catch(o){throw new Error(`Gas fee/price estimation failed. Message: ${o.message}`)}}return r}async getDefaultGasFees(e){if(!this.isEIP1559Compatible&&e.gasPrice||this.isEIP1559Compatible&&e.maxFeePerGas&&e.maxPriorityFeePerGas)return{};try{const{gasFeeEstimates:r,gasEstimateType:a}=await this.fetchGasFeeEstimateData();if(this.isEIP1559Compatible&&a===Fr.FEE_MARKET){const{medium:{suggestedMaxPriorityFeePerGas:o,suggestedMaxFeePerGas:d}={}}=r;if(o&&d)return{maxFeePerGas:Ze.addHexPrefix(Cr(d)),maxPriorityFeePerGas:Ze.addHexPrefix(Cr(o))}}else{if(a===Fr.LEGACY)return{gasPrice:Ze.addHexPrefix(Cr(r.medium))};if(a===Fr.ETH_GASPRICE)return{gasPrice:Ze.addHexPrefix(Cr(r.gasPrice))}}}catch(r){qt.error(r)}const{gasPrice:t}=await this.fetchEthGasPriceEstimate();return{gasPrice:Ze.addHexPrefix(Cr(t))}}async estimateTxGas(e){const t=Un({},e);return delete t.gasPrice,delete t.maxFeePerGas,delete t.maxPriorityFeePerGas,await this.providerProxy.request({method:"eth_estimateGas",params:[t]})}async analyzeGasUsage(e){const t=await this.providerProxy.request({method:"eth_getBlockByNumber",params:["latest",!1]}),r=zn(t.gasLimit),a=hg(r,19,20);let o=mn(a);try{o=await this.estimateTxGas(e)}catch(d){qt.warn(d)}return{blockGasLimit:t.gasLimit,estimatedGasHex:o}}addGasBuffer(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1.5;const a=zn(e),d=zn(t).muln(.9),g=a.muln(r);return a.gt(d)?mn(a):g.lt(d)?mn(g):mn(d)}async determineTransactionCategory(e){const{data:t,to:r}=e;let a="",o;if(t&&!r)o=pn.DEPLOY_CONTRACT;else{try{a=await this.providerProxy.request({method:"eth_getCode",params:[r,"latest"]})}catch(g){qt.warn(g)}o=!a||a==="0x"||a==="0x0"?pn.SENT_ETHER:pn.CONTRACT_INTERACTION}return{transactionCategory:o,code:a}}async getDefaultGasLimit(e){const{transactionCategory:t}=await this.determineTransactionCategory(Un({},e));if(e.gas)return e.gas;if(e.to&&t===pn.SENT_ETHER){if(e.data)throw Error("TxGasUtil - Trying to call a function on a non-contract address");const d=21e3;return Ze.addHexPrefix(d.toString(16))}const{blockGasLimit:r,estimatedGasHex:a}=await this.analyzeGasUsage(e);return this.addGasBuffer(Ze.addHexPrefix(a),r)}}function Ji(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,r)}return t}function Xi(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Ji(Object(t),!0).forEach(function(r){Nt(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Ji(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}class Qi extends Xn{constructor(e){let{config:t,state:r}=e;super({config:{chainConfig:Xi(Xi({},t.chainConfig),{},{chainNamespace:nr.EIP155})},state:r})}async enable(){if(!this.state.privateKey)throw be.ethErrors.provider.custom({message:"Private key is not found in state, plz pass it in constructor state param",code:4902});return await this.setupProvider(this.state.privateKey),this._providerEngineProxy.request({method:"eth_accounts"})}async setupProvider(e){const t=new mg({getProviderEngineProxy:this.getProviderEngineProxy.bind(this)}),r=cg({txFormatter:t,privKey:e,getProviderEngineProxy:this.getProviderEngineProxy.bind(this)}),a=ui(r),o=this.getChainSwitchMiddleware(),d=new Qn,{networkMiddleware:g}=hi(this.config.chainConfig);d.push(a),d.push(o),d.push(this.getAccountMiddleware()),d.push(g);const E=ei(d);this.updateProviderEngineProxy(E),await t.init(),await this.lookupNetwork()}async updateAccount(e){if(!this._providerEngineProxy)throw be.ethErrors.provider.custom({message:"Provider is not initialized",code:4902});await this._providerEngineProxy.request({method:"eth_private_key"})!==e.privateKey&&(await this.setupProvider(e.privateKey),this._providerEngineProxy.emit("accountsChanged",{accounts:await this._providerEngineProxy.request({method:"eth_accounts"})}))}async switchChain(e){if(!this._providerEngineProxy)throw be.ethErrors.provider.custom({message:"Provider is not initialized",code:4902});const t=this.getChainConfig(e.chainId);this.update({chainId:"loading"}),this.configure({chainConfig:t});const r=await this._providerEngineProxy.request({method:"eth_private_key"});await this.setupProvider(r)}async lookupNetwork(){if(!this._providerEngineProxy)throw be.ethErrors.provider.custom({message:"Provider is not initialized",code:4902});const{chainId:e}=this.config.chainConfig;if(!e)throw be.ethErrors.rpc.invalidParams("chainId is required while lookupNetwork");const t=await this._providerEngineProxy.request({method:"net_version",params:[]});if(parseInt(e,16)!==parseInt(t,10))throw be.ethErrors.provider.chainDisconnected(`Invalid network, net_version is: ${t}`);return this.state.chainId!==e&&(this._providerEngineProxy.emit("chainChanged",e),this._providerEngineProxy.emit("connect",{chainId:e})),this.update({chainId:e}),t}getChainSwitchMiddleware(){return Yo({addChain:async r=>{const{chainId:a,chainName:o,rpcUrls:d,blockExplorerUrls:g,nativeCurrency:E}=r;this.addChain({chainNamespace:nr.EIP155,chainId:a,ticker:E?.symbol||"ETH",tickerName:E?.name||"Ether",displayName:o,rpcTarget:d[0],blockExplorer:g?.[0]||"",decimals:E?.decimals||18})},switchChain:async r=>{const{chainId:a}=r;await this.switchChain({chainId:a})}})}getAccountMiddleware(){return Jp({updatePrivatekey:async t=>{const{privateKey:r}=t;await this.updateAccount({privateKey:r})}})}}Nt(Qi,"getProviderInstance",async n=>{const e=new Qi({config:{chainConfig:n.chainConfig}});return await e.setupProvider(n.privKey),e});export{Qi as EthereumPrivateKeyProvider,mg as TransactionFormatter,zi as WalletConnectProvider,ji as WalletConnectV2Provider,cg as getProviderHandlers};
