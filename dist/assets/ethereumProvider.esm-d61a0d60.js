import{ac as Ca,aw as Fa,ax as No,ay as Ro,az as Uo,B as te,i as Go,g as Bt,aA as zo,aB as jo,a8 as Ko,b as Yt,H as pr,a4 as Fe,M as nr,K as zi,N as Mn,ao as sn,a5 as Di,P as Ba,ap as Oa,a6 as kn,a7 as Vt,t as ka,aC as Wt,av as In}from"./index-52a2ca78.js";import{E as ct,G as La,H as Si,I as hn,J as qo,K as Vo,L as Ai,M as ar,p as Ti,N as Zo,e as Yo}from"./baseControllers.esm-aa487116.js";import{B as Mi}from"./baseProvider.esm-472b2c12.js";var Wo={},Ln={},Ue={},Ha={};(function(r){Object.defineProperty(r,"__esModule",{value:!0});function e(d,b){var T=d>>>16&65535,A=d&65535,H=b>>>16&65535,O=b&65535;return A*O+(T*O+A*H<<16>>>0)|0}r.mul=Math.imul||e;function t(d,b){return d+b|0}r.add=t;function n(d,b){return d-b|0}r.sub=n;function o(d,b){return d<<b|d>>>32-b}r.rotl=o;function a(d,b){return d<<32-b|d>>>b}r.rotr=a;function g(d){return typeof d=="number"&&isFinite(d)&&Math.floor(d)===d}r.isInteger=Number.isInteger||g,r.MAX_SAFE_INTEGER=9007199254740991,r.isSafeInteger=function(d){return r.isInteger(d)&&d>=-r.MAX_SAFE_INTEGER&&d<=r.MAX_SAFE_INTEGER}})(Ha);Object.defineProperty(Ue,"__esModule",{value:!0});var Na=Ha;function Xo(r,e){return e===void 0&&(e=0),(r[e+0]<<8|r[e+1])<<16>>16}Ue.readInt16BE=Xo;function Jo(r,e){return e===void 0&&(e=0),(r[e+0]<<8|r[e+1])>>>0}Ue.readUint16BE=Jo;function Qo(r,e){return e===void 0&&(e=0),(r[e+1]<<8|r[e])<<16>>16}Ue.readInt16LE=Qo;function es(r,e){return e===void 0&&(e=0),(r[e+1]<<8|r[e])>>>0}Ue.readUint16LE=es;function Ra(r,e,t){return e===void 0&&(e=new Uint8Array(2)),t===void 0&&(t=0),e[t+0]=r>>>8,e[t+1]=r>>>0,e}Ue.writeUint16BE=Ra;Ue.writeInt16BE=Ra;function Ua(r,e,t){return e===void 0&&(e=new Uint8Array(2)),t===void 0&&(t=0),e[t+0]=r>>>0,e[t+1]=r>>>8,e}Ue.writeUint16LE=Ua;Ue.writeInt16LE=Ua;function mi(r,e){return e===void 0&&(e=0),r[e]<<24|r[e+1]<<16|r[e+2]<<8|r[e+3]}Ue.readInt32BE=mi;function gi(r,e){return e===void 0&&(e=0),(r[e]<<24|r[e+1]<<16|r[e+2]<<8|r[e+3])>>>0}Ue.readUint32BE=gi;function pi(r,e){return e===void 0&&(e=0),r[e+3]<<24|r[e+2]<<16|r[e+1]<<8|r[e]}Ue.readInt32LE=pi;function vi(r,e){return e===void 0&&(e=0),(r[e+3]<<24|r[e+2]<<16|r[e+1]<<8|r[e])>>>0}Ue.readUint32LE=vi;function $n(r,e,t){return e===void 0&&(e=new Uint8Array(4)),t===void 0&&(t=0),e[t+0]=r>>>24,e[t+1]=r>>>16,e[t+2]=r>>>8,e[t+3]=r>>>0,e}Ue.writeUint32BE=$n;Ue.writeInt32BE=$n;function Cn(r,e,t){return e===void 0&&(e=new Uint8Array(4)),t===void 0&&(t=0),e[t+0]=r>>>0,e[t+1]=r>>>8,e[t+2]=r>>>16,e[t+3]=r>>>24,e}Ue.writeUint32LE=Cn;Ue.writeInt32LE=Cn;function ts(r,e){e===void 0&&(e=0);var t=mi(r,e),n=mi(r,e+4);return t*4294967296+n-(n>>31)*4294967296}Ue.readInt64BE=ts;function rs(r,e){e===void 0&&(e=0);var t=gi(r,e),n=gi(r,e+4);return t*4294967296+n}Ue.readUint64BE=rs;function ns(r,e){e===void 0&&(e=0);var t=pi(r,e),n=pi(r,e+4);return n*4294967296+t-(t>>31)*4294967296}Ue.readInt64LE=ns;function is(r,e){e===void 0&&(e=0);var t=vi(r,e),n=vi(r,e+4);return n*4294967296+t}Ue.readUint64LE=is;function Ga(r,e,t){return e===void 0&&(e=new Uint8Array(8)),t===void 0&&(t=0),$n(r/4294967296>>>0,e,t),$n(r>>>0,e,t+4),e}Ue.writeUint64BE=Ga;Ue.writeInt64BE=Ga;function za(r,e,t){return e===void 0&&(e=new Uint8Array(8)),t===void 0&&(t=0),Cn(r>>>0,e,t),Cn(r/4294967296>>>0,e,t+4),e}Ue.writeUint64LE=za;Ue.writeInt64LE=za;function as(r,e,t){if(t===void 0&&(t=0),r%8!==0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(r/8>e.length-t)throw new Error("readUintBE: array is too short for the given bitLength");for(var n=0,o=1,a=r/8+t-1;a>=t;a--)n+=e[a]*o,o*=256;return n}Ue.readUintBE=as;function os(r,e,t){if(t===void 0&&(t=0),r%8!==0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(r/8>e.length-t)throw new Error("readUintLE: array is too short for the given bitLength");for(var n=0,o=1,a=t;a<t+r/8;a++)n+=e[a]*o,o*=256;return n}Ue.readUintLE=os;function ss(r,e,t,n){if(t===void 0&&(t=new Uint8Array(r/8)),n===void 0&&(n=0),r%8!==0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!Na.isSafeInteger(e))throw new Error("writeUintBE value must be an integer");for(var o=1,a=r/8+n-1;a>=n;a--)t[a]=e/o&255,o*=256;return t}Ue.writeUintBE=ss;function fs(r,e,t,n){if(t===void 0&&(t=new Uint8Array(r/8)),n===void 0&&(n=0),r%8!==0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!Na.isSafeInteger(e))throw new Error("writeUintLE value must be an integer");for(var o=1,a=n;a<n+r/8;a++)t[a]=e/o&255,o*=256;return t}Ue.writeUintLE=fs;function cs(r,e){e===void 0&&(e=0);var t=new DataView(r.buffer,r.byteOffset,r.byteLength);return t.getFloat32(e)}Ue.readFloat32BE=cs;function us(r,e){e===void 0&&(e=0);var t=new DataView(r.buffer,r.byteOffset,r.byteLength);return t.getFloat32(e,!0)}Ue.readFloat32LE=us;function hs(r,e){e===void 0&&(e=0);var t=new DataView(r.buffer,r.byteOffset,r.byteLength);return t.getFloat64(e)}Ue.readFloat64BE=hs;function ds(r,e){e===void 0&&(e=0);var t=new DataView(r.buffer,r.byteOffset,r.byteLength);return t.getFloat64(e,!0)}Ue.readFloat64LE=ds;function ls(r,e,t){e===void 0&&(e=new Uint8Array(4)),t===void 0&&(t=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat32(t,r),e}Ue.writeFloat32BE=ls;function ms(r,e,t){e===void 0&&(e=new Uint8Array(4)),t===void 0&&(t=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat32(t,r,!0),e}Ue.writeFloat32LE=ms;function gs(r,e,t){e===void 0&&(e=new Uint8Array(8)),t===void 0&&(t=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat64(t,r),e}Ue.writeFloat64BE=gs;function ps(r,e,t){e===void 0&&(e=new Uint8Array(8)),t===void 0&&(t=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat64(t,r,!0),e}Ue.writeFloat64LE=ps;var cr={};Object.defineProperty(cr,"__esModule",{value:!0});function vs(r){for(var e=0;e<r.length;e++)r[e]=0;return r}cr.wipe=vs;Object.defineProperty(Ln,"__esModule",{value:!0});var Kt=Ue,bi=cr,bs=20;function ys(r,e,t){for(var n=1634760805,o=857760878,a=2036477234,g=1797285236,d=t[3]<<24|t[2]<<16|t[1]<<8|t[0],b=t[7]<<24|t[6]<<16|t[5]<<8|t[4],T=t[11]<<24|t[10]<<16|t[9]<<8|t[8],A=t[15]<<24|t[14]<<16|t[13]<<8|t[12],H=t[19]<<24|t[18]<<16|t[17]<<8|t[16],O=t[23]<<24|t[22]<<16|t[21]<<8|t[20],U=t[27]<<24|t[26]<<16|t[25]<<8|t[24],j=t[31]<<24|t[30]<<16|t[29]<<8|t[28],Q=e[3]<<24|e[2]<<16|e[1]<<8|e[0],V=e[7]<<24|e[6]<<16|e[5]<<8|e[4],ne=e[11]<<24|e[10]<<16|e[9]<<8|e[8],L=e[15]<<24|e[14]<<16|e[13]<<8|e[12],N=n,$=o,M=a,I=g,c=d,v=b,B=T,D=A,m=H,i=O,f=U,l=j,p=Q,x=V,P=ne,F=L,E=0;E<bs;E+=2)N=N+c|0,p^=N,p=p>>>32-16|p<<16,m=m+p|0,c^=m,c=c>>>32-12|c<<12,$=$+v|0,x^=$,x=x>>>32-16|x<<16,i=i+x|0,v^=i,v=v>>>32-12|v<<12,M=M+B|0,P^=M,P=P>>>32-16|P<<16,f=f+P|0,B^=f,B=B>>>32-12|B<<12,I=I+D|0,F^=I,F=F>>>32-16|F<<16,l=l+F|0,D^=l,D=D>>>32-12|D<<12,M=M+B|0,P^=M,P=P>>>32-8|P<<8,f=f+P|0,B^=f,B=B>>>32-7|B<<7,I=I+D|0,F^=I,F=F>>>32-8|F<<8,l=l+F|0,D^=l,D=D>>>32-7|D<<7,$=$+v|0,x^=$,x=x>>>32-8|x<<8,i=i+x|0,v^=i,v=v>>>32-7|v<<7,N=N+c|0,p^=N,p=p>>>32-8|p<<8,m=m+p|0,c^=m,c=c>>>32-7|c<<7,N=N+v|0,F^=N,F=F>>>32-16|F<<16,f=f+F|0,v^=f,v=v>>>32-12|v<<12,$=$+B|0,p^=$,p=p>>>32-16|p<<16,l=l+p|0,B^=l,B=B>>>32-12|B<<12,M=M+D|0,x^=M,x=x>>>32-16|x<<16,m=m+x|0,D^=m,D=D>>>32-12|D<<12,I=I+c|0,P^=I,P=P>>>32-16|P<<16,i=i+P|0,c^=i,c=c>>>32-12|c<<12,M=M+D|0,x^=M,x=x>>>32-8|x<<8,m=m+x|0,D^=m,D=D>>>32-7|D<<7,I=I+c|0,P^=I,P=P>>>32-8|P<<8,i=i+P|0,c^=i,c=c>>>32-7|c<<7,$=$+B|0,p^=$,p=p>>>32-8|p<<8,l=l+p|0,B^=l,B=B>>>32-7|B<<7,N=N+v|0,F^=N,F=F>>>32-8|F<<8,f=f+F|0,v^=f,v=v>>>32-7|v<<7;Kt.writeUint32LE(N+n|0,r,0),Kt.writeUint32LE($+o|0,r,4),Kt.writeUint32LE(M+a|0,r,8),Kt.writeUint32LE(I+g|0,r,12),Kt.writeUint32LE(c+d|0,r,16),Kt.writeUint32LE(v+b|0,r,20),Kt.writeUint32LE(B+T|0,r,24),Kt.writeUint32LE(D+A|0,r,28),Kt.writeUint32LE(m+H|0,r,32),Kt.writeUint32LE(i+O|0,r,36),Kt.writeUint32LE(f+U|0,r,40),Kt.writeUint32LE(l+j|0,r,44),Kt.writeUint32LE(p+Q|0,r,48),Kt.writeUint32LE(x+V|0,r,52),Kt.writeUint32LE(P+ne|0,r,56),Kt.writeUint32LE(F+L|0,r,60)}function ja(r,e,t,n,o){if(o===void 0&&(o=0),r.length!==32)throw new Error("ChaCha: key size must be 32 bytes");if(n.length<t.length)throw new Error("ChaCha: destination is shorter than source");var a,g;if(o===0){if(e.length!==8&&e.length!==12)throw new Error("ChaCha nonce must be 8 or 12 bytes");a=new Uint8Array(16),g=a.length-e.length,a.set(e,g)}else{if(e.length!==16)throw new Error("ChaCha nonce with counter must be 16 bytes");a=e,g=o}for(var d=new Uint8Array(64),b=0;b<t.length;b+=64){ys(d,a,r);for(var T=b;T<b+64&&T<t.length;T++)n[T]=t[T]^d[T-b];xs(a,0,g)}return bi.wipe(d),o===0&&bi.wipe(a),n}Ln.streamXOR=ja;function ws(r,e,t,n){return n===void 0&&(n=0),bi.wipe(t),ja(r,e,t,t,n)}Ln.stream=ws;function xs(r,e,t){for(var n=1;t--;)n=n+(r[e]&255)|0,r[e]=n&255,n>>>=8,e++;if(n>0)throw new Error("ChaCha: counter overflow")}var Ka={},Sr={};Object.defineProperty(Sr,"__esModule",{value:!0});function Es(r,e,t){return~(r-1)&e|r-1&t}Sr.select=Es;function _s(r,e){return(r|0)-(e|0)-1>>>31&1}Sr.lessOrEqual=_s;function qa(r,e){if(r.length!==e.length)return 0;for(var t=0,n=0;n<r.length;n++)t|=r[n]^e[n];return 1&t-1>>>8}Sr.compare=qa;function Ps(r,e){return r.length===0||e.length===0?!1:qa(r,e)!==0}Sr.equal=Ps;(function(r){Object.defineProperty(r,"__esModule",{value:!0});var e=Sr,t=cr;r.DIGEST_LENGTH=16;var n=function(){function g(d){this.digestLength=r.DIGEST_LENGTH,this._buffer=new Uint8Array(16),this._r=new Uint16Array(10),this._h=new Uint16Array(10),this._pad=new Uint16Array(8),this._leftover=0,this._fin=0,this._finished=!1;var b=d[0]|d[1]<<8;this._r[0]=b&8191;var T=d[2]|d[3]<<8;this._r[1]=(b>>>13|T<<3)&8191;var A=d[4]|d[5]<<8;this._r[2]=(T>>>10|A<<6)&7939;var H=d[6]|d[7]<<8;this._r[3]=(A>>>7|H<<9)&8191;var O=d[8]|d[9]<<8;this._r[4]=(H>>>4|O<<12)&255,this._r[5]=O>>>1&8190;var U=d[10]|d[11]<<8;this._r[6]=(O>>>14|U<<2)&8191;var j=d[12]|d[13]<<8;this._r[7]=(U>>>11|j<<5)&8065;var Q=d[14]|d[15]<<8;this._r[8]=(j>>>8|Q<<8)&8191,this._r[9]=Q>>>5&127,this._pad[0]=d[16]|d[17]<<8,this._pad[1]=d[18]|d[19]<<8,this._pad[2]=d[20]|d[21]<<8,this._pad[3]=d[22]|d[23]<<8,this._pad[4]=d[24]|d[25]<<8,this._pad[5]=d[26]|d[27]<<8,this._pad[6]=d[28]|d[29]<<8,this._pad[7]=d[30]|d[31]<<8}return g.prototype._blocks=function(d,b,T){for(var A=this._fin?0:2048,H=this._h[0],O=this._h[1],U=this._h[2],j=this._h[3],Q=this._h[4],V=this._h[5],ne=this._h[6],L=this._h[7],N=this._h[8],$=this._h[9],M=this._r[0],I=this._r[1],c=this._r[2],v=this._r[3],B=this._r[4],D=this._r[5],m=this._r[6],i=this._r[7],f=this._r[8],l=this._r[9];T>=16;){var p=d[b+0]|d[b+1]<<8;H+=p&8191;var x=d[b+2]|d[b+3]<<8;O+=(p>>>13|x<<3)&8191;var P=d[b+4]|d[b+5]<<8;U+=(x>>>10|P<<6)&8191;var F=d[b+6]|d[b+7]<<8;j+=(P>>>7|F<<9)&8191;var E=d[b+8]|d[b+9]<<8;Q+=(F>>>4|E<<12)&8191,V+=E>>>1&8191;var u=d[b+10]|d[b+11]<<8;ne+=(E>>>14|u<<2)&8191;var S=d[b+12]|d[b+13]<<8;L+=(u>>>11|S<<5)&8191;var ee=d[b+14]|d[b+15]<<8;N+=(S>>>8|ee<<8)&8191,$+=ee>>>5|A;var K=0,X=K;X+=H*M,X+=O*(5*l),X+=U*(5*f),X+=j*(5*i),X+=Q*(5*m),K=X>>>13,X&=8191,X+=V*(5*D),X+=ne*(5*B),X+=L*(5*v),X+=N*(5*c),X+=$*(5*I),K+=X>>>13,X&=8191;var Z=K;Z+=H*I,Z+=O*M,Z+=U*(5*l),Z+=j*(5*f),Z+=Q*(5*i),K=Z>>>13,Z&=8191,Z+=V*(5*m),Z+=ne*(5*D),Z+=L*(5*B),Z+=N*(5*v),Z+=$*(5*c),K+=Z>>>13,Z&=8191;var se=K;se+=H*c,se+=O*I,se+=U*M,se+=j*(5*l),se+=Q*(5*f),K=se>>>13,se&=8191,se+=V*(5*i),se+=ne*(5*m),se+=L*(5*D),se+=N*(5*B),se+=$*(5*v),K+=se>>>13,se&=8191;var ge=K;ge+=H*v,ge+=O*c,ge+=U*I,ge+=j*M,ge+=Q*(5*l),K=ge>>>13,ge&=8191,ge+=V*(5*f),ge+=ne*(5*i),ge+=L*(5*m),ge+=N*(5*D),ge+=$*(5*B),K+=ge>>>13,ge&=8191;var Be=K;Be+=H*B,Be+=O*v,Be+=U*c,Be+=j*I,Be+=Q*M,K=Be>>>13,Be&=8191,Be+=V*(5*l),Be+=ne*(5*f),Be+=L*(5*i),Be+=N*(5*m),Be+=$*(5*D),K+=Be>>>13,Be&=8191;var pe=K;pe+=H*D,pe+=O*B,pe+=U*v,pe+=j*c,pe+=Q*I,K=pe>>>13,pe&=8191,pe+=V*M,pe+=ne*(5*l),pe+=L*(5*f),pe+=N*(5*i),pe+=$*(5*m),K+=pe>>>13,pe&=8191;var ve=K;ve+=H*m,ve+=O*D,ve+=U*B,ve+=j*v,ve+=Q*c,K=ve>>>13,ve&=8191,ve+=V*I,ve+=ne*M,ve+=L*(5*l),ve+=N*(5*f),ve+=$*(5*i),K+=ve>>>13,ve&=8191;var et=K;et+=H*i,et+=O*m,et+=U*D,et+=j*B,et+=Q*v,K=et>>>13,et&=8191,et+=V*c,et+=ne*I,et+=L*M,et+=N*(5*l),et+=$*(5*f),K+=et>>>13,et&=8191;var ye=K;ye+=H*f,ye+=O*i,ye+=U*m,ye+=j*D,ye+=Q*B,K=ye>>>13,ye&=8191,ye+=V*v,ye+=ne*c,ye+=L*I,ye+=N*M,ye+=$*(5*l),K+=ye>>>13,ye&=8191;var De=K;De+=H*l,De+=O*f,De+=U*i,De+=j*m,De+=Q*D,K=De>>>13,De&=8191,De+=V*B,De+=ne*v,De+=L*c,De+=N*I,De+=$*M,K+=De>>>13,De&=8191,K=(K<<2)+K|0,K=K+X|0,X=K&8191,K=K>>>13,Z+=K,H=X,O=Z,U=se,j=ge,Q=Be,V=pe,ne=ve,L=et,N=ye,$=De,b+=16,T-=16}this._h[0]=H,this._h[1]=O,this._h[2]=U,this._h[3]=j,this._h[4]=Q,this._h[5]=V,this._h[6]=ne,this._h[7]=L,this._h[8]=N,this._h[9]=$},g.prototype.finish=function(d,b){b===void 0&&(b=0);var T=new Uint16Array(10),A,H,O,U;if(this._leftover){for(U=this._leftover,this._buffer[U++]=1;U<16;U++)this._buffer[U]=0;this._fin=1,this._blocks(this._buffer,0,16)}for(A=this._h[1]>>>13,this._h[1]&=8191,U=2;U<10;U++)this._h[U]+=A,A=this._h[U]>>>13,this._h[U]&=8191;for(this._h[0]+=A*5,A=this._h[0]>>>13,this._h[0]&=8191,this._h[1]+=A,A=this._h[1]>>>13,this._h[1]&=8191,this._h[2]+=A,T[0]=this._h[0]+5,A=T[0]>>>13,T[0]&=8191,U=1;U<10;U++)T[U]=this._h[U]+A,A=T[U]>>>13,T[U]&=8191;for(T[9]-=8192,H=(A^1)-1,U=0;U<10;U++)T[U]&=H;for(H=~H,U=0;U<10;U++)this._h[U]=this._h[U]&H|T[U];for(this._h[0]=(this._h[0]|this._h[1]<<13)&65535,this._h[1]=(this._h[1]>>>3|this._h[2]<<10)&65535,this._h[2]=(this._h[2]>>>6|this._h[3]<<7)&65535,this._h[3]=(this._h[3]>>>9|this._h[4]<<4)&65535,this._h[4]=(this._h[4]>>>12|this._h[5]<<1|this._h[6]<<14)&65535,this._h[5]=(this._h[6]>>>2|this._h[7]<<11)&65535,this._h[6]=(this._h[7]>>>5|this._h[8]<<8)&65535,this._h[7]=(this._h[8]>>>8|this._h[9]<<5)&65535,O=this._h[0]+this._pad[0],this._h[0]=O&65535,U=1;U<8;U++)O=(this._h[U]+this._pad[U]|0)+(O>>>16)|0,this._h[U]=O&65535;return d[b+0]=this._h[0]>>>0,d[b+1]=this._h[0]>>>8,d[b+2]=this._h[1]>>>0,d[b+3]=this._h[1]>>>8,d[b+4]=this._h[2]>>>0,d[b+5]=this._h[2]>>>8,d[b+6]=this._h[3]>>>0,d[b+7]=this._h[3]>>>8,d[b+8]=this._h[4]>>>0,d[b+9]=this._h[4]>>>8,d[b+10]=this._h[5]>>>0,d[b+11]=this._h[5]>>>8,d[b+12]=this._h[6]>>>0,d[b+13]=this._h[6]>>>8,d[b+14]=this._h[7]>>>0,d[b+15]=this._h[7]>>>8,this._finished=!0,this},g.prototype.update=function(d){var b=0,T=d.length,A;if(this._leftover){A=16-this._leftover,A>T&&(A=T);for(var H=0;H<A;H++)this._buffer[this._leftover+H]=d[b+H];if(T-=A,b+=A,this._leftover+=A,this._leftover<16)return this;this._blocks(this._buffer,0,16),this._leftover=0}if(T>=16&&(A=T-T%16,this._blocks(d,b,A),b+=A,T-=A),T){for(var H=0;H<T;H++)this._buffer[this._leftover+H]=d[b+H];this._leftover+=T}return this},g.prototype.digest=function(){if(this._finished)throw new Error("Poly1305 was finished");var d=new Uint8Array(16);return this.finish(d),d},g.prototype.clean=function(){return t.wipe(this._buffer),t.wipe(this._r),t.wipe(this._h),t.wipe(this._pad),this._leftover=0,this._fin=0,this._finished=!0,this},g}();r.Poly1305=n;function o(g,d){var b=new n(g);b.update(d);var T=b.digest();return b.clean(),T}r.oneTimeAuth=o;function a(g,d){return g.length!==r.DIGEST_LENGTH||d.length!==r.DIGEST_LENGTH?!1:e.equal(g,d)}r.equal=a})(Ka);(function(r){Object.defineProperty(r,"__esModule",{value:!0});var e=Ln,t=Ka,n=cr,o=Ue,a=Sr;r.KEY_LENGTH=32,r.NONCE_LENGTH=12,r.TAG_LENGTH=16;var g=new Uint8Array(16),d=function(){function b(T){if(this.nonceLength=r.NONCE_LENGTH,this.tagLength=r.TAG_LENGTH,T.length!==r.KEY_LENGTH)throw new Error("ChaCha20Poly1305 needs 32-byte key");this._key=new Uint8Array(T)}return b.prototype.seal=function(T,A,H,O){if(T.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");var U=new Uint8Array(16);U.set(T,U.length-T.length);var j=new Uint8Array(32);e.stream(this._key,U,j,4);var Q=A.length+this.tagLength,V;if(O){if(O.length!==Q)throw new Error("ChaCha20Poly1305: incorrect destination length");V=O}else V=new Uint8Array(Q);return e.streamXOR(this._key,U,A,V,4),this._authenticate(V.subarray(V.length-this.tagLength,V.length),j,V.subarray(0,V.length-this.tagLength),H),n.wipe(U),V},b.prototype.open=function(T,A,H,O){if(T.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");if(A.length<this.tagLength)return null;var U=new Uint8Array(16);U.set(T,U.length-T.length);var j=new Uint8Array(32);e.stream(this._key,U,j,4);var Q=new Uint8Array(this.tagLength);if(this._authenticate(Q,j,A.subarray(0,A.length-this.tagLength),H),!a.equal(Q,A.subarray(A.length-this.tagLength,A.length)))return null;var V=A.length-this.tagLength,ne;if(O){if(O.length!==V)throw new Error("ChaCha20Poly1305: incorrect destination length");ne=O}else ne=new Uint8Array(V);return e.streamXOR(this._key,U,A.subarray(0,A.length-this.tagLength),ne,4),n.wipe(U),ne},b.prototype.clean=function(){return n.wipe(this._key),this},b.prototype._authenticate=function(T,A,H,O){var U=new t.Poly1305(A);O&&(U.update(O),O.length%16>0&&U.update(g.subarray(O.length%16))),U.update(H),H.length%16>0&&U.update(g.subarray(H.length%16));var j=new Uint8Array(8);O&&o.writeUint64LE(O.length,j),U.update(j),o.writeUint64LE(H.length,j),U.update(j);for(var Q=U.digest(),V=0;V<Q.length;V++)T[V]=Q[V];U.clean(),n.wipe(Q),n.wipe(j)},b}();r.ChaCha20Poly1305=d})(Wo);var Va={},dn={},Ii={};Object.defineProperty(Ii,"__esModule",{value:!0});function Ds(r){return typeof r.saveState<"u"&&typeof r.restoreState<"u"&&typeof r.cleanSavedState<"u"}Ii.isSerializableHash=Ds;Object.defineProperty(dn,"__esModule",{value:!0});var hr=Ii,Ss=Sr,As=cr,Za=function(){function r(e,t){this._finished=!1,this._inner=new e,this._outer=new e,this.blockSize=this._outer.blockSize,this.digestLength=this._outer.digestLength;var n=new Uint8Array(this.blockSize);t.length>this.blockSize?this._inner.update(t).finish(n).clean():n.set(t);for(var o=0;o<n.length;o++)n[o]^=54;this._inner.update(n);for(var o=0;o<n.length;o++)n[o]^=106;this._outer.update(n),hr.isSerializableHash(this._inner)&&hr.isSerializableHash(this._outer)&&(this._innerKeyedState=this._inner.saveState(),this._outerKeyedState=this._outer.saveState()),As.wipe(n)}return r.prototype.reset=function(){if(!hr.isSerializableHash(this._inner)||!hr.isSerializableHash(this._outer))throw new Error("hmac: can't reset() because hash doesn't implement restoreState()");return this._inner.restoreState(this._innerKeyedState),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},r.prototype.clean=function(){hr.isSerializableHash(this._inner)&&this._inner.cleanSavedState(this._innerKeyedState),hr.isSerializableHash(this._outer)&&this._outer.cleanSavedState(this._outerKeyedState),this._inner.clean(),this._outer.clean()},r.prototype.update=function(e){return this._inner.update(e),this},r.prototype.finish=function(e){return this._finished?(this._outer.finish(e),this):(this._inner.finish(e),this._outer.update(e.subarray(0,this.digestLength)).finish(e),this._finished=!0,this)},r.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},r.prototype.saveState=function(){if(!hr.isSerializableHash(this._inner))throw new Error("hmac: can't saveState() because hash doesn't implement it");return this._inner.saveState()},r.prototype.restoreState=function(e){if(!hr.isSerializableHash(this._inner)||!hr.isSerializableHash(this._outer))throw new Error("hmac: can't restoreState() because hash doesn't implement it");return this._inner.restoreState(e),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},r.prototype.cleanSavedState=function(e){if(!hr.isSerializableHash(this._inner))throw new Error("hmac: can't cleanSavedState() because hash doesn't implement it");this._inner.cleanSavedState(e)},r}();dn.HMAC=Za;function Ts(r,e,t){var n=new Za(r,e);n.update(t);var o=n.digest();return n.clean(),o}dn.hmac=Ts;dn.equal=Ss.equal;Object.defineProperty(Va,"__esModule",{value:!0});var ji=dn,Ki=cr,Ms=function(){function r(e,t,n,o){n===void 0&&(n=new Uint8Array(0)),this._counter=new Uint8Array(1),this._hash=e,this._info=o;var a=ji.hmac(this._hash,n,t);this._hmac=new ji.HMAC(e,a),this._buffer=new Uint8Array(this._hmac.digestLength),this._bufpos=this._buffer.length}return r.prototype._fillBuffer=function(){this._counter[0]++;var e=this._counter[0];if(e===0)throw new Error("hkdf: cannot expand more");this._hmac.reset(),e>1&&this._hmac.update(this._buffer),this._info&&this._hmac.update(this._info),this._hmac.update(this._counter),this._hmac.finish(this._buffer),this._bufpos=0},r.prototype.expand=function(e){for(var t=new Uint8Array(e),n=0;n<t.length;n++)this._bufpos===this._buffer.length&&this._fillBuffer(),t[n]=this._buffer[this._bufpos++];return t},r.prototype.clean=function(){this._hmac.clean(),Ki.wipe(this._buffer),Ki.wipe(this._counter),this._bufpos=0},r}();Va.HKDF=Ms;var Ya={},Hn={},Nn={};Object.defineProperty(Nn,"__esModule",{value:!0});Nn.BrowserRandomSource=void 0;const qi=65536;class Is{constructor(){this.isAvailable=!1,this.isInstantiated=!1;const e=typeof self<"u"?self.crypto||self.msCrypto:null;e&&e.getRandomValues!==void 0&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");const t=new Uint8Array(e);for(let n=0;n<t.length;n+=qi)this._crypto.getRandomValues(t.subarray(n,n+Math.min(t.length-n,qi)));return t}}Nn.BrowserRandomSource=Is;var Rn={};Object.defineProperty(Rn,"__esModule",{value:!0});Rn.NodeRandomSource=void 0;const $s=cr;class Cs{constructor(){if(this.isAvailable=!1,this.isInstantiated=!1,typeof Ca<"u"){const e=Fa;e&&e.randomBytes&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");let t=this._crypto.randomBytes(e);if(t.length!==e)throw new Error("NodeRandomSource: got fewer bytes than requested");const n=new Uint8Array(e);for(let o=0;o<n.length;o++)n[o]=t[o];return(0,$s.wipe)(t),n}}Rn.NodeRandomSource=Cs;Object.defineProperty(Hn,"__esModule",{value:!0});Hn.SystemRandomSource=void 0;const Fs=Nn,Bs=Rn;class Os{constructor(){if(this.isAvailable=!1,this.name="",this._source=new Fs.BrowserRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Browser";return}if(this._source=new Bs.NodeRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Node";return}}randomBytes(e){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes(e)}}Hn.SystemRandomSource=Os;(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.randomStringForEntropy=r.randomString=r.randomUint32=r.randomBytes=r.defaultRandomSource=void 0;const e=Hn,t=Ue,n=cr;r.defaultRandomSource=new e.SystemRandomSource;function o(T,A=r.defaultRandomSource){return A.randomBytes(T)}r.randomBytes=o;function a(T=r.defaultRandomSource){const A=o(4,T),H=(0,t.readUint32LE)(A);return(0,n.wipe)(A),H}r.randomUint32=a;const g="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function d(T,A=g,H=r.defaultRandomSource){if(A.length<2)throw new Error("randomString charset is too short");if(A.length>256)throw new Error("randomString charset is too long");let O="";const U=A.length,j=256-256%U;for(;T>0;){const Q=o(Math.ceil(T*256/j),H);for(let V=0;V<Q.length&&T>0;V++){const ne=Q[V];ne<j&&(O+=A.charAt(ne%U),T--)}(0,n.wipe)(Q)}return O}r.randomString=d;function b(T,A=g,H=r.defaultRandomSource){const O=Math.ceil(T/(Math.log(A.length)/Math.LN2));return d(O,A,H)}r.randomStringForEntropy=b})(Ya);var ks={};(function(r){Object.defineProperty(r,"__esModule",{value:!0});var e=Ue,t=cr;r.DIGEST_LENGTH=32,r.BLOCK_SIZE=64;var n=function(){function d(){this.digestLength=r.DIGEST_LENGTH,this.blockSize=r.BLOCK_SIZE,this._state=new Int32Array(8),this._temp=new Int32Array(64),this._buffer=new Uint8Array(128),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return d.prototype._initState=function(){this._state[0]=1779033703,this._state[1]=3144134277,this._state[2]=1013904242,this._state[3]=2773480762,this._state[4]=1359893119,this._state[5]=2600822924,this._state[6]=528734635,this._state[7]=1541459225},d.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},d.prototype.clean=function(){t.wipe(this._buffer),t.wipe(this._temp),this.reset()},d.prototype.update=function(b,T){if(T===void 0&&(T=b.length),this._finished)throw new Error("SHA256: can't update because hash was finished.");var A=0;if(this._bytesHashed+=T,this._bufferLength>0){for(;this._bufferLength<this.blockSize&&T>0;)this._buffer[this._bufferLength++]=b[A++],T--;this._bufferLength===this.blockSize&&(a(this._temp,this._state,this._buffer,0,this.blockSize),this._bufferLength=0)}for(T>=this.blockSize&&(A=a(this._temp,this._state,b,A,T),T%=this.blockSize);T>0;)this._buffer[this._bufferLength++]=b[A++],T--;return this},d.prototype.finish=function(b){if(!this._finished){var T=this._bytesHashed,A=this._bufferLength,H=T/536870912|0,O=T<<3,U=T%64<56?64:128;this._buffer[A]=128;for(var j=A+1;j<U-8;j++)this._buffer[j]=0;e.writeUint32BE(H,this._buffer,U-8),e.writeUint32BE(O,this._buffer,U-4),a(this._temp,this._state,this._buffer,0,U),this._finished=!0}for(var j=0;j<this.digestLength/4;j++)e.writeUint32BE(this._state[j],b,j*4);return this},d.prototype.digest=function(){var b=new Uint8Array(this.digestLength);return this.finish(b),b},d.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{state:new Int32Array(this._state),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},d.prototype.restoreState=function(b){return this._state.set(b.state),this._bufferLength=b.bufferLength,b.buffer&&this._buffer.set(b.buffer),this._bytesHashed=b.bytesHashed,this._finished=!1,this},d.prototype.cleanSavedState=function(b){t.wipe(b.state),b.buffer&&t.wipe(b.buffer),b.bufferLength=0,b.bytesHashed=0},d}();r.SHA256=n;var o=new Int32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function a(d,b,T,A,H){for(;H>=64;){for(var O=b[0],U=b[1],j=b[2],Q=b[3],V=b[4],ne=b[5],L=b[6],N=b[7],$=0;$<16;$++){var M=A+$*4;d[$]=e.readUint32BE(T,M)}for(var $=16;$<64;$++){var I=d[$-2],c=(I>>>17|I<<32-17)^(I>>>19|I<<32-19)^I>>>10;I=d[$-15];var v=(I>>>7|I<<32-7)^(I>>>18|I<<32-18)^I>>>3;d[$]=(c+d[$-7]|0)+(v+d[$-16]|0)}for(var $=0;$<64;$++){var c=(((V>>>6|V<<26)^(V>>>11|V<<21)^(V>>>25|V<<7))+(V&ne^~V&L)|0)+(N+(o[$]+d[$]|0)|0)|0,v=((O>>>2|O<<32-2)^(O>>>13|O<<32-13)^(O>>>22|O<<32-22))+(O&U^O&j^U&j)|0;N=L,L=ne,ne=V,V=Q+c|0,Q=j,j=U,U=O,O=c+v|0}b[0]+=O,b[1]+=U,b[2]+=j,b[3]+=Q,b[4]+=V,b[5]+=ne,b[6]+=L,b[7]+=N,A+=64,H-=64}return A}function g(d){var b=new n;b.update(d);var T=b.digest();return b.clean(),T}r.hash=g})(ks);var Ls={};(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.sharedKey=r.generateKeyPair=r.generateKeyPairFromSeed=r.scalarMultBase=r.scalarMult=r.SHARED_KEY_LENGTH=r.SECRET_KEY_LENGTH=r.PUBLIC_KEY_LENGTH=void 0;const e=Ya,t=cr;r.PUBLIC_KEY_LENGTH=32,r.SECRET_KEY_LENGTH=32,r.SHARED_KEY_LENGTH=32;function n($){const M=new Float64Array(16);if($)for(let I=0;I<$.length;I++)M[I]=$[I];return M}const o=new Uint8Array(32);o[0]=9;const a=n([56129,1]);function g($){let M=1;for(let I=0;I<16;I++){let c=$[I]+M+65535;M=Math.floor(c/65536),$[I]=c-M*65536}$[0]+=M-1+37*(M-1)}function d($,M,I){const c=~(I-1);for(let v=0;v<16;v++){const B=c&($[v]^M[v]);$[v]^=B,M[v]^=B}}function b($,M){const I=n(),c=n();for(let v=0;v<16;v++)c[v]=M[v];g(c),g(c),g(c);for(let v=0;v<2;v++){I[0]=c[0]-65517;for(let D=1;D<15;D++)I[D]=c[D]-65535-(I[D-1]>>16&1),I[D-1]&=65535;I[15]=c[15]-32767-(I[14]>>16&1);const B=I[15]>>16&1;I[14]&=65535,d(c,I,1-B)}for(let v=0;v<16;v++)$[2*v]=c[v]&255,$[2*v+1]=c[v]>>8}function T($,M){for(let I=0;I<16;I++)$[I]=M[2*I]+(M[2*I+1]<<8);$[15]&=32767}function A($,M,I){for(let c=0;c<16;c++)$[c]=M[c]+I[c]}function H($,M,I){for(let c=0;c<16;c++)$[c]=M[c]-I[c]}function O($,M,I){let c,v,B=0,D=0,m=0,i=0,f=0,l=0,p=0,x=0,P=0,F=0,E=0,u=0,S=0,ee=0,K=0,X=0,Z=0,se=0,ge=0,Be=0,pe=0,ve=0,et=0,ye=0,De=0,er=0,ot=0,ut=0,ur=0,dt=0,nt=0,yt=I[0],Ge=I[1],Oe=I[2],_t=I[3],Me=I[4],ke=I[5],wt=I[6],Le=I[7],He=I[8],At=I[9],je=I[10],Ne=I[11],Pt=I[12],Ie=I[13],Te=I[14],mt=I[15];c=M[0],B+=c*yt,D+=c*Ge,m+=c*Oe,i+=c*_t,f+=c*Me,l+=c*ke,p+=c*wt,x+=c*Le,P+=c*He,F+=c*At,E+=c*je,u+=c*Ne,S+=c*Pt,ee+=c*Ie,K+=c*Te,X+=c*mt,c=M[1],D+=c*yt,m+=c*Ge,i+=c*Oe,f+=c*_t,l+=c*Me,p+=c*ke,x+=c*wt,P+=c*Le,F+=c*He,E+=c*At,u+=c*je,S+=c*Ne,ee+=c*Pt,K+=c*Ie,X+=c*Te,Z+=c*mt,c=M[2],m+=c*yt,i+=c*Ge,f+=c*Oe,l+=c*_t,p+=c*Me,x+=c*ke,P+=c*wt,F+=c*Le,E+=c*He,u+=c*At,S+=c*je,ee+=c*Ne,K+=c*Pt,X+=c*Ie,Z+=c*Te,se+=c*mt,c=M[3],i+=c*yt,f+=c*Ge,l+=c*Oe,p+=c*_t,x+=c*Me,P+=c*ke,F+=c*wt,E+=c*Le,u+=c*He,S+=c*At,ee+=c*je,K+=c*Ne,X+=c*Pt,Z+=c*Ie,se+=c*Te,ge+=c*mt,c=M[4],f+=c*yt,l+=c*Ge,p+=c*Oe,x+=c*_t,P+=c*Me,F+=c*ke,E+=c*wt,u+=c*Le,S+=c*He,ee+=c*At,K+=c*je,X+=c*Ne,Z+=c*Pt,se+=c*Ie,ge+=c*Te,Be+=c*mt,c=M[5],l+=c*yt,p+=c*Ge,x+=c*Oe,P+=c*_t,F+=c*Me,E+=c*ke,u+=c*wt,S+=c*Le,ee+=c*He,K+=c*At,X+=c*je,Z+=c*Ne,se+=c*Pt,ge+=c*Ie,Be+=c*Te,pe+=c*mt,c=M[6],p+=c*yt,x+=c*Ge,P+=c*Oe,F+=c*_t,E+=c*Me,u+=c*ke,S+=c*wt,ee+=c*Le,K+=c*He,X+=c*At,Z+=c*je,se+=c*Ne,ge+=c*Pt,Be+=c*Ie,pe+=c*Te,ve+=c*mt,c=M[7],x+=c*yt,P+=c*Ge,F+=c*Oe,E+=c*_t,u+=c*Me,S+=c*ke,ee+=c*wt,K+=c*Le,X+=c*He,Z+=c*At,se+=c*je,ge+=c*Ne,Be+=c*Pt,pe+=c*Ie,ve+=c*Te,et+=c*mt,c=M[8],P+=c*yt,F+=c*Ge,E+=c*Oe,u+=c*_t,S+=c*Me,ee+=c*ke,K+=c*wt,X+=c*Le,Z+=c*He,se+=c*At,ge+=c*je,Be+=c*Ne,pe+=c*Pt,ve+=c*Ie,et+=c*Te,ye+=c*mt,c=M[9],F+=c*yt,E+=c*Ge,u+=c*Oe,S+=c*_t,ee+=c*Me,K+=c*ke,X+=c*wt,Z+=c*Le,se+=c*He,ge+=c*At,Be+=c*je,pe+=c*Ne,ve+=c*Pt,et+=c*Ie,ye+=c*Te,De+=c*mt,c=M[10],E+=c*yt,u+=c*Ge,S+=c*Oe,ee+=c*_t,K+=c*Me,X+=c*ke,Z+=c*wt,se+=c*Le,ge+=c*He,Be+=c*At,pe+=c*je,ve+=c*Ne,et+=c*Pt,ye+=c*Ie,De+=c*Te,er+=c*mt,c=M[11],u+=c*yt,S+=c*Ge,ee+=c*Oe,K+=c*_t,X+=c*Me,Z+=c*ke,se+=c*wt,ge+=c*Le,Be+=c*He,pe+=c*At,ve+=c*je,et+=c*Ne,ye+=c*Pt,De+=c*Ie,er+=c*Te,ot+=c*mt,c=M[12],S+=c*yt,ee+=c*Ge,K+=c*Oe,X+=c*_t,Z+=c*Me,se+=c*ke,ge+=c*wt,Be+=c*Le,pe+=c*He,ve+=c*At,et+=c*je,ye+=c*Ne,De+=c*Pt,er+=c*Ie,ot+=c*Te,ut+=c*mt,c=M[13],ee+=c*yt,K+=c*Ge,X+=c*Oe,Z+=c*_t,se+=c*Me,ge+=c*ke,Be+=c*wt,pe+=c*Le,ve+=c*He,et+=c*At,ye+=c*je,De+=c*Ne,er+=c*Pt,ot+=c*Ie,ut+=c*Te,ur+=c*mt,c=M[14],K+=c*yt,X+=c*Ge,Z+=c*Oe,se+=c*_t,ge+=c*Me,Be+=c*ke,pe+=c*wt,ve+=c*Le,et+=c*He,ye+=c*At,De+=c*je,er+=c*Ne,ot+=c*Pt,ut+=c*Ie,ur+=c*Te,dt+=c*mt,c=M[15],X+=c*yt,Z+=c*Ge,se+=c*Oe,ge+=c*_t,Be+=c*Me,pe+=c*ke,ve+=c*wt,et+=c*Le,ye+=c*He,De+=c*At,er+=c*je,ot+=c*Ne,ut+=c*Pt,ur+=c*Ie,dt+=c*Te,nt+=c*mt,B+=38*Z,D+=38*se,m+=38*ge,i+=38*Be,f+=38*pe,l+=38*ve,p+=38*et,x+=38*ye,P+=38*De,F+=38*er,E+=38*ot,u+=38*ut,S+=38*ur,ee+=38*dt,K+=38*nt,v=1,c=B+v+65535,v=Math.floor(c/65536),B=c-v*65536,c=D+v+65535,v=Math.floor(c/65536),D=c-v*65536,c=m+v+65535,v=Math.floor(c/65536),m=c-v*65536,c=i+v+65535,v=Math.floor(c/65536),i=c-v*65536,c=f+v+65535,v=Math.floor(c/65536),f=c-v*65536,c=l+v+65535,v=Math.floor(c/65536),l=c-v*65536,c=p+v+65535,v=Math.floor(c/65536),p=c-v*65536,c=x+v+65535,v=Math.floor(c/65536),x=c-v*65536,c=P+v+65535,v=Math.floor(c/65536),P=c-v*65536,c=F+v+65535,v=Math.floor(c/65536),F=c-v*65536,c=E+v+65535,v=Math.floor(c/65536),E=c-v*65536,c=u+v+65535,v=Math.floor(c/65536),u=c-v*65536,c=S+v+65535,v=Math.floor(c/65536),S=c-v*65536,c=ee+v+65535,v=Math.floor(c/65536),ee=c-v*65536,c=K+v+65535,v=Math.floor(c/65536),K=c-v*65536,c=X+v+65535,v=Math.floor(c/65536),X=c-v*65536,B+=v-1+37*(v-1),v=1,c=B+v+65535,v=Math.floor(c/65536),B=c-v*65536,c=D+v+65535,v=Math.floor(c/65536),D=c-v*65536,c=m+v+65535,v=Math.floor(c/65536),m=c-v*65536,c=i+v+65535,v=Math.floor(c/65536),i=c-v*65536,c=f+v+65535,v=Math.floor(c/65536),f=c-v*65536,c=l+v+65535,v=Math.floor(c/65536),l=c-v*65536,c=p+v+65535,v=Math.floor(c/65536),p=c-v*65536,c=x+v+65535,v=Math.floor(c/65536),x=c-v*65536,c=P+v+65535,v=Math.floor(c/65536),P=c-v*65536,c=F+v+65535,v=Math.floor(c/65536),F=c-v*65536,c=E+v+65535,v=Math.floor(c/65536),E=c-v*65536,c=u+v+65535,v=Math.floor(c/65536),u=c-v*65536,c=S+v+65535,v=Math.floor(c/65536),S=c-v*65536,c=ee+v+65535,v=Math.floor(c/65536),ee=c-v*65536,c=K+v+65535,v=Math.floor(c/65536),K=c-v*65536,c=X+v+65535,v=Math.floor(c/65536),X=c-v*65536,B+=v-1+37*(v-1),$[0]=B,$[1]=D,$[2]=m,$[3]=i,$[4]=f,$[5]=l,$[6]=p,$[7]=x,$[8]=P,$[9]=F,$[10]=E,$[11]=u,$[12]=S,$[13]=ee,$[14]=K,$[15]=X}function U($,M){O($,M,M)}function j($,M){const I=n();for(let c=0;c<16;c++)I[c]=M[c];for(let c=253;c>=0;c--)U(I,I),c!==2&&c!==4&&O(I,I,M);for(let c=0;c<16;c++)$[c]=I[c]}function Q($,M){const I=new Uint8Array(32),c=new Float64Array(80),v=n(),B=n(),D=n(),m=n(),i=n(),f=n();for(let P=0;P<31;P++)I[P]=$[P];I[31]=$[31]&127|64,I[0]&=248,T(c,M);for(let P=0;P<16;P++)B[P]=c[P];v[0]=m[0]=1;for(let P=254;P>=0;--P){const F=I[P>>>3]>>>(P&7)&1;d(v,B,F),d(D,m,F),A(i,v,D),H(v,v,D),A(D,B,m),H(B,B,m),U(m,i),U(f,v),O(v,D,v),O(D,B,i),A(i,v,D),H(v,v,D),U(B,v),H(D,m,f),O(v,D,a),A(v,v,m),O(D,D,v),O(v,m,f),O(m,B,c),U(B,i),d(v,B,F),d(D,m,F)}for(let P=0;P<16;P++)c[P+16]=v[P],c[P+32]=D[P],c[P+48]=B[P],c[P+64]=m[P];const l=c.subarray(32),p=c.subarray(16);j(l,l),O(p,p,l);const x=new Uint8Array(32);return b(x,p),x}r.scalarMult=Q;function V($){return Q($,o)}r.scalarMultBase=V;function ne($){if($.length!==r.SECRET_KEY_LENGTH)throw new Error(`x25519: seed must be ${r.SECRET_KEY_LENGTH} bytes`);const M=new Uint8Array($);return{publicKey:V(M),secretKey:M}}r.generateKeyPairFromSeed=ne;function L($){const M=(0,e.randomBytes)(32,$),I=ne(M);return(0,t.wipe)(M),I}r.generateKeyPair=L;function N($,M,I=!1){if($.length!==r.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect secret key length");if(M.length!==r.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect public key length");const c=Q($,M);if(I){let v=0;for(let B=0;B<c.length;B++)v|=c[B];if(v===0)throw new Error("X25519: invalid shared key")}return c}r.sharedKey=N})(Ls);function Hs(r,e){if(r.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),n=0;n<t.length;n++)t[n]=255;for(var o=0;o<r.length;o++){var a=r.charAt(o),g=a.charCodeAt(0);if(t[g]!==255)throw new TypeError(a+" is ambiguous");t[g]=o}var d=r.length,b=r.charAt(0),T=Math.log(d)/Math.log(256),A=Math.log(256)/Math.log(d);function H(j){if(j instanceof Uint8Array||(ArrayBuffer.isView(j)?j=new Uint8Array(j.buffer,j.byteOffset,j.byteLength):Array.isArray(j)&&(j=Uint8Array.from(j))),!(j instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(j.length===0)return"";for(var Q=0,V=0,ne=0,L=j.length;ne!==L&&j[ne]===0;)ne++,Q++;for(var N=(L-ne)*A+1>>>0,$=new Uint8Array(N);ne!==L;){for(var M=j[ne],I=0,c=N-1;(M!==0||I<V)&&c!==-1;c--,I++)M+=256*$[c]>>>0,$[c]=M%d>>>0,M=M/d>>>0;if(M!==0)throw new Error("Non-zero carry");V=I,ne++}for(var v=N-V;v!==N&&$[v]===0;)v++;for(var B=b.repeat(Q);v<N;++v)B+=r.charAt($[v]);return B}function O(j){if(typeof j!="string")throw new TypeError("Expected String");if(j.length===0)return new Uint8Array;var Q=0;if(j[Q]!==" "){for(var V=0,ne=0;j[Q]===b;)V++,Q++;for(var L=(j.length-Q)*T+1>>>0,N=new Uint8Array(L);j[Q];){var $=t[j.charCodeAt(Q)];if($===255)return;for(var M=0,I=L-1;($!==0||M<ne)&&I!==-1;I--,M++)$+=d*N[I]>>>0,N[I]=$%256>>>0,$=$/256>>>0;if($!==0)throw new Error("Non-zero carry");ne=M,Q++}if(j[Q]!==" "){for(var c=L-ne;c!==L&&N[c]===0;)c++;for(var v=new Uint8Array(V+(L-c)),B=V;c!==L;)v[B++]=N[c++];return v}}}function U(j){var Q=O(j);if(Q)return Q;throw new Error(`Non-${e} character`)}return{encode:H,decodeUnsafe:O,decode:U}}var Ns=Hs,Rs=Ns;const Us=r=>{if(r instanceof Uint8Array&&r.constructor.name==="Uint8Array")return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")},Gs=r=>new TextEncoder().encode(r),zs=r=>new TextDecoder().decode(r);class js{constructor(e,t,n){this.name=e,this.prefix=t,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class Ks{constructor(e,t,n){if(this.name=e,this.prefix=t,t.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return Wa(this,e)}}class qs{constructor(e){this.decoders=e}or(e){return Wa(this,e)}decode(e){const t=e[0],n=this.decoders[t];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const Wa=(r,e)=>new qs({...r.decoders||{[r.prefix]:r},...e.decoders||{[e.prefix]:e}});class Vs{constructor(e,t,n,o){this.name=e,this.prefix=t,this.baseEncode=n,this.baseDecode=o,this.encoder=new js(e,t,n),this.decoder=new Ks(e,t,o)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const Un=({name:r,prefix:e,encode:t,decode:n})=>new Vs(r,e,t,n),ln=({prefix:r,name:e,alphabet:t})=>{const{encode:n,decode:o}=Rs(t,e);return Un({prefix:r,name:e,encode:n,decode:a=>Us(o(a))})},Zs=(r,e,t,n)=>{const o={};for(let A=0;A<e.length;++A)o[e[A]]=A;let a=r.length;for(;r[a-1]==="=";)--a;const g=new Uint8Array(a*t/8|0);let d=0,b=0,T=0;for(let A=0;A<a;++A){const H=o[r[A]];if(H===void 0)throw new SyntaxError(`Non-${n} character`);b=b<<t|H,d+=t,d>=8&&(d-=8,g[T++]=255&b>>d)}if(d>=t||255&b<<8-d)throw new SyntaxError("Unexpected end of data");return g},Ys=(r,e,t)=>{const n=e[e.length-1]==="=",o=(1<<t)-1;let a="",g=0,d=0;for(let b=0;b<r.length;++b)for(d=d<<8|r[b],g+=8;g>t;)g-=t,a+=e[o&d>>g];if(g&&(a+=e[o&d<<t-g]),n)for(;a.length*t&7;)a+="=";return a},Ut=({name:r,prefix:e,bitsPerChar:t,alphabet:n})=>Un({prefix:e,name:r,encode(o){return Ys(o,n,t)},decode(o){return Zs(o,n,t,r)}});Un({prefix:"\0",name:"identity",encode:r=>zs(r),decode:r=>Gs(r)});Ut({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});Ut({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});ln({prefix:"9",name:"base10",alphabet:"0123456789"});Ut({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4});Ut({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});Ut({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5});Ut({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5});Ut({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5});Ut({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5});Ut({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5});Ut({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5});Ut({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5});Ut({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5});Ut({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});ln({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"});ln({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});ln({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"});ln({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});Ut({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6});Ut({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6});Ut({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6});Ut({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});const Xa=Array.from("ðŸš€ðŸªâ˜„ðŸ›°ðŸŒŒðŸŒ‘ðŸŒ’ðŸŒ“ðŸŒ”ðŸŒ•ðŸŒ–ðŸŒ—ðŸŒ˜ðŸŒðŸŒðŸŒŽðŸ‰â˜€ðŸ’»ðŸ–¥ðŸ’¾ðŸ’¿ðŸ˜‚â¤ðŸ˜ðŸ¤£ðŸ˜ŠðŸ™ðŸ’•ðŸ˜­ðŸ˜˜ðŸ‘ðŸ˜…ðŸ‘ðŸ˜ðŸ”¥ðŸ¥°ðŸ’”ðŸ’–ðŸ’™ðŸ˜¢ðŸ¤”ðŸ˜†ðŸ™„ðŸ’ªðŸ˜‰â˜ºðŸ‘ŒðŸ¤—ðŸ’œðŸ˜”ðŸ˜ŽðŸ˜‡ðŸŒ¹ðŸ¤¦ðŸŽ‰ðŸ’žâœŒâœ¨ðŸ¤·ðŸ˜±ðŸ˜ŒðŸŒ¸ðŸ™ŒðŸ˜‹ðŸ’—ðŸ’šðŸ˜ðŸ’›ðŸ™‚ðŸ’“ðŸ¤©ðŸ˜„ðŸ˜€ðŸ–¤ðŸ˜ƒðŸ’¯ðŸ™ˆðŸ‘‡ðŸŽ¶ðŸ˜’ðŸ¤­â£ðŸ˜œðŸ’‹ðŸ‘€ðŸ˜ªðŸ˜‘ðŸ’¥ðŸ™‹ðŸ˜žðŸ˜©ðŸ˜¡ðŸ¤ªðŸ‘ŠðŸ¥³ðŸ˜¥ðŸ¤¤ðŸ‘‰ðŸ’ƒðŸ˜³âœ‹ðŸ˜šðŸ˜ðŸ˜´ðŸŒŸðŸ˜¬ðŸ™ƒðŸ€ðŸŒ·ðŸ˜»ðŸ˜“â­âœ…ðŸ¥ºðŸŒˆðŸ˜ˆðŸ¤˜ðŸ’¦âœ”ðŸ˜£ðŸƒðŸ’â˜¹ðŸŽŠðŸ’˜ðŸ˜ â˜ðŸ˜•ðŸŒºðŸŽ‚ðŸŒ»ðŸ˜ðŸ–•ðŸ’ðŸ™ŠðŸ˜¹ðŸ—£ðŸ’«ðŸ’€ðŸ‘‘ðŸŽµðŸ¤žðŸ˜›ðŸ”´ðŸ˜¤ðŸŒ¼ðŸ˜«âš½ðŸ¤™â˜•ðŸ†ðŸ¤«ðŸ‘ˆðŸ˜®ðŸ™†ðŸ»ðŸƒðŸ¶ðŸ’ðŸ˜²ðŸŒ¿ðŸ§¡ðŸŽâš¡ðŸŒžðŸŽˆâŒâœŠðŸ‘‹ðŸ˜°ðŸ¤¨ðŸ˜¶ðŸ¤ðŸš¶ðŸ’°ðŸ“ðŸ’¢ðŸ¤ŸðŸ™ðŸš¨ðŸ’¨ðŸ¤¬âœˆðŸŽ€ðŸºðŸ¤“ðŸ˜™ðŸ’ŸðŸŒ±ðŸ˜–ðŸ‘¶ðŸ¥´â–¶âž¡â“ðŸ’ŽðŸ’¸â¬‡ðŸ˜¨ðŸŒšðŸ¦‹ðŸ˜·ðŸ•ºâš ðŸ™…ðŸ˜ŸðŸ˜µðŸ‘ŽðŸ¤²ðŸ¤ ðŸ¤§ðŸ“ŒðŸ”µðŸ’…ðŸ§ðŸ¾ðŸ’ðŸ˜—ðŸ¤‘ðŸŒŠðŸ¤¯ðŸ·â˜ŽðŸ’§ðŸ˜¯ðŸ’†ðŸ‘†ðŸŽ¤ðŸ™‡ðŸ‘â„ðŸŒ´ðŸ’£ðŸ¸ðŸ’ŒðŸ“ðŸ¥€ðŸ¤¢ðŸ‘…ðŸ’¡ðŸ’©ðŸ‘ðŸ“¸ðŸ‘»ðŸ¤ðŸ¤®ðŸŽ¼ðŸ¥µðŸš©ðŸŽðŸŠðŸ‘¼ðŸ’ðŸ“£ðŸ¥‚"),Ws=Xa.reduce((r,e,t)=>(r[t]=e,r),[]),Xs=Xa.reduce((r,e,t)=>(r[e.codePointAt(0)]=t,r),[]);function Js(r){return r.reduce((e,t)=>(e+=Ws[t],e),"")}function Qs(r){const e=[];for(const t of r){const n=Xs[t.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${t}`);e.push(n)}return new Uint8Array(e)}Un({prefix:"ðŸš€",name:"base256emoji",encode:Js,decode:Qs});new TextEncoder;new TextDecoder;var ef={},Ja={exports:{}};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */(function(r){var e,t,n,o,a,g,d,b,T,A,H,O,U,j,Q,V,ne,L,N,$,M,I,c;(function(v){var B=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof this=="object"?this:{};v(D(B,D(r.exports)));function D(m,i){return m!==B&&(typeof Object.create=="function"?Object.defineProperty(m,"__esModule",{value:!0}):m.__esModule=!0),function(f,l){return m[f]=i?i(f,l):l}}})(function(v){var B=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,m){D.__proto__=m}||function(D,m){for(var i in m)m.hasOwnProperty(i)&&(D[i]=m[i])};e=function(D,m){B(D,m);function i(){this.constructor=D}D.prototype=m===null?Object.create(m):(i.prototype=m.prototype,new i)},t=Object.assign||function(D){for(var m,i=1,f=arguments.length;i<f;i++){m=arguments[i];for(var l in m)Object.prototype.hasOwnProperty.call(m,l)&&(D[l]=m[l])}return D},n=function(D,m){var i={};for(var f in D)Object.prototype.hasOwnProperty.call(D,f)&&m.indexOf(f)<0&&(i[f]=D[f]);if(D!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,f=Object.getOwnPropertySymbols(D);l<f.length;l++)m.indexOf(f[l])<0&&Object.prototype.propertyIsEnumerable.call(D,f[l])&&(i[f[l]]=D[f[l]]);return i},o=function(D,m,i,f){var l=arguments.length,p=l<3?m:f===null?f=Object.getOwnPropertyDescriptor(m,i):f,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(D,m,i,f);else for(var P=D.length-1;P>=0;P--)(x=D[P])&&(p=(l<3?x(p):l>3?x(m,i,p):x(m,i))||p);return l>3&&p&&Object.defineProperty(m,i,p),p},a=function(D,m){return function(i,f){m(i,f,D)}},g=function(D,m){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(D,m)},d=function(D,m,i,f){function l(p){return p instanceof i?p:new i(function(x){x(p)})}return new(i||(i=Promise))(function(p,x){function P(u){try{E(f.next(u))}catch(S){x(S)}}function F(u){try{E(f.throw(u))}catch(S){x(S)}}function E(u){u.done?p(u.value):l(u.value).then(P,F)}E((f=f.apply(D,m||[])).next())})},b=function(D,m){var i={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},f,l,p,x;return x={next:P(0),throw:P(1),return:P(2)},typeof Symbol=="function"&&(x[Symbol.iterator]=function(){return this}),x;function P(E){return function(u){return F([E,u])}}function F(E){if(f)throw new TypeError("Generator is already executing.");for(;i;)try{if(f=1,l&&(p=E[0]&2?l.return:E[0]?l.throw||((p=l.return)&&p.call(l),0):l.next)&&!(p=p.call(l,E[1])).done)return p;switch(l=0,p&&(E=[E[0]&2,p.value]),E[0]){case 0:case 1:p=E;break;case 4:return i.label++,{value:E[1],done:!1};case 5:i.label++,l=E[1],E=[0];continue;case 7:E=i.ops.pop(),i.trys.pop();continue;default:if(p=i.trys,!(p=p.length>0&&p[p.length-1])&&(E[0]===6||E[0]===2)){i=0;continue}if(E[0]===3&&(!p||E[1]>p[0]&&E[1]<p[3])){i.label=E[1];break}if(E[0]===6&&i.label<p[1]){i.label=p[1],p=E;break}if(p&&i.label<p[2]){i.label=p[2],i.ops.push(E);break}p[2]&&i.ops.pop(),i.trys.pop();continue}E=m.call(D,i)}catch(u){E=[6,u],l=0}finally{f=p=0}if(E[0]&5)throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}},c=function(D,m,i,f){f===void 0&&(f=i),D[f]=m[i]},T=function(D,m){for(var i in D)i!=="default"&&!m.hasOwnProperty(i)&&(m[i]=D[i])},A=function(D){var m=typeof Symbol=="function"&&Symbol.iterator,i=m&&D[m],f=0;if(i)return i.call(D);if(D&&typeof D.length=="number")return{next:function(){return D&&f>=D.length&&(D=void 0),{value:D&&D[f++],done:!D}}};throw new TypeError(m?"Object is not iterable.":"Symbol.iterator is not defined.")},H=function(D,m){var i=typeof Symbol=="function"&&D[Symbol.iterator];if(!i)return D;var f=i.call(D),l,p=[],x;try{for(;(m===void 0||m-- >0)&&!(l=f.next()).done;)p.push(l.value)}catch(P){x={error:P}}finally{try{l&&!l.done&&(i=f.return)&&i.call(f)}finally{if(x)throw x.error}}return p},O=function(){for(var D=[],m=0;m<arguments.length;m++)D=D.concat(H(arguments[m]));return D},U=function(){for(var D=0,m=0,i=arguments.length;m<i;m++)D+=arguments[m].length;for(var f=Array(D),l=0,m=0;m<i;m++)for(var p=arguments[m],x=0,P=p.length;x<P;x++,l++)f[l]=p[x];return f},j=function(D){return this instanceof j?(this.v=D,this):new j(D)},Q=function(D,m,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var f=i.apply(D,m||[]),l,p=[];return l={},x("next"),x("throw"),x("return"),l[Symbol.asyncIterator]=function(){return this},l;function x(ee){f[ee]&&(l[ee]=function(K){return new Promise(function(X,Z){p.push([ee,K,X,Z])>1||P(ee,K)})})}function P(ee,K){try{F(f[ee](K))}catch(X){S(p[0][3],X)}}function F(ee){ee.value instanceof j?Promise.resolve(ee.value.v).then(E,u):S(p[0][2],ee)}function E(ee){P("next",ee)}function u(ee){P("throw",ee)}function S(ee,K){ee(K),p.shift(),p.length&&P(p[0][0],p[0][1])}},V=function(D){var m,i;return m={},f("next"),f("throw",function(l){throw l}),f("return"),m[Symbol.iterator]=function(){return this},m;function f(l,p){m[l]=D[l]?function(x){return(i=!i)?{value:j(D[l](x)),done:l==="return"}:p?p(x):x}:p}},ne=function(D){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var m=D[Symbol.asyncIterator],i;return m?m.call(D):(D=typeof A=="function"?A(D):D[Symbol.iterator](),i={},f("next"),f("throw"),f("return"),i[Symbol.asyncIterator]=function(){return this},i);function f(p){i[p]=D[p]&&function(x){return new Promise(function(P,F){x=D[p](x),l(P,F,x.done,x.value)})}}function l(p,x,P,F){Promise.resolve(F).then(function(E){p({value:E,done:P})},x)}},L=function(D,m){return Object.defineProperty?Object.defineProperty(D,"raw",{value:m}):D.raw=m,D},N=function(D){if(D&&D.__esModule)return D;var m={};if(D!=null)for(var i in D)Object.hasOwnProperty.call(D,i)&&(m[i]=D[i]);return m.default=D,m},$=function(D){return D&&D.__esModule?D:{default:D}},M=function(D,m){if(!m.has(D))throw new TypeError("attempted to get private field on non-instance");return m.get(D)},I=function(D,m,i){if(!m.has(D))throw new TypeError("attempted to set private field on non-instance");return m.set(D,i),i},v("__extends",e),v("__assign",t),v("__rest",n),v("__decorate",o),v("__param",a),v("__metadata",g),v("__awaiter",d),v("__generator",b),v("__exportStar",T),v("__createBinding",c),v("__values",A),v("__read",H),v("__spread",O),v("__spreadArrays",U),v("__await",j),v("__asyncGenerator",Q),v("__asyncDelegator",V),v("__asyncValues",ne),v("__makeTemplateObject",L),v("__importStar",N),v("__importDefault",$),v("__classPrivateFieldGet",M),v("__classPrivateFieldSet",I)})})(Ja);var Gn=Ja.exports,ei={},rn={},Vi;function tf(){if(Vi)return rn;Vi=1,Object.defineProperty(rn,"__esModule",{value:!0}),rn.delay=void 0;function r(e){return new Promise(t=>{setTimeout(()=>{t(!0)},e)})}return rn.delay=r,rn}var Tr={},ti={},Mr={},Zi;function rf(){return Zi||(Zi=1,Object.defineProperty(Mr,"__esModule",{value:!0}),Mr.ONE_THOUSAND=Mr.ONE_HUNDRED=void 0,Mr.ONE_HUNDRED=100,Mr.ONE_THOUSAND=1e3),Mr}var ri={},Yi;function nf(){return Yi||(Yi=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.ONE_YEAR=r.FOUR_WEEKS=r.THREE_WEEKS=r.TWO_WEEKS=r.ONE_WEEK=r.THIRTY_DAYS=r.SEVEN_DAYS=r.FIVE_DAYS=r.THREE_DAYS=r.ONE_DAY=r.TWENTY_FOUR_HOURS=r.TWELVE_HOURS=r.SIX_HOURS=r.THREE_HOURS=r.ONE_HOUR=r.SIXTY_MINUTES=r.THIRTY_MINUTES=r.TEN_MINUTES=r.FIVE_MINUTES=r.ONE_MINUTE=r.SIXTY_SECONDS=r.THIRTY_SECONDS=r.TEN_SECONDS=r.FIVE_SECONDS=r.ONE_SECOND=void 0,r.ONE_SECOND=1,r.FIVE_SECONDS=5,r.TEN_SECONDS=10,r.THIRTY_SECONDS=30,r.SIXTY_SECONDS=60,r.ONE_MINUTE=r.SIXTY_SECONDS,r.FIVE_MINUTES=r.ONE_MINUTE*5,r.TEN_MINUTES=r.ONE_MINUTE*10,r.THIRTY_MINUTES=r.ONE_MINUTE*30,r.SIXTY_MINUTES=r.ONE_MINUTE*60,r.ONE_HOUR=r.SIXTY_MINUTES,r.THREE_HOURS=r.ONE_HOUR*3,r.SIX_HOURS=r.ONE_HOUR*6,r.TWELVE_HOURS=r.ONE_HOUR*12,r.TWENTY_FOUR_HOURS=r.ONE_HOUR*24,r.ONE_DAY=r.TWENTY_FOUR_HOURS,r.THREE_DAYS=r.ONE_DAY*3,r.FIVE_DAYS=r.ONE_DAY*5,r.SEVEN_DAYS=r.ONE_DAY*7,r.THIRTY_DAYS=r.ONE_DAY*30,r.ONE_WEEK=r.SEVEN_DAYS,r.TWO_WEEKS=r.ONE_WEEK*2,r.THREE_WEEKS=r.ONE_WEEK*3,r.FOUR_WEEKS=r.ONE_WEEK*4,r.ONE_YEAR=r.ONE_DAY*365}(ri)),ri}var Wi;function Qa(){return Wi||(Wi=1,function(r){Object.defineProperty(r,"__esModule",{value:!0});const e=Gn;e.__exportStar(rf(),r),e.__exportStar(nf(),r)}(ti)),ti}var Xi;function af(){if(Xi)return Tr;Xi=1,Object.defineProperty(Tr,"__esModule",{value:!0}),Tr.fromMiliseconds=Tr.toMiliseconds=void 0;const r=Qa();function e(n){return n*r.ONE_THOUSAND}Tr.toMiliseconds=e;function t(n){return Math.floor(n/r.ONE_THOUSAND)}return Tr.fromMiliseconds=t,Tr}var Ji;function of(){return Ji||(Ji=1,function(r){Object.defineProperty(r,"__esModule",{value:!0});const e=Gn;e.__exportStar(tf(),r),e.__exportStar(af(),r)}(ei)),ei}var Nr={},Qi;function sf(){if(Qi)return Nr;Qi=1,Object.defineProperty(Nr,"__esModule",{value:!0}),Nr.Watch=void 0;class r{constructor(){this.timestamps=new Map}start(t){if(this.timestamps.has(t))throw new Error(`Watch already started for label: ${t}`);this.timestamps.set(t,{started:Date.now()})}stop(t){const n=this.get(t);if(typeof n.elapsed<"u")throw new Error(`Watch already stopped for label: ${t}`);const o=Date.now()-n.started;this.timestamps.set(t,{started:n.started,elapsed:o})}get(t){const n=this.timestamps.get(t);if(typeof n>"u")throw new Error(`No timestamp found for label: ${t}`);return n}elapsed(t){const n=this.get(t);return n.elapsed||Date.now()-n.started}}return Nr.Watch=r,Nr.default=r,Nr}var ni={},nn={},ea;function ff(){if(ea)return nn;ea=1,Object.defineProperty(nn,"__esModule",{value:!0}),nn.IWatch=void 0;class r{}return nn.IWatch=r,nn}var ta;function cf(){return ta||(ta=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),Gn.__exportStar(ff(),r)}(ni)),ni}(function(r){Object.defineProperty(r,"__esModule",{value:!0});const e=Gn;e.__exportStar(of(),r),e.__exportStar(sf(),r),e.__exportStar(cf(),r),e.__exportStar(Qa(),r)})(ef);var vt={};Object.defineProperty(vt,"__esModule",{value:!0});vt.getLocalStorage=vt.getLocalStorageOrThrow=vt.getCrypto=vt.getCryptoOrThrow=vt.getLocation=vt.getLocationOrThrow=vt.getNavigator=vt.getNavigatorOrThrow=vt.getDocument=vt.getDocumentOrThrow=vt.getFromWindowOrThrow=vt.getFromWindow=void 0;function Or(r){let e;return typeof window<"u"&&typeof window[r]<"u"&&(e=window[r]),e}vt.getFromWindow=Or;function Qr(r){const e=Or(r);if(!e)throw new Error(`${r} is not defined in Window`);return e}vt.getFromWindowOrThrow=Qr;function uf(){return Qr("document")}vt.getDocumentOrThrow=uf;function hf(){return Or("document")}vt.getDocument=hf;function df(){return Qr("navigator")}vt.getNavigatorOrThrow=df;function lf(){return Or("navigator")}vt.getNavigator=lf;function mf(){return Qr("location")}vt.getLocationOrThrow=mf;function gf(){return Or("location")}vt.getLocation=gf;function pf(){return Qr("crypto")}vt.getCryptoOrThrow=pf;function vf(){return Or("crypto")}vt.getCrypto=vf;function bf(){return Qr("localStorage")}vt.getLocalStorageOrThrow=bf;function yf(){return Or("localStorage")}vt.getLocalStorage=yf;var $i={};Object.defineProperty($i,"__esModule",{value:!0});$i.getWindowMetadata=void 0;const ra=vt;function wf(){let r,e;try{r=ra.getDocumentOrThrow(),e=ra.getLocationOrThrow()}catch{return null}function t(){const H=r.getElementsByTagName("link"),O=[];for(let U=0;U<H.length;U++){const j=H[U],Q=j.getAttribute("rel");if(Q&&Q.toLowerCase().indexOf("icon")>-1){const V=j.getAttribute("href");if(V)if(V.toLowerCase().indexOf("https:")===-1&&V.toLowerCase().indexOf("http:")===-1&&V.indexOf("//")!==0){let ne=e.protocol+"//"+e.host;if(V.indexOf("/")===0)ne+=V;else{const L=e.pathname.split("/");L.pop();const N=L.join("/");ne+=N+"/"+V}O.push(ne)}else if(V.indexOf("//")===0){const ne=e.protocol+V;O.push(ne)}else O.push(V)}}return O}function n(...H){const O=r.getElementsByTagName("meta");for(let U=0;U<O.length;U++){const j=O[U],Q=["itemprop","property","name"].map(V=>j.getAttribute(V)).filter(V=>V?H.includes(V):!1);if(Q.length&&Q){const V=j.getAttribute("content");if(V)return V}}return""}function o(){let H=n("name","og:site_name","og:title","twitter:title");return H||(H=r.title),H}function a(){return n("description","og:description","twitter:description","keywords")}const g=o(),d=a(),b=e.origin,T=t();return{description:d,url:b,icons:T,name:g}}$i.getWindowMetadata=wf;var xf={},Ef=function(r,e){for(var t={},n=Object.keys(r),o=Array.isArray(e),a=0;a<n.length;a++){var g=n[a],d=r[g];(o?e.indexOf(g)!==-1:e(g,d,r))&&(t[g]=d)}return t};(function(r){const e=Ro,t=Uo,n=No,o=Ef,a=L=>L==null,g=Symbol("encodeFragmentIdentifier");function d(L){switch(L.arrayFormat){case"index":return N=>($,M)=>{const I=$.length;return M===void 0||L.skipNull&&M===null||L.skipEmptyString&&M===""?$:M===null?[...$,[A(N,L),"[",I,"]"].join("")]:[...$,[A(N,L),"[",A(I,L),"]=",A(M,L)].join("")]};case"bracket":return N=>($,M)=>M===void 0||L.skipNull&&M===null||L.skipEmptyString&&M===""?$:M===null?[...$,[A(N,L),"[]"].join("")]:[...$,[A(N,L),"[]=",A(M,L)].join("")];case"colon-list-separator":return N=>($,M)=>M===void 0||L.skipNull&&M===null||L.skipEmptyString&&M===""?$:M===null?[...$,[A(N,L),":list="].join("")]:[...$,[A(N,L),":list=",A(M,L)].join("")];case"comma":case"separator":case"bracket-separator":{const N=L.arrayFormat==="bracket-separator"?"[]=":"=";return $=>(M,I)=>I===void 0||L.skipNull&&I===null||L.skipEmptyString&&I===""?M:(I=I===null?"":I,M.length===0?[[A($,L),N,A(I,L)].join("")]:[[M,A(I,L)].join(L.arrayFormatSeparator)])}default:return N=>($,M)=>M===void 0||L.skipNull&&M===null||L.skipEmptyString&&M===""?$:M===null?[...$,A(N,L)]:[...$,[A(N,L),"=",A(M,L)].join("")]}}function b(L){let N;switch(L.arrayFormat){case"index":return($,M,I)=>{if(N=/\[(\d*)\]$/.exec($),$=$.replace(/\[\d*\]$/,""),!N){I[$]=M;return}I[$]===void 0&&(I[$]={}),I[$][N[1]]=M};case"bracket":return($,M,I)=>{if(N=/(\[\])$/.exec($),$=$.replace(/\[\]$/,""),!N){I[$]=M;return}if(I[$]===void 0){I[$]=[M];return}I[$]=[].concat(I[$],M)};case"colon-list-separator":return($,M,I)=>{if(N=/(:list)$/.exec($),$=$.replace(/:list$/,""),!N){I[$]=M;return}if(I[$]===void 0){I[$]=[M];return}I[$]=[].concat(I[$],M)};case"comma":case"separator":return($,M,I)=>{const c=typeof M=="string"&&M.includes(L.arrayFormatSeparator),v=typeof M=="string"&&!c&&H(M,L).includes(L.arrayFormatSeparator);M=v?H(M,L):M;const B=c||v?M.split(L.arrayFormatSeparator).map(D=>H(D,L)):M===null?M:H(M,L);I[$]=B};case"bracket-separator":return($,M,I)=>{const c=/(\[\])$/.test($);if($=$.replace(/\[\]$/,""),!c){I[$]=M&&H(M,L);return}const v=M===null?[]:M.split(L.arrayFormatSeparator).map(B=>H(B,L));if(I[$]===void 0){I[$]=v;return}I[$]=[].concat(I[$],v)};default:return($,M,I)=>{if(I[$]===void 0){I[$]=M;return}I[$]=[].concat(I[$],M)}}}function T(L){if(typeof L!="string"||L.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function A(L,N){return N.encode?N.strict?e(L):encodeURIComponent(L):L}function H(L,N){return N.decode?t(L):L}function O(L){return Array.isArray(L)?L.sort():typeof L=="object"?O(Object.keys(L)).sort((N,$)=>Number(N)-Number($)).map(N=>L[N]):L}function U(L){const N=L.indexOf("#");return N!==-1&&(L=L.slice(0,N)),L}function j(L){let N="";const $=L.indexOf("#");return $!==-1&&(N=L.slice($)),N}function Q(L){L=U(L);const N=L.indexOf("?");return N===-1?"":L.slice(N+1)}function V(L,N){return N.parseNumbers&&!Number.isNaN(Number(L))&&typeof L=="string"&&L.trim()!==""?L=Number(L):N.parseBooleans&&L!==null&&(L.toLowerCase()==="true"||L.toLowerCase()==="false")&&(L=L.toLowerCase()==="true"),L}function ne(L,N){N=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},N),T(N.arrayFormatSeparator);const $=b(N),M=Object.create(null);if(typeof L!="string"||(L=L.trim().replace(/^[?#&]/,""),!L))return M;for(const I of L.split("&")){if(I==="")continue;let[c,v]=n(N.decode?I.replace(/\+/g," "):I,"=");v=v===void 0?null:["comma","separator","bracket-separator"].includes(N.arrayFormat)?v:H(v,N),$(H(c,N),v,M)}for(const I of Object.keys(M)){const c=M[I];if(typeof c=="object"&&c!==null)for(const v of Object.keys(c))c[v]=V(c[v],N);else M[I]=V(c,N)}return N.sort===!1?M:(N.sort===!0?Object.keys(M).sort():Object.keys(M).sort(N.sort)).reduce((I,c)=>{const v=M[c];return v&&typeof v=="object"&&!Array.isArray(v)?I[c]=O(v):I[c]=v,I},Object.create(null))}r.extract=Q,r.parse=ne,r.stringify=(L,N)=>{if(!L)return"";N=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},N),T(N.arrayFormatSeparator);const $=v=>N.skipNull&&a(L[v])||N.skipEmptyString&&L[v]==="",M=d(N),I={};for(const v of Object.keys(L))$(v)||(I[v]=L[v]);const c=Object.keys(I);return N.sort!==!1&&c.sort(N.sort),c.map(v=>{const B=L[v];return B===void 0?"":B===null?A(v,N):Array.isArray(B)?B.length===0&&N.arrayFormat==="bracket-separator"?A(v,N)+"[]":B.reduce(M(v),[]).join("&"):A(v,N)+"="+A(B,N)}).filter(v=>v.length>0).join("&")},r.parseUrl=(L,N)=>{N=Object.assign({decode:!0},N);const[$,M]=n(L,"#");return Object.assign({url:$.split("?")[0]||"",query:ne(Q(L),N)},N&&N.parseFragmentIdentifier&&M?{fragmentIdentifier:H(M,N)}:{})},r.stringifyUrl=(L,N)=>{N=Object.assign({encode:!0,strict:!0,[g]:!0},N);const $=U(L.url).split("?")[0]||"",M=r.extract(L.url),I=r.parse(M,{sort:!1}),c=Object.assign(I,L.query);let v=r.stringify(c,N);v&&(v=`?${v}`);let B=j(L.url);return L.fragmentIdentifier&&(B=`#${N[g]?A(L.fragmentIdentifier,N):L.fragmentIdentifier}`),`${$}${v}${B}`},r.pick=(L,N,$)=>{$=Object.assign({parseFragmentIdentifier:!0,[g]:!1},$);const{url:M,query:I,fragmentIdentifier:c}=r.parseUrl(L,$);return r.stringifyUrl({url:M,query:o(I,N),fragmentIdentifier:c},$)},r.exclude=(L,N,$)=>{const M=Array.isArray(N)?I=>!N.includes(I):(I,c)=>!N(I,c);return r.pick(L,M,$)}})(xf);const Ci=":";function _f(r){const[e,t]=r.split(Ci);return{namespace:e,reference:t}}function Pf(r){const{namespace:e,reference:t}=r;return[e,t].join(Ci)}function Fi(r){const[e,t,n]=r.split(Ci);return{namespace:e,reference:t,address:n}}function Df(r,e){const t=[];return r.forEach(n=>{const o=e(n);t.includes(o)||t.push(o)}),t}function Sf(r){const{namespace:e,reference:t}=Fi(r);return Pf({namespace:e,reference:t})}function Af(r){return Df(r,Sf)}function eo(r,e=[]){const t=[];return Object.keys(r).forEach(n=>{if(e.length&&!e.includes(n))return;const o=r[n];t.push(...o.accounts)}),t}function Tf(r,e=[]){const t=[];return Object.keys(r).forEach(n=>{if(e.length&&!e.includes(n))return;const o=r[n];t.push(...Af(o.accounts))}),t}var to={},mn={},kr={},fn={},zn={},ro={};/*! crc32.js (C) 2014-present SheetJS -- http://sheetjs.com */(function(r){(function(e){e(typeof DO_NOT_EXPORT_CRC>"u"?r:{})})(function(e){e.version="1.2.2";function t(){for(var v=0,B=new Array(256),D=0;D!=256;++D)v=D,v=v&1?-306674912^v>>>1:v>>>1,v=v&1?-306674912^v>>>1:v>>>1,v=v&1?-306674912^v>>>1:v>>>1,v=v&1?-306674912^v>>>1:v>>>1,v=v&1?-306674912^v>>>1:v>>>1,v=v&1?-306674912^v>>>1:v>>>1,v=v&1?-306674912^v>>>1:v>>>1,v=v&1?-306674912^v>>>1:v>>>1,B[D]=v;return typeof Int32Array<"u"?new Int32Array(B):B}var n=t();function o(v){var B=0,D=0,m=0,i=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(m=0;m!=256;++m)i[m]=v[m];for(m=0;m!=256;++m)for(D=v[m],B=256+m;B<4096;B+=256)D=i[B]=D>>>8^v[D&255];var f=[];for(m=1;m!=16;++m)f[m-1]=typeof Int32Array<"u"?i.subarray(m*256,m*256+256):i.slice(m*256,m*256+256);return f}var a=o(n),g=a[0],d=a[1],b=a[2],T=a[3],A=a[4],H=a[5],O=a[6],U=a[7],j=a[8],Q=a[9],V=a[10],ne=a[11],L=a[12],N=a[13],$=a[14];function M(v,B){for(var D=B^-1,m=0,i=v.length;m<i;)D=D>>>8^n[(D^v.charCodeAt(m++))&255];return~D}function I(v,B){for(var D=B^-1,m=v.length-15,i=0;i<m;)D=$[v[i++]^D&255]^N[v[i++]^D>>8&255]^L[v[i++]^D>>16&255]^ne[v[i++]^D>>>24]^V[v[i++]]^Q[v[i++]]^j[v[i++]]^U[v[i++]]^O[v[i++]]^H[v[i++]]^A[v[i++]]^T[v[i++]]^b[v[i++]]^d[v[i++]]^g[v[i++]]^n[v[i++]];for(m+=15;i<m;)D=D>>>8^n[(D^v[i++])&255];return~D}function c(v,B){for(var D=B^-1,m=0,i=v.length,f=0,l=0;m<i;)f=v.charCodeAt(m++),f<128?D=D>>>8^n[(D^f)&255]:f<2048?(D=D>>>8^n[(D^(192|f>>6&31))&255],D=D>>>8^n[(D^(128|f&63))&255]):f>=55296&&f<57344?(f=(f&1023)+64,l=v.charCodeAt(m++)&1023,D=D>>>8^n[(D^(240|f>>8&7))&255],D=D>>>8^n[(D^(128|f>>2&63))&255],D=D>>>8^n[(D^(128|l>>6&15|(f&3)<<4))&255],D=D>>>8^n[(D^(128|l&63))&255]):(D=D>>>8^n[(D^(224|f>>12&15))&255],D=D>>>8^n[(D^(128|f>>6&63))&255],D=D>>>8^n[(D^(128|f&63))&255]);return~D}e.table=n,e.bstr=M,e.buf=I,e.str=c})})(ro);const Mf="goerli",If=5,$f=5,Cf="merge",Ff={type:"poa",algorithm:"clique",clique:{period:15,epoch:3e4}},Bf="Cross-client PoA test network",Of="https://github.com/goerli/testnet",kf={timestamp:"0x5c51a607",gasLimit:10485760,difficulty:1,nonce:"0x0000000000000000",extraData:"0x22466c6578692069732061207468696e6722202d204166726900000000000000e0a2bd4258d2768837baa26a28fe71dc079f84c70000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"},Lf=[{name:"chainstart",block:0,forkHash:"0xa3f5ab08"},{name:"homestead",block:0,forkHash:"0xa3f5ab08"},{name:"tangerineWhistle",block:0,forkHash:"0xa3f5ab08"},{name:"spuriousDragon",block:0,forkHash:"0xa3f5ab08"},{name:"byzantium",block:0,forkHash:"0xa3f5ab08"},{name:"constantinople",block:0,forkHash:"0xa3f5ab08"},{name:"petersburg",block:0,forkHash:"0xa3f5ab08"},{name:"istanbul",block:1561651,forkHash:"0xc25efa5c"},{name:"berlin",block:4460644,forkHash:"0x757a1c47"},{name:"london",block:5062605,forkHash:"0xb8c6299d"},{"//_comment":"The forkHash will remain same as mergeForkIdTransition is post merge, terminal block: https://goerli.etherscan.io/block/7382818",name:"merge",ttd:"10790000",block:7382819,forkHash:"0xb8c6299d"},{name:"mergeForkIdTransition",block:null,forkHash:null},{name:"shanghai",block:null,timestamp:"1678832736",forkHash:"0xf9843abf"}],Hf=[{ip:"51.141.78.53",port:30303,id:"011f758e6552d105183b1761c5e2dea0111bc20fd5f6422bc7f91e0fabbec9a6595caf6239b37feb773dddd3f87240d99d859431891e4a642cf2a0a9e6cbb98a",location:"",comment:"Upstream bootnode 1"},{ip:"13.93.54.137",port:30303,id:"176b9417f511d05b6b2cf3e34b756cf0a7096b3094572a8f6ef4cdcb9d1f9d00683bf0f83347eebdf3b81c3521c2332086d9592802230bf528eaf606a1d9677b",location:"",comment:"Upstream bootnode 2"},{ip:"94.237.54.114",port:30313,id:"46add44b9f13965f7b9875ac6b85f016f341012d84f975377573800a863526f4da19ae2c620ec73d11591fa9510e992ecc03ad0751f53cc02f7c7ed6d55c7291",location:"",comment:"Upstream bootnode 3"},{ip:"18.218.250.66",port:30313,id:"b5948a2d3e9d486c4d75bf32713221c2bd6cf86463302339299bd227dc2e276cd5a1c7ca4f43a0e9122fe9af884efed563bd2a1fd28661f3b5f5ad7bf1de5949",location:"",comment:"Upstream bootnode 4"},{ip:"3.11.147.67",port:30303,id:"a61215641fb8714a373c80edbfa0ea8878243193f57c96eeb44d0bc019ef295abd4e044fd619bfc4c59731a73fb79afe84e9ab6da0c743ceb479cbb6d263fa91",location:"",comment:"Ethereum Foundation bootnode"},{ip:"51.15.116.226",port:30303,id:"a869b02cec167211fb4815a82941db2e7ed2936fd90e78619c53eb17753fcf0207463e3419c264e2a1dd8786de0df7e68cf99571ab8aeb7c4e51367ef186b1dd",location:"",comment:"Goerli Initiative bootnode"},{ip:"51.15.119.157",port:30303,id:"807b37ee4816ecf407e9112224494b74dd5933625f655962d892f2f0f02d7fbbb3e2a94cf87a96609526f30c998fd71e93e2f53015c558ffc8b03eceaf30ee33",location:"",comment:"Goerli Initiative bootnode"},{ip:"51.15.119.157",port:40303,id:"a59e33ccd2b3e52d578f1fbd70c6f9babda2650f0760d6ff3b37742fdcdfdb3defba5d56d315b40c46b70198c7621e63ffa3f987389c7118634b0fefbbdfa7fd",location:"",comment:"Goerli Initiative bootnode"}],Nf=["enrtree://AKA3AM6LPBYEUDMVNU3BSVQJ5AD45Y7YPOHJLEF6W26QOE4VTUDPE@all.goerli.ethdisco.net"],Rf={name:Mf,chainId:If,networkId:$f,defaultHardfork:Cf,consensus:Ff,comment:Bf,url:Of,genesis:kf,hardforks:Lf,bootstrapNodes:Hf,dnsNetworks:Nf},Uf="mainnet",Gf=1,zf=1,jf="merge",Kf={type:"pow",algorithm:"ethash",ethash:{}},qf="The Ethereum main chain",Vf="https://ethstats.net/",Zf={gasLimit:5e3,difficulty:17179869184,nonce:"0x0000000000000042",extraData:"0x11bbe8db4e347b4e8c937c1c8370e4b5ed33adb3db69cbdb7a38e1e50b1b82fa"},Yf=[{name:"chainstart",block:0,forkHash:"0xfc64ec04"},{name:"homestead",block:115e4,forkHash:"0x97c2c34c"},{name:"dao",block:192e4,forkHash:"0x91d1f948"},{name:"tangerineWhistle",block:2463e3,forkHash:"0x7a64da13"},{name:"spuriousDragon",block:2675e3,forkHash:"0x3edd5b10"},{name:"byzantium",block:437e4,forkHash:"0xa00bc324"},{name:"constantinople",block:728e4,forkHash:"0x668db0af"},{name:"petersburg",block:728e4,forkHash:"0x668db0af"},{name:"istanbul",block:9069e3,forkHash:"0x879d6e30"},{name:"muirGlacier",block:92e5,forkHash:"0xe029e991"},{name:"berlin",block:12244e3,forkHash:"0x0eb440f6"},{name:"london",block:12965e3,forkHash:"0xb715077d"},{name:"arrowGlacier",block:13773e3,forkHash:"0x20c327fc"},{name:"grayGlacier",block:1505e4,forkHash:"0xf0afd0e3"},{"//_comment":"The forkHash will remain same as mergeForkIdTransition is post merge, terminal block: https://etherscan.io/block/15537393",name:"merge",ttd:"58750000000000000000000",block:15537394,forkHash:"0xf0afd0e3"},{name:"mergeForkIdTransition",block:null,forkHash:null},{name:"shanghai",block:null,timestamp:"1681338455",forkHash:"0xdce96c2d"}],Wf=[{ip:"18.138.108.67",port:30303,id:"d860a01f9722d78051619d1e2351aba3f43f943f6f00718d1b9baa4101932a1f5011f16bb2b1bb35db20d6fe28fa0bf09636d26a87d31de9ec6203eeedb1f666",location:"ap-southeast-1-001",comment:"bootnode-aws-ap-southeast-1-001"},{ip:"3.209.45.79",port:30303,id:"22a8232c3abc76a16ae9d6c3b164f98775fe226f0917b0ca871128a74a8e9630b458460865bab457221f1d448dd9791d24c4e5d88786180ac185df813a68d4de",location:"us-east-1-001",comment:"bootnode-aws-us-east-1-001"},{ip:"65.108.70.101",port:30303,id:"2b252ab6a1d0f971d9722cb839a42cb81db019ba44c08754628ab4a823487071b5695317c8ccd085219c3a03af063495b2f1da8d18218da2d6a82981b45e6ffc",location:"eu-west-1-001",comment:"bootnode-hetzner-hel"},{ip:"157.90.35.166",port:30303,id:"4aeb4ab6c14b23e2c4cfdce879c04b0748a20d8e9b59e25ded2a08143e265c6c25936e74cbc8e641e3312ca288673d91f2f93f8e277de3cfa444ecdaaf982052",location:"eu-central-1-001",comment:"bootnode-hetzner-fsn"}],Xf=["enrtree://AKA3AM6LPBYEUDMVNU3BSVQJ5AD45Y7YPOHJLEF6W26QOE4VTUDPE@all.mainnet.ethdisco.net"],Jf={name:Uf,chainId:Gf,networkId:zf,defaultHardfork:jf,consensus:Kf,comment:qf,url:Vf,genesis:Zf,hardforks:Yf,bootstrapNodes:Wf,dnsNetworks:Xf},Qf="rinkeby",ec=4,tc=4,rc="london",nc={type:"poa",algorithm:"clique",clique:{period:15,epoch:3e4}},ic="PoA test network",ac="https://www.rinkeby.io",oc={timestamp:"0x58ee40ba",gasLimit:47e5,difficulty:1,nonce:"0x0000000000000000",extraData:"0x52657370656374206d7920617574686f7269746168207e452e436172746d616e42eb768f2244c8811c63729a21a3569731535f067ffc57839b00206d1ad20c69a1981b489f772031b279182d99e65703f0076e4812653aab85fca0f00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"},sc=[{name:"chainstart",block:0,forkHash:"0x3b8e0691"},{name:"homestead",block:1,forkHash:"0x60949295"},{name:"tangerineWhistle",block:2,forkHash:"0x8bde40dd"},{name:"spuriousDragon",block:3,forkHash:"0xcb3a64bb"},{name:"byzantium",block:1035301,forkHash:"0x8d748b57"},{name:"constantinople",block:3660663,forkHash:"0xe49cab14"},{name:"petersburg",block:4321234,forkHash:"0xafec6b27"},{name:"istanbul",block:5435345,forkHash:"0xcbdb8838"},{name:"berlin",block:8290928,forkHash:"0x6910c8bd"},{name:"london",block:8897988,forkHash:"0x8e29f2f3"},{name:"merge",block:null,forkHash:null},{name:"shanghai",block:null,forkHash:null}],fc=[{ip:"52.169.42.101",port:30303,id:"a24ac7c5484ef4ed0c5eb2d36620ba4e4aa13b8c84684e1b4aab0cebea2ae45cb4d375b77eab56516d34bfbd3c1a833fc51296ff084b770b94fb9028c4d25ccf",location:"",comment:"IE"},{ip:"52.3.158.184",port:30303,id:"343149e4feefa15d882d9fe4ac7d88f885bd05ebb735e547f12e12080a9fa07c8014ca6fd7f373123488102fe5e34111f8509cf0b7de3f5b44339c9f25e87cb8",location:"",comment:"INFURA"},{ip:"159.89.28.211",port:30303,id:"b6b28890b006743680c52e64e0d16db57f28124885595fa03a562be1d2bf0f3a1da297d56b13da25fb992888fd556d4c1a27b1f39d531bde7de1921c90061cc6",location:"",comment:"AKASHA"}],cc=["enrtree://AKA3AM6LPBYEUDMVNU3BSVQJ5AD45Y7YPOHJLEF6W26QOE4VTUDPE@all.rinkeby.ethdisco.net"],uc={name:Qf,chainId:ec,networkId:tc,defaultHardfork:rc,consensus:nc,comment:ic,url:ac,genesis:oc,hardforks:sc,bootstrapNodes:fc,dnsNetworks:cc},hc="ropsten",dc=3,lc=3,mc="merge",gc={type:"pow",algorithm:"ethash",ethash:{}},pc="PoW test network",vc="https://github.com/ethereum/ropsten",bc={gasLimit:16777216,difficulty:1048576,nonce:"0x0000000000000042",extraData:"0x3535353535353535353535353535353535353535353535353535353535353535"},yc=[{name:"chainstart",block:0,forkHash:"0x30c7ddbc"},{name:"homestead",block:0,forkHash:"0x30c7ddbc"},{name:"tangerineWhistle",block:0,forkHash:"0x30c7ddbc"},{name:"spuriousDragon",block:10,forkHash:"0x63760190"},{name:"byzantium",block:17e5,forkHash:"0x3ea159c7"},{name:"constantinople",block:423e4,forkHash:"0x97b544f3"},{name:"petersburg",block:4939394,forkHash:"0xd6e2149b"},{name:"istanbul",block:6485846,forkHash:"0x4bc66396"},{name:"muirGlacier",block:7117117,forkHash:"0x6727ef90"},{name:"berlin",block:9812189,forkHash:"0xa157d377"},{name:"london",block:10499401,forkHash:"0x7119b6b3"},{"//_comment":"The forkHash will remain same as mergeForkIdTransition is post merge",name:"merge",ttd:"50000000000000000",block:null,forkHash:"0x7119b6b3"},{name:"mergeForkIdTransition",block:null,forkHash:null},{name:"shanghai",block:null,forkHash:null}],wc=[{ip:"52.176.7.10",port:30303,id:"30b7ab30a01c124a6cceca36863ece12c4f5fa68e3ba9b0b51407ccc002eeed3b3102d20a88f1c1d3c3154e2449317b8ef95090e77b312d5cc39354f86d5d606",location:"",comment:"US-Azure geth"},{ip:"52.176.100.77",port:30303,id:"865a63255b3bb68023b6bffd5095118fcc13e79dcf014fe4e47e065c350c7cc72af2e53eff895f11ba1bbb6a2b33271c1116ee870f266618eadfc2e78aa7349c",location:"",comment:"US-Azure parity"},{ip:"52.232.243.152",port:30303,id:"6332792c4a00e3e4ee0926ed89e0d27ef985424d97b6a45bf0f23e51f0dcb5e66b875777506458aea7af6f9e4ffb69f43f3778ee73c81ed9d34c51c4b16b0b0f",location:"",comment:"Parity"},{ip:"192.81.208.223",port:30303,id:"94c15d1b9e2fe7ce56e458b9a3b672ef11894ddedd0c6f247e0f1d3487f52b66208fb4aeb8179fce6e3a749ea93ed147c37976d67af557508d199d9594c35f09",location:"",comment:"@gpip"}],xc=["enrtree://AKA3AM6LPBYEUDMVNU3BSVQJ5AD45Y7YPOHJLEF6W26QOE4VTUDPE@all.ropsten.ethdisco.net"],Ec={name:hc,chainId:dc,networkId:lc,defaultHardfork:mc,consensus:gc,comment:pc,url:vc,genesis:bc,hardforks:yc,bootstrapNodes:wc,dnsNetworks:xc},_c="sepolia",Pc=11155111,Dc=11155111,Sc="merge",Ac={type:"pow",algorithm:"ethash",ethash:{}},Tc="PoW test network to replace Ropsten",Mc="https://github.com/ethereum/go-ethereum/pull/23730",Ic={timestamp:"0x6159af19",gasLimit:3e7,difficulty:131072,nonce:"0x0000000000000000",extraData:"0x5365706f6c69612c20417468656e732c204174746963612c2047726565636521"},$c=[{name:"chainstart",block:0,forkHash:"0xfe3366e7"},{name:"homestead",block:0,forkHash:"0xfe3366e7"},{name:"tangerineWhistle",block:0,forkHash:"0xfe3366e7"},{name:"spuriousDragon",block:0,forkHash:"0xfe3366e7"},{name:"byzantium",block:0,forkHash:"0xfe3366e7"},{name:"constantinople",block:0,forkHash:"0xfe3366e7"},{name:"petersburg",block:0,forkHash:"0xfe3366e7"},{name:"istanbul",block:0,forkHash:"0xfe3366e7"},{name:"muirGlacier",block:0,forkHash:"0xfe3366e7"},{name:"berlin",block:0,forkHash:"0xfe3366e7"},{name:"london",block:0,forkHash:"0xfe3366e7"},{"//_comment":"The forkHash will remain same as mergeForkIdTransition is post merge, terminal block: https://sepolia.etherscan.io/block/1450408",name:"merge",ttd:"17000000000000000",block:1450409,forkHash:"0xfe3366e7"},{name:"mergeForkIdTransition",block:1735371,forkHash:"0xb96cbd13"},{name:"shanghai",block:null,timestamp:"1677557088",forkHash:"0xf7f9bc08"}],Cc=[{ip:"18.168.182.86",port:30303,id:"9246d00bc8fd1742e5ad2428b80fc4dc45d786283e05ef6edbd9002cbc335d40998444732fbe921cb88e1d2c73d1b1de53bae6a2237996e9bfe14f871baf7066",location:"",comment:"geth"},{ip:"52.14.151.177",port:30303,id:"ec66ddcf1a974950bd4c782789a7e04f8aa7110a72569b6e65fcd51e937e74eed303b1ea734e4d19cfaec9fbff9b6ee65bf31dcb50ba79acce9dd63a6aca61c7",location:"",comment:"besu"},{ip:"165.22.196.173",port:30303,id:"ce970ad2e9daa9e14593de84a8b49da3d54ccfdf83cbc4fe519cb8b36b5918ed4eab087dedd4a62479b8d50756b492d5f762367c8d20329a7854ec01547568a6",location:"",comment:"EF"},{ip:"65.108.95.67",port:30303,id:"075503b13ed736244896efcde2a992ec0b451357d46cb7a8132c0384721742597fc8f0d91bbb40bb52e7d6e66728d36a1fda09176294e4a30cfac55dcce26bc6",location:"",comment:"lodestar"}],Fc=["enrtree://AKA3AM6LPBYEUDMVNU3BSVQJ5AD45Y7YPOHJLEF6W26QOE4VTUDPE@all.sepolia.ethdisco.net"],Bc={name:_c,chainId:Pc,networkId:Dc,defaultHardfork:Sc,consensus:Ac,comment:Tc,url:Mc,genesis:Ic,hardforks:$c,bootstrapNodes:Cc,dnsNetworks:Fc};var jn={};const Oc="EIP-1153",kc=1153,Lc="Transient Storage",Hc="https://eips.ethereum.org/EIPS/eip-1153",Nc="Review",Rc="chainstart",Uc=[],Gc={},zc={tstore:{v:100,d:"Base fee of the TSTORE opcode"},tload:{v:100,d:"Base fee of the TLOAD opcode"}},jc={},Kc={},qc={name:Oc,number:kc,comment:Lc,url:Hc,status:Nc,minimumHardfork:Rc,requiredEIPs:Uc,gasConfig:Gc,gasPrices:zc,vm:jc,pow:Kc},Vc="EIP-1559",Zc=1559,Yc="Fee market change for ETH 1.0 chain",Wc="https://eips.ethereum.org/EIPS/eip-1559",Xc="Final",Jc="berlin",Qc=[2930],e0={baseFeeMaxChangeDenominator:{v:8,d:"Maximum base fee change denominator"},elasticityMultiplier:{v:2,d:"Maximum block gas target elasticity"},initialBaseFee:{v:1e9,d:"Initial base fee on first EIP1559 block"}},t0={},r0={},n0={},i0={name:Vc,number:Zc,comment:Yc,url:Wc,status:Xc,minimumHardfork:Jc,requiredEIPs:Qc,gasConfig:e0,gasPrices:t0,vm:r0,pow:n0},a0="EIP-2315",o0=2315,s0="Simple subroutines for the EVM",f0="https://eips.ethereum.org/EIPS/eip-2315",c0="Draft",u0="istanbul",h0={},d0={beginsub:{v:2,d:"Base fee of the BEGINSUB opcode"},returnsub:{v:5,d:"Base fee of the RETURNSUB opcode"},jumpsub:{v:10,d:"Base fee of the JUMPSUB opcode"}},l0={},m0={},g0={name:a0,number:o0,comment:s0,url:f0,status:c0,minimumHardfork:u0,gasConfig:h0,gasPrices:d0,vm:l0,pow:m0},p0="EIP-2537",v0=2537,b0="BLS12-381 precompiles",y0="https://eips.ethereum.org/EIPS/eip-2537",w0="Draft",x0="chainstart",E0={},_0={Bls12381G1AddGas:{v:600,d:"Gas cost of a single BLS12-381 G1 addition precompile-call"},Bls12381G1MulGas:{v:12e3,d:"Gas cost of a single BLS12-381 G1 multiplication precompile-call"},Bls12381G2AddGas:{v:4500,d:"Gas cost of a single BLS12-381 G2 addition precompile-call"},Bls12381G2MulGas:{v:55e3,d:"Gas cost of a single BLS12-381 G2 multiplication precompile-call"},Bls12381PairingBaseGas:{v:115e3,d:"Base gas cost of BLS12-381 pairing check"},Bls12381PairingPerPairGas:{v:23e3,d:"Per-pair gas cost of BLS12-381 pairing check"},Bls12381MapG1Gas:{v:5500,d:"Gas cost of BLS12-381 map field element to G1"},Bls12381MapG2Gas:{v:11e4,d:"Gas cost of BLS12-381 map field element to G2"},Bls12381MultiExpGasDiscount:{v:[[1,1200],[2,888],[3,764],[4,641],[5,594],[6,547],[7,500],[8,453],[9,438],[10,423],[11,408],[12,394],[13,379],[14,364],[15,349],[16,334],[17,330],[18,326],[19,322],[20,318],[21,314],[22,310],[23,306],[24,302],[25,298],[26,294],[27,289],[28,285],[29,281],[30,277],[31,273],[32,269],[33,268],[34,266],[35,265],[36,263],[37,262],[38,260],[39,259],[40,257],[41,256],[42,254],[43,253],[44,251],[45,250],[46,248],[47,247],[48,245],[49,244],[50,242],[51,241],[52,239],[53,238],[54,236],[55,235],[56,233],[57,232],[58,231],[59,229],[60,228],[61,226],[62,225],[63,223],[64,222],[65,221],[66,220],[67,219],[68,219],[69,218],[70,217],[71,216],[72,216],[73,215],[74,214],[75,213],[76,213],[77,212],[78,211],[79,211],[80,210],[81,209],[82,208],[83,208],[84,207],[85,206],[86,205],[87,205],[88,204],[89,203],[90,202],[91,202],[92,201],[93,200],[94,199],[95,199],[96,198],[97,197],[98,196],[99,196],[100,195],[101,194],[102,193],[103,193],[104,192],[105,191],[106,191],[107,190],[108,189],[109,188],[110,188],[111,187],[112,186],[113,185],[114,185],[115,184],[116,183],[117,182],[118,182],[119,181],[120,180],[121,179],[122,179],[123,178],[124,177],[125,176],[126,176],[127,175],[128,174]],d:"Discount gas costs of calls to the MultiExp precompiles with `k` (point, scalar) pair"}},P0={},D0={},S0={name:p0,number:v0,comment:b0,url:y0,status:w0,minimumHardfork:x0,gasConfig:E0,gasPrices:_0,vm:P0,pow:D0},A0="EIP-2565",T0=2565,M0="ModExp gas cost",I0="https://eips.ethereum.org/EIPS/eip-2565",$0="Final",C0="byzantium",F0={},B0={modexpGquaddivisor:{v:3,d:"Gquaddivisor from modexp precompile for gas calculation"}},O0={},k0={},L0={name:A0,number:T0,comment:M0,url:I0,status:$0,minimumHardfork:C0,gasConfig:F0,gasPrices:B0,vm:O0,pow:k0},H0="EIP-2718",N0="Typed Transaction Envelope",R0="https://eips.ethereum.org/EIPS/eip-2718",U0="Final",G0="chainstart",z0={},j0={},K0={},q0={},V0={name:H0,comment:N0,url:R0,status:U0,minimumHardfork:G0,gasConfig:z0,gasPrices:j0,vm:K0,pow:q0},Z0="EIP-2929",Y0="Gas cost increases for state access opcodes",W0="https://eips.ethereum.org/EIPS/eip-2929",X0="Final",J0="chainstart",Q0={},eu={coldsload:{v:2100,d:"Gas cost of the first read of storage from a given location (per transaction)"},coldaccountaccess:{v:2600,d:"Gas cost of the first read of a given address (per transaction)"},warmstorageread:{v:100,d:"Gas cost of reading storage locations which have already loaded 'cold'"},sstoreCleanGasEIP2200:{v:2900,d:"Once per SSTORE operation from clean non-zero to something else"},sstoreNoopGasEIP2200:{v:100,d:"Once per SSTORE operation if the value doesn't change"},sstoreDirtyGasEIP2200:{v:100,d:"Once per SSTORE operation if a dirty value is changed"},sstoreInitRefundEIP2200:{v:19900,d:"Once per SSTORE operation for resetting to the original zero value"},sstoreCleanRefundEIP2200:{v:4900,d:"Once per SSTORE operation for resetting to the original non-zero value"},call:{v:0,d:"Base fee of the CALL opcode"},callcode:{v:0,d:"Base fee of the CALLCODE opcode"},delegatecall:{v:0,d:"Base fee of the DELEGATECALL opcode"},staticcall:{v:0,d:"Base fee of the STATICCALL opcode"},balance:{v:0,d:"Base fee of the BALANCE opcode"},extcodesize:{v:0,d:"Base fee of the EXTCODESIZE opcode"},extcodecopy:{v:0,d:"Base fee of the EXTCODECOPY opcode"},extcodehash:{v:0,d:"Base fee of the EXTCODEHASH opcode"},sload:{v:0,d:"Base fee of the SLOAD opcode"},sstore:{v:0,d:"Base fee of the SSTORE opcode"}},tu={},ru={},nu={name:Z0,comment:Y0,url:W0,status:X0,minimumHardfork:J0,gasConfig:Q0,gasPrices:eu,vm:tu,pow:ru},iu="EIP-2930",au="Optional access lists",ou="https://eips.ethereum.org/EIPS/eip-2930",su="Final",fu="istanbul",cu=[2718,2929],uu={},hu={accessListStorageKeyCost:{v:1900,d:"Gas cost per storage key in an Access List transaction"},accessListAddressCost:{v:2400,d:"Gas cost per storage key in an Access List transaction"}},du={},lu={},mu={name:iu,comment:au,url:ou,status:su,minimumHardfork:fu,requiredEIPs:cu,gasConfig:uu,gasPrices:hu,vm:du,pow:lu},gu="EIP-3074",pu=3074,vu="AUTH and AUTHCALL opcodes",bu="https://eips.ethereum.org/EIPS/eip-3074",yu="Review",wu="london",xu={},Eu={auth:{v:3100,d:"Gas cost of the AUTH opcode"},authcall:{v:0,d:"Gas cost of the AUTHCALL opcode"},authcallValueTransfer:{v:6700,d:"Paid for CALL when the value transfer is non-zero"}},_u={},Pu={},Du={name:gu,number:pu,comment:vu,url:bu,status:yu,minimumHardfork:wu,gasConfig:xu,gasPrices:Eu,vm:_u,pow:Pu},Su="EIP-3198",Au=3198,Tu="BASEFEE opcode",Mu="https://eips.ethereum.org/EIPS/eip-3198",Iu="Final",$u="london",Cu={},Fu={basefee:{v:2,d:"Gas cost of the BASEFEE opcode"}},Bu={},Ou={},ku={name:Su,number:Au,comment:Tu,url:Mu,status:Iu,minimumHardfork:$u,gasConfig:Cu,gasPrices:Fu,vm:Bu,pow:Ou},Lu="EIP-3529",Hu="Reduction in refunds",Nu="https://eips.ethereum.org/EIPS/eip-3529",Ru="Final",Uu="berlin",Gu=[2929],zu={maxRefundQuotient:{v:5,d:"Maximum refund quotient; max tx refund is min(tx.gasUsed/maxRefundQuotient, tx.gasRefund)"}},ju={selfdestructRefund:{v:0,d:"Refunded following a selfdestruct operation"},sstoreClearRefundEIP2200:{v:4800,d:"Once per SSTORE operation for clearing an originally existing storage slot"}},Ku={},qu={},Vu={name:Lu,comment:Hu,url:Nu,status:Ru,minimumHardfork:Uu,requiredEIPs:Gu,gasConfig:zu,gasPrices:ju,vm:Ku,pow:qu},Zu="EIP-3540",Yu=3540,Wu="EVM Object Format (EOF) v1",Xu="https://eips.ethereum.org/EIPS/eip-3540",Ju="Review",Qu="london",eh=[3541],th={},rh={},nh={},ih={},ah={name:Zu,number:Yu,comment:Wu,url:Xu,status:Ju,minimumHardfork:Qu,requiredEIPs:eh,gasConfig:th,gasPrices:rh,vm:nh,pow:ih},oh="EIP-3541",sh="Reject new contracts starting with the 0xEF byte",fh="https://eips.ethereum.org/EIPS/eip-3541",ch="Final",uh="berlin",hh=[],dh={},lh={},mh={},gh={},ph={name:oh,comment:sh,url:fh,status:ch,minimumHardfork:uh,requiredEIPs:hh,gasConfig:dh,gasPrices:lh,vm:mh,pow:gh},vh="EIP-3554",bh="Reduction in refunds",yh="Difficulty Bomb Delay to December 1st 2021",wh="Final",xh="muirGlacier",Eh=[],_h={},Ph={},Dh={},Sh={difficultyBombDelay:{v:95e5,d:"the amount of blocks to delay the difficulty bomb with"}},Ah={name:vh,comment:bh,url:yh,status:wh,minimumHardfork:xh,requiredEIPs:Eh,gasConfig:_h,gasPrices:Ph,vm:Dh,pow:Sh},Th="EIP-3607",Mh=3607,Ih="Reject transactions from senders with deployed code",$h="https://eips.ethereum.org/EIPS/eip-3607",Ch="Final",Fh="chainstart",Bh=[],Oh={},kh={},Lh={},Hh={},Nh={name:Th,number:Mh,comment:Ih,url:$h,status:Ch,minimumHardfork:Fh,requiredEIPs:Bh,gasConfig:Oh,gasPrices:kh,vm:Lh,pow:Hh},Rh="EIP-3651",Uh=3198,Gh="Warm COINBASE",zh="https://eips.ethereum.org/EIPS/eip-3651",jh="Review",Kh="london",qh=[2929],Vh={},Zh={},Yh={},Wh={},Xh={name:Rh,number:Uh,comment:Gh,url:zh,status:jh,minimumHardfork:Kh,requiredEIPs:qh,gasConfig:Vh,gasPrices:Zh,vm:Yh,pow:Wh},Jh="EIP-3670",Qh=3670,ed="EOF - Code Validation",td="https://eips.ethereum.org/EIPS/eip-3670",rd="Review",nd="london",id=[3540],ad={},od={},sd={},fd={},cd={name:Jh,number:Qh,comment:ed,url:td,status:rd,minimumHardfork:nd,requiredEIPs:id,gasConfig:ad,gasPrices:od,vm:sd,pow:fd},ud="EIP-3675",hd=3675,dd="Upgrade consensus to Proof-of-Stake",ld="https://eips.ethereum.org/EIPS/eip-3675",md="Final",gd="london",pd=[],vd={},bd={},yd={},wd={},xd={name:ud,number:hd,comment:dd,url:ld,status:md,minimumHardfork:gd,requiredEIPs:pd,gasConfig:vd,gasPrices:bd,vm:yd,pow:wd},Ed="EIP-3855",_d=3855,Pd="PUSH0 instruction",Dd="https://eips.ethereum.org/EIPS/eip-3855",Sd="Review",Ad="chainstart",Td=[],Md={},Id={push0:{v:2,d:"Base fee of the PUSH0 opcode"}},$d={},Cd={},Fd={name:Ed,number:_d,comment:Pd,url:Dd,status:Sd,minimumHardfork:Ad,requiredEIPs:Td,gasConfig:Md,gasPrices:Id,vm:$d,pow:Cd},Bd="EIP-3860",Od=3860,kd="Limit and meter initcode",Ld="https://eips.ethereum.org/EIPS/eip-3860",Hd="Review",Nd="spuriousDragon",Rd=[],Ud={},Gd={initCodeWordCost:{v:2,d:"Gas to pay for each word (32 bytes) of initcode when creating a contract"}},zd={maxInitCodeSize:{v:49152,d:"Maximum length of initialization code when creating a contract"}},jd={},Kd={name:Bd,number:Od,comment:kd,url:Ld,status:Hd,minimumHardfork:Nd,requiredEIPs:Rd,gasConfig:Ud,gasPrices:Gd,vm:zd,pow:jd},qd="EIP-4345",Vd=4345,Zd="Difficulty Bomb Delay to June 2022",Yd="https://eips.ethereum.org/EIPS/eip-4345",Wd="Final",Xd="london",Jd={},Qd={},el={},tl={difficultyBombDelay:{v:107e5,d:"the amount of blocks to delay the difficulty bomb with"}},rl={name:qd,number:Vd,comment:Zd,url:Yd,status:Wd,minimumHardfork:Xd,gasConfig:Jd,gasPrices:Qd,vm:el,pow:tl},nl="EIP-4399",il=4399,al="Supplant DIFFICULTY opcode with PREVRANDAO",ol="https://eips.ethereum.org/EIPS/eip-4399",sl="Review",fl="london",cl=[],ul={},hl={},dl={},ll={},ml={name:nl,number:il,comment:al,url:ol,status:sl,minimumHardfork:fl,requiredEIPs:cl,gasConfig:ul,gasPrices:hl,vm:dl,pow:ll},gl="EIP-4844",pl=4844,vl="Shard Blob Transactions",bl="https://eips.ethereum.org/EIPS/eip-4844",yl="Draft",wl="merge",xl=[1559,2718,2930,4895],El={dataGasPerBlob:{v:131072,d:"The base fee for data gas per blob"},targetDataGasPerBlock:{v:262144,d:"The target data gas consumed per block"},maxDataGasPerBlock:{v:524288,d:"The max data gas allowable per block"},dataGasPriceUpdateFraction:{v:2225652,d:"The denominator used in the exponential when calculating a data gas price"}},_l={simpleGasPerBlob:{v:12e3,d:"The basic gas fee for each blob"},minDataGasPrice:{v:1,d:"The minimum fee per data gas"},kzgPointEvaluationGasPrecompilePrice:{v:5e4,d:"The fee associated with the point evaluation precompile"},datahash:{v:3,d:"Base fee of the DATAHASH opcode"}},Pl={blobCommitmentVersionKzg:{v:1,d:"The number indicated a versioned hash is a KZG commitment"},fieldElementsPerBlob:{v:4096,d:"The number of field elements allowed per blob"}},Dl={},Sl={},Al={name:gl,number:pl,comment:vl,url:bl,status:yl,minimumHardfork:wl,requiredEIPs:xl,gasConfig:El,gasPrices:_l,sharding:Pl,vm:Dl,pow:Sl},Tl="EIP-4895",Ml=4895,Il="Beacon chain push withdrawals as operations",$l="https://eips.ethereum.org/EIPS/eip-4895",Cl="Review",Fl="merge",Bl=[],Ol={},kl={},Ll={},Hl={},Nl={name:Tl,number:Ml,comment:Il,url:$l,status:Cl,minimumHardfork:Fl,requiredEIPs:Bl,gasConfig:Ol,gasPrices:kl,vm:Ll,pow:Hl},Rl="EIP-5133",Ul=5133,Gl="Delaying Difficulty Bomb to mid-September 2022",zl="https://eips.ethereum.org/EIPS/eip-5133",jl="Draft",Kl="grayGlacier",ql={},Vl={},Zl={},Yl={difficultyBombDelay:{v:114e5,d:"the amount of blocks to delay the difficulty bomb with"}},Wl={name:Rl,number:Ul,comment:Gl,url:zl,status:jl,minimumHardfork:Kl,gasConfig:ql,gasPrices:Vl,vm:Zl,pow:Yl};Object.defineProperty(jn,"__esModule",{value:!0});jn.EIPs=void 0;jn.EIPs={1153:qc,1559:i0,2315:g0,2537:S0,2565:L0,2718:V0,2929:nu,2930:mu,3074:Du,3198:ku,3529:Vu,3540:ah,3541:ph,3554:Ah,3607:Nh,3651:Xh,3670:cd,3675:xd,3855:Fd,3860:Kd,4345:rl,4399:ml,4844:Al,4895:Nl,5133:Wl};var Kn={};(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.CustomChain=r.ConsensusAlgorithm=r.ConsensusType=r.Hardfork=r.Chain=void 0,function(e){e[e.Mainnet=1]="Mainnet",e[e.Ropsten=3]="Ropsten",e[e.Rinkeby=4]="Rinkeby",e[e.Goerli=5]="Goerli",e[e.Sepolia=11155111]="Sepolia"}(r.Chain||(r.Chain={})),function(e){e.Chainstart="chainstart",e.Homestead="homestead",e.Dao="dao",e.TangerineWhistle="tangerineWhistle",e.SpuriousDragon="spuriousDragon",e.Byzantium="byzantium",e.Constantinople="constantinople",e.Petersburg="petersburg",e.Istanbul="istanbul",e.MuirGlacier="muirGlacier",e.Berlin="berlin",e.London="london",e.ArrowGlacier="arrowGlacier",e.GrayGlacier="grayGlacier",e.MergeForkIdTransition="mergeForkIdTransition",e.Merge="merge",e.Shanghai="shanghai",e.ShardingForkDev="shardingFork"}(r.Hardfork||(r.Hardfork={})),function(e){e.ProofOfStake="pos",e.ProofOfWork="pow",e.ProofOfAuthority="poa"}(r.ConsensusType||(r.ConsensusType={})),function(e){e.Ethash="ethash",e.Clique="clique",e.Casper="casper"}(r.ConsensusAlgorithm||(r.ConsensusAlgorithm={})),function(e){e.PolygonMainnet="polygon-mainnet",e.PolygonMumbai="polygon-mumbai",e.ArbitrumRinkebyTestnet="arbitrum-rinkeby-testnet",e.ArbitrumOne="arbitrum-one",e.xDaiChain="x-dai-chain",e.OptimisticKovan="optimistic-kovan",e.OptimisticEthereum="optimistic-ethereum"}(r.CustomChain||(r.CustomChain={}))})(Kn);var qn={};const Xl="chainstart",Jl="Start of the Ethereum main chain",Ql="",em="",tm={minGasLimit:{v:5e3,d:"Minimum the gas limit may ever be"},gasLimitBoundDivisor:{v:1024,d:"The bound divisor of the gas limit, used in update calculations"},maxRefundQuotient:{v:2,d:"Maximum refund quotient; max tx refund is min(tx.gasUsed/maxRefundQuotient, tx.gasRefund)"}},rm={base:{v:2,d:"Gas base cost, used e.g. for ChainID opcode (Istanbul)"},tierStep:{v:[0,2,3,5,8,10,20],d:"Once per operation, for a selection of them"},exp:{v:10,d:"Base fee of the EXP opcode"},expByte:{v:10,d:"Times ceil(log256(exponent)) for the EXP instruction"},sha3:{v:30,d:"Base fee of the SHA3 opcode"},sha3Word:{v:6,d:"Once per word of the SHA3 operation's data"},sload:{v:50,d:"Base fee of the SLOAD opcode"},sstoreSet:{v:2e4,d:"Once per SSTORE operation if the zeroness changes from zero"},sstoreReset:{v:5e3,d:"Once per SSTORE operation if the zeroness does not change from zero"},sstoreRefund:{v:15e3,d:"Once per SSTORE operation if the zeroness changes to zero"},jumpdest:{v:1,d:"Base fee of the JUMPDEST opcode"},log:{v:375,d:"Base fee of the LOG opcode"},logData:{v:8,d:"Per byte in a LOG* operation's data"},logTopic:{v:375,d:"Multiplied by the * of the LOG*, per LOG transaction. e.g. LOG0 incurs 0 * c_txLogTopicGas, LOG4 incurs 4 * c_txLogTopicGas"},create:{v:32e3,d:"Base fee of the CREATE opcode"},call:{v:40,d:"Base fee of the CALL opcode"},callStipend:{v:2300,d:"Free gas given at beginning of call"},callValueTransfer:{v:9e3,d:"Paid for CALL when the value transfor is non-zero"},callNewAccount:{v:25e3,d:"Paid for CALL when the destination address didn't exist prior"},selfdestructRefund:{v:24e3,d:"Refunded following a selfdestruct operation"},memory:{v:3,d:"Times the address of the (highest referenced byte in memory + 1). NOTE: referencing happens on read, write and in instructions such as RETURN and CALL"},quadCoeffDiv:{v:512,d:"Divisor for the quadratic particle of the memory cost equation"},createData:{v:200,d:""},tx:{v:21e3,d:"Per transaction. NOTE: Not payable on data of calls between transactions"},txCreation:{v:32e3,d:"The cost of creating a contract via tx"},txDataZero:{v:4,d:"Per byte of data attached to a transaction that equals zero. NOTE: Not payable on data of calls between transactions"},txDataNonZero:{v:68,d:"Per byte of data attached to a transaction that is not equal to zero. NOTE: Not payable on data of calls between transactions"},copy:{v:3,d:"Multiplied by the number of 32-byte words that are copied (round up) for any *COPY operation and added"},ecRecover:{v:3e3,d:""},sha256:{v:60,d:""},sha256Word:{v:12,d:""},ripemd160:{v:600,d:""},ripemd160Word:{v:120,d:""},identity:{v:15,d:""},identityWord:{v:3,d:""},stop:{v:0,d:"Base fee of the STOP opcode"},add:{v:3,d:"Base fee of the ADD opcode"},mul:{v:5,d:"Base fee of the MUL opcode"},sub:{v:3,d:"Base fee of the SUB opcode"},div:{v:5,d:"Base fee of the DIV opcode"},sdiv:{v:5,d:"Base fee of the SDIV opcode"},mod:{v:5,d:"Base fee of the MOD opcode"},smod:{v:5,d:"Base fee of the SMOD opcode"},addmod:{v:8,d:"Base fee of the ADDMOD opcode"},mulmod:{v:8,d:"Base fee of the MULMOD opcode"},signextend:{v:5,d:"Base fee of the SIGNEXTEND opcode"},lt:{v:3,d:"Base fee of the LT opcode"},gt:{v:3,d:"Base fee of the GT opcode"},slt:{v:3,d:"Base fee of the SLT opcode"},sgt:{v:3,d:"Base fee of the SGT opcode"},eq:{v:3,d:"Base fee of the EQ opcode"},iszero:{v:3,d:"Base fee of the ISZERO opcode"},and:{v:3,d:"Base fee of the AND opcode"},or:{v:3,d:"Base fee of the OR opcode"},xor:{v:3,d:"Base fee of the XOR opcode"},not:{v:3,d:"Base fee of the NOT opcode"},byte:{v:3,d:"Base fee of the BYTE opcode"},address:{v:2,d:"Base fee of the ADDRESS opcode"},balance:{v:20,d:"Base fee of the BALANCE opcode"},origin:{v:2,d:"Base fee of the ORIGIN opcode"},caller:{v:2,d:"Base fee of the CALLER opcode"},callvalue:{v:2,d:"Base fee of the CALLVALUE opcode"},calldataload:{v:3,d:"Base fee of the CALLDATALOAD opcode"},calldatasize:{v:2,d:"Base fee of the CALLDATASIZE opcode"},calldatacopy:{v:3,d:"Base fee of the CALLDATACOPY opcode"},codesize:{v:2,d:"Base fee of the CODESIZE opcode"},codecopy:{v:3,d:"Base fee of the CODECOPY opcode"},gasprice:{v:2,d:"Base fee of the GASPRICE opcode"},extcodesize:{v:20,d:"Base fee of the EXTCODESIZE opcode"},extcodecopy:{v:20,d:"Base fee of the EXTCODECOPY opcode"},blockhash:{v:20,d:"Base fee of the BLOCKHASH opcode"},coinbase:{v:2,d:"Base fee of the COINBASE opcode"},timestamp:{v:2,d:"Base fee of the TIMESTAMP opcode"},number:{v:2,d:"Base fee of the NUMBER opcode"},difficulty:{v:2,d:"Base fee of the DIFFICULTY opcode"},gaslimit:{v:2,d:"Base fee of the GASLIMIT opcode"},pop:{v:2,d:"Base fee of the POP opcode"},mload:{v:3,d:"Base fee of the MLOAD opcode"},mstore:{v:3,d:"Base fee of the MSTORE opcode"},mstore8:{v:3,d:"Base fee of the MSTORE8 opcode"},sstore:{v:0,d:"Base fee of the SSTORE opcode"},jump:{v:8,d:"Base fee of the JUMP opcode"},jumpi:{v:10,d:"Base fee of the JUMPI opcode"},pc:{v:2,d:"Base fee of the PC opcode"},msize:{v:2,d:"Base fee of the MSIZE opcode"},gas:{v:2,d:"Base fee of the GAS opcode"},push:{v:3,d:"Base fee of the PUSH opcode"},dup:{v:3,d:"Base fee of the DUP opcode"},swap:{v:3,d:"Base fee of the SWAP opcode"},callcode:{v:40,d:"Base fee of the CALLCODE opcode"},return:{v:0,d:"Base fee of the RETURN opcode"},invalid:{v:0,d:"Base fee of the INVALID opcode"},selfdestruct:{v:0,d:"Base fee of the SELFDESTRUCT opcode"}},nm={stackLimit:{v:1024,d:"Maximum size of VM stack allowed"},callCreateDepth:{v:1024,d:"Maximum depth of call/create stack"},maxExtraDataSize:{v:32,d:"Maximum size extra data may be after Genesis"}},im={minimumDifficulty:{v:131072,d:"The minimum that the difficulty may ever be"},difficultyBoundDivisor:{v:2048,d:"The bound divisor of the difficulty, used in the update calculations"},durationLimit:{v:13,d:"The decision boundary on the blocktime duration used to determine whether difficulty should go up or not"},epochDuration:{v:3e4,d:"Duration between proof-of-work epochs"},timebombPeriod:{v:1e5,d:"Exponential difficulty timebomb period"},minerReward:{v:"5000000000000000000",d:"the amount a miner get rewarded for mining a block"},difficultyBombDelay:{v:0,d:"the amount of blocks to delay the difficulty bomb with"}},am={name:Xl,comment:Jl,url:Ql,status:em,gasConfig:tm,gasPrices:rm,vm:nm,pow:im},om="homestead",sm="Homestead hardfork with protocol and network changes",fm="https://eips.ethereum.org/EIPS/eip-606",cm="Final",um={},hm={delegatecall:{v:40,d:"Base fee of the DELEGATECALL opcode"}},dm={},lm={},mm={name:om,comment:sm,url:fm,status:cm,gasConfig:um,gasPrices:hm,vm:dm,pow:lm},gm="dao",pm="DAO rescue hardfork",vm="https://eips.ethereum.org/EIPS/eip-779",bm="Final",ym={},wm={},xm={},Em={},_m={name:gm,comment:pm,url:vm,status:bm,gasConfig:ym,gasPrices:wm,vm:xm,pow:Em},Pm="tangerineWhistle",Dm="Hardfork with gas cost changes for IO-heavy operations",Sm="https://eips.ethereum.org/EIPS/eip-608",Am="Final",Tm={},Mm={sload:{v:200,d:"Once per SLOAD operation"},call:{v:700,d:"Once per CALL operation & message call transaction"},extcodesize:{v:700,d:"Base fee of the EXTCODESIZE opcode"},extcodecopy:{v:700,d:"Base fee of the EXTCODECOPY opcode"},balance:{v:400,d:"Base fee of the BALANCE opcode"},delegatecall:{v:700,d:"Base fee of the DELEGATECALL opcode"},callcode:{v:700,d:"Base fee of the CALLCODE opcode"},selfdestruct:{v:5e3,d:"Base fee of the SELFDESTRUCT opcode"}},Im={},$m={},Cm={name:Pm,comment:Dm,url:Sm,status:Am,gasConfig:Tm,gasPrices:Mm,vm:Im,pow:$m},Fm="spuriousDragon",Bm="HF with EIPs for simple replay attack protection, EXP cost increase, state trie clearing, contract code size limit",Om="https://eips.ethereum.org/EIPS/eip-607",km="Final",Lm={},Hm={expByte:{v:50,d:"Times ceil(log256(exponent)) for the EXP instruction"}},Nm={maxCodeSize:{v:24576,d:"Maximum length of contract code"}},Rm={},Um={name:Fm,comment:Bm,url:Om,status:km,gasConfig:Lm,gasPrices:Hm,vm:Nm,pow:Rm},Gm="byzantium",zm="Hardfork with new precompiles, instructions and other protocol changes",jm="https://eips.ethereum.org/EIPS/eip-609",Km="Final",qm={},Vm={modexpGquaddivisor:{v:20,d:"Gquaddivisor from modexp precompile for gas calculation"},ecAdd:{v:500,d:"Gas costs for curve addition precompile"},ecMul:{v:4e4,d:"Gas costs for curve multiplication precompile"},ecPairing:{v:1e5,d:"Base gas costs for curve pairing precompile"},ecPairingWord:{v:8e4,d:"Gas costs regarding curve pairing precompile input length"},revert:{v:0,d:"Base fee of the REVERT opcode"},staticcall:{v:700,d:"Base fee of the STATICCALL opcode"},returndatasize:{v:2,d:"Base fee of the RETURNDATASIZE opcode"},returndatacopy:{v:3,d:"Base fee of the RETURNDATACOPY opcode"}},Zm={},Ym={minerReward:{v:"3000000000000000000",d:"the amount a miner get rewarded for mining a block"},difficultyBombDelay:{v:3e6,d:"the amount of blocks to delay the difficulty bomb with"}},Wm={name:Gm,comment:zm,url:jm,status:Km,gasConfig:qm,gasPrices:Vm,vm:Zm,pow:Ym},Xm="constantinople",Jm="Postponed hardfork including EIP-1283 (SSTORE gas metering changes)",Qm="https://eips.ethereum.org/EIPS/eip-1013",e1="Final",t1={},r1={netSstoreNoopGas:{v:200,d:"Once per SSTORE operation if the value doesn't change"},netSstoreInitGas:{v:2e4,d:"Once per SSTORE operation from clean zero"},netSstoreCleanGas:{v:5e3,d:"Once per SSTORE operation from clean non-zero"},netSstoreDirtyGas:{v:200,d:"Once per SSTORE operation from dirty"},netSstoreClearRefund:{v:15e3,d:"Once per SSTORE operation for clearing an originally existing storage slot"},netSstoreResetRefund:{v:4800,d:"Once per SSTORE operation for resetting to the original non-zero value"},netSstoreResetClearRefund:{v:19800,d:"Once per SSTORE operation for resetting to the original zero value"},shl:{v:3,d:"Base fee of the SHL opcode"},shr:{v:3,d:"Base fee of the SHR opcode"},sar:{v:3,d:"Base fee of the SAR opcode"},extcodehash:{v:400,d:"Base fee of the EXTCODEHASH opcode"},create2:{v:32e3,d:"Base fee of the CREATE2 opcode"}},n1={},i1={minerReward:{v:"2000000000000000000",d:"The amount a miner gets rewarded for mining a block"},difficultyBombDelay:{v:5e6,d:"the amount of blocks to delay the difficulty bomb with"}},a1={name:Xm,comment:Jm,url:Qm,status:e1,gasConfig:t1,gasPrices:r1,vm:n1,pow:i1},o1="petersburg",s1="Aka constantinopleFix, removes EIP-1283, activate together with or after constantinople",f1="https://eips.ethereum.org/EIPS/eip-1716",c1="Final",u1={},h1={netSstoreNoopGas:{v:null,d:"Removed along EIP-1283"},netSstoreInitGas:{v:null,d:"Removed along EIP-1283"},netSstoreCleanGas:{v:null,d:"Removed along EIP-1283"},netSstoreDirtyGas:{v:null,d:"Removed along EIP-1283"},netSstoreClearRefund:{v:null,d:"Removed along EIP-1283"},netSstoreResetRefund:{v:null,d:"Removed along EIP-1283"},netSstoreResetClearRefund:{v:null,d:"Removed along EIP-1283"}},d1={},l1={},m1={name:o1,comment:s1,url:f1,status:c1,gasConfig:u1,gasPrices:h1,vm:d1,pow:l1},g1="istanbul",p1="HF targeted for December 2019 following the Constantinople/Petersburg HF",v1="https://eips.ethereum.org/EIPS/eip-1679",b1="Final",y1={},w1={blake2Round:{v:1,d:"Gas cost per round for the Blake2 F precompile"},ecAdd:{v:150,d:"Gas costs for curve addition precompile"},ecMul:{v:6e3,d:"Gas costs for curve multiplication precompile"},ecPairing:{v:45e3,d:"Base gas costs for curve pairing precompile"},ecPairingWord:{v:34e3,d:"Gas costs regarding curve pairing precompile input length"},txDataNonZero:{v:16,d:"Per byte of data attached to a transaction that is not equal to zero. NOTE: Not payable on data of calls between transactions"},sstoreSentryGasEIP2200:{v:2300,d:"Minimum gas required to be present for an SSTORE call, not consumed"},sstoreNoopGasEIP2200:{v:800,d:"Once per SSTORE operation if the value doesn't change"},sstoreDirtyGasEIP2200:{v:800,d:"Once per SSTORE operation if a dirty value is changed"},sstoreInitGasEIP2200:{v:2e4,d:"Once per SSTORE operation from clean zero to non-zero"},sstoreInitRefundEIP2200:{v:19200,d:"Once per SSTORE operation for resetting to the original zero value"},sstoreCleanGasEIP2200:{v:5e3,d:"Once per SSTORE operation from clean non-zero to something else"},sstoreCleanRefundEIP2200:{v:4200,d:"Once per SSTORE operation for resetting to the original non-zero value"},sstoreClearRefundEIP2200:{v:15e3,d:"Once per SSTORE operation for clearing an originally existing storage slot"},balance:{v:700,d:"Base fee of the BALANCE opcode"},extcodehash:{v:700,d:"Base fee of the EXTCODEHASH opcode"},chainid:{v:2,d:"Base fee of the CHAINID opcode"},selfbalance:{v:5,d:"Base fee of the SELFBALANCE opcode"},sload:{v:800,d:"Base fee of the SLOAD opcode"}},x1={},E1={},_1={name:g1,comment:p1,url:v1,status:b1,gasConfig:y1,gasPrices:w1,vm:x1,pow:E1},P1="muirGlacier",D1="HF to delay the difficulty bomb",S1="https://eips.ethereum.org/EIPS/eip-2384",A1="Final",T1={},M1={},I1={},$1={difficultyBombDelay:{v:9e6,d:"the amount of blocks to delay the difficulty bomb with"}},C1={name:P1,comment:D1,url:S1,status:A1,gasConfig:T1,gasPrices:M1,vm:I1,pow:$1},F1="berlin",B1="HF targeted for July 2020 following the Muir Glacier HF",O1="https://eips.ethereum.org/EIPS/eip-2070",k1="Final",L1=[2565,2929,2718,2930],H1={name:F1,comment:B1,url:O1,status:k1,eips:L1},N1="london",R1="HF targeted for July 2021 following the Berlin fork",U1="https://github.com/ethereum/eth1.0-specs/blob/master/network-upgrades/mainnet-upgrades/london.md",G1="Final",z1=[1559,3198,3529,3541],j1={name:N1,comment:R1,url:U1,status:G1,eips:z1},K1="shanghai",q1="Next feature hardfork after the merge hardfork having withdrawals, warm coinbase, push0, limit/meter initcode",V1="https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/shanghai.md",Z1="Final",Y1=[3651,3855,3860,4895],W1={name:K1,comment:q1,url:V1,status:Z1,eips:Y1},X1="arrowGlacier",J1="HF to delay the difficulty bomb",Q1="https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/arrow-glacier.md",eg="Final",tg=[4345],rg={},ng={},ig={},ag={},og={name:X1,comment:J1,url:Q1,status:eg,eips:tg,gasConfig:rg,gasPrices:ng,vm:ig,pow:ag},sg="grayGlacier",fg="Delaying the difficulty bomb to Mid September 2022",cg="https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/gray-glacier.md",ug="Draft",hg=[5133],dg={},lg={},mg={},gg={},pg={name:sg,comment:fg,url:cg,status:ug,eips:hg,gasConfig:dg,gasPrices:lg,vm:mg,pow:gg},vg="mergeForkIdTransition",bg="Pre-merge hardfork to fork off non-upgraded clients",yg="https://eips.ethereum.org/EIPS/eip-3675",wg="Draft",xg=[],Eg={name:vg,comment:bg,url:yg,status:wg,eips:xg},_g="merge",Pg="Hardfork to upgrade the consensus mechanism to Proof-of-Stake",Dg="https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/merge.md",Sg="Final",Ag={type:"pos",algorithm:"casper",casper:{}},Tg=[3675,4399],Mg={name:_g,comment:Pg,url:Dg,status:Sg,consensus:Ag,eips:Tg},Ig="shardingFork",$g="Internal hardfork to test proto-danksharding (do not use in production)",Cg="https://eips.ethereum.org/EIPS/eip-4844",Fg="Experimental",Bg=[4844],Og={name:Ig,comment:$g,url:Cg,status:Fg,eips:Bg};Object.defineProperty(qn,"__esModule",{value:!0});qn.hardforks=void 0;qn.hardforks={chainstart:am,homestead:mm,dao:_m,tangerineWhistle:Cm,spuriousDragon:Um,byzantium:Wm,constantinople:a1,petersburg:m1,istanbul:_1,muirGlacier:C1,berlin:H1,london:j1,shanghai:W1,arrowGlacier:og,grayGlacier:pg,mergeForkIdTransition:Eg,merge:Mg,shardingFork:Og};var gn={};Object.defineProperty(gn,"__esModule",{value:!0});gn.parseGethGenesis=void 0;const Fn=ct,qt=Kn;function kg(r){return!r||r==="0x0"?"0x0000000000000000":(0,Fn.isHexPrefixed)(r)?"0x"+(0,Fn.stripHexPrefix)(r).padStart(16,"0"):"0x"+r.padStart(16,"0")}function Lg(r,e=!0){const{name:t,config:n,difficulty:o,mixHash:a,gasLimit:g,coinbase:d,baseFeePerGas:b}=r;let{extraData:T,timestamp:A,nonce:H}=r;const O=Number(A),{chainId:U}=n;if(T===""&&(T="0x"),(0,Fn.isHexPrefixed)(A)||(A=(0,Fn.intToHex)(parseInt(A))),H.length!==18&&(H=kg(H)),n.eip155Block!==n.eip158Block)throw new Error("EIP155 block number must equal EIP 158 block number since both are part of SpuriousDragon hardfork and the client only supports activating the full hardfork");const j={name:t,chainId:U,networkId:U,genesis:{timestamp:A,gasLimit:parseInt(g),difficulty:parseInt(o),nonce:H,extraData:T,mixHash:a,coinbase:d,baseFeePerGas:b},hardfork:void 0,hardforks:[],bootstrapNodes:[],consensus:n.clique!==void 0?{type:"poa",algorithm:"clique",clique:{period:n.clique.period??n.clique.blockperiodseconds,epoch:n.clique.epoch??n.clique.epochlength}}:{type:"pow",algorithm:"ethash",ethash:{}}},Q={[qt.Hardfork.Homestead]:{name:"homesteadBlock"},[qt.Hardfork.Dao]:{name:"daoForkBlock"},[qt.Hardfork.TangerineWhistle]:{name:"eip150Block"},[qt.Hardfork.SpuriousDragon]:{name:"eip155Block"},[qt.Hardfork.Byzantium]:{name:"byzantiumBlock"},[qt.Hardfork.Constantinople]:{name:"constantinopleBlock"},[qt.Hardfork.Petersburg]:{name:"petersburgBlock"},[qt.Hardfork.Istanbul]:{name:"istanbulBlock"},[qt.Hardfork.MuirGlacier]:{name:"muirGlacierBlock"},[qt.Hardfork.Berlin]:{name:"berlinBlock"},[qt.Hardfork.London]:{name:"londonBlock"},[qt.Hardfork.MergeForkIdTransition]:{name:"mergeForkBlock",postMerge:e},[qt.Hardfork.Shanghai]:{name:"shanghaiTime",postMerge:!0,isTimestamp:!0},[qt.Hardfork.ShardingForkDev]:{name:"shardingForkTime",postMerge:!0,isTimestamp:!0}},V=Object.keys(Q).reduce((N,$)=>(N[Q[$].name]=$,N),{}),ne=Object.keys(n).filter(N=>V[N]!==void 0&&n[N]!==void 0&&n[N]!==null);if(j.hardforks=ne.map(N=>({name:V[N],block:Q[V[N]].isTimestamp===!0||typeof n[N]!="number"?null:n[N],timestamp:Q[V[N]].isTimestamp===!0&&typeof n[N]=="number"?n[N]:void 0})).filter(N=>N.block!==null||N.timestamp!==void 0),j.hardforks.sort(function(N,$){return(N.block??1/0)-($.block??1/0)}),j.hardforks.sort(function(N,$){return(N.timestamp??O)-($.timestamp??O)}),n.terminalTotalDifficulty!==void 0){const N={name:qt.Hardfork.Merge,ttd:n.terminalTotalDifficulty,block:null},$=j.hardforks.findIndex(M=>Q[M.name]?.postMerge===!0);$!==-1?j.hardforks.splice($,0,N):j.hardforks.push(N)}const L=j.hardforks.length>0?j.hardforks.slice(-1)[0]:void 0;return j.hardfork=L?.name,j.hardforks.unshift({name:qt.Hardfork.Chainstart,block:0}),j}function Hg(r,e,t){try{if(["config","difficulty","gasLimit","alloc"].some(n=>!(n in r)))throw new Error("Invalid format, expected geth genesis fields missing");return e!==void 0&&(r.name=e),Lg(r,t)}catch(n){throw new Error(`Error parsing parameters file: ${n.message}`)}}gn.parseGethGenesis=Hg;Object.defineProperty(zn,"__esModule",{value:!0});zn.Common=void 0;const Xt=ct,Ng=ro,Rg=Go,Ug=Rf,Gg=Jf,zg=uc,jg=Ec,Kg=Bc,Rr=jn,Ft=Kn,qg=qn,Vg=gn;class Jt extends Rg.EventEmitter{constructor(e){super(),this._eips=[],this._customChains=e.customChains??[],this._chainParams=this.setChain(e.chain),this.DEFAULT_HARDFORK=this._chainParams.defaultHardfork??Ft.Hardfork.Merge,this.HARDFORK_CHANGES=this.hardforks().map(t=>[t.name,qg.hardforks[t.name]]),this._hardfork=this.DEFAULT_HARDFORK,e.hardfork!==void 0&&this.setHardfork(e.hardfork),e.eips&&this.setEIPs(e.eips)}static custom(e,t={}){const n=t.baseChain??"mainnet",o={...Jt._getChainParams(n)};if(o.name="custom-chain",typeof e!="string")return new Jt({chain:{...o,...e},...t});if(e===Ft.CustomChain.PolygonMainnet)return Jt.custom({name:Ft.CustomChain.PolygonMainnet,chainId:137,networkId:137},t);if(e===Ft.CustomChain.PolygonMumbai)return Jt.custom({name:Ft.CustomChain.PolygonMumbai,chainId:80001,networkId:80001},t);if(e===Ft.CustomChain.ArbitrumRinkebyTestnet)return Jt.custom({name:Ft.CustomChain.ArbitrumRinkebyTestnet,chainId:421611,networkId:421611},t);if(e===Ft.CustomChain.ArbitrumOne)return Jt.custom({name:Ft.CustomChain.ArbitrumOne,chainId:42161,networkId:42161},t);if(e===Ft.CustomChain.xDaiChain)return Jt.custom({name:Ft.CustomChain.xDaiChain,chainId:100,networkId:100},t);if(e===Ft.CustomChain.OptimisticKovan)return Jt.custom({name:Ft.CustomChain.OptimisticKovan,chainId:69,networkId:69},{hardfork:Ft.Hardfork.Berlin,...t});if(e===Ft.CustomChain.OptimisticEthereum)return Jt.custom({name:Ft.CustomChain.OptimisticEthereum,chainId:10,networkId:10},{hardfork:Ft.Hardfork.Berlin,...t});throw new Error(`Custom chain ${e} not supported`)}static fromGethGenesis(e,{chain:t,eips:n,genesisHash:o,hardfork:a,mergeForkIdPostMerge:g}){const d=(0,Vg.parseGethGenesis)(e,t,g),b=new Jt({chain:d.name??"custom",customChains:[d],eips:n,hardfork:a??d.hardfork});return o!==void 0&&b.setForkHashes(o),b}static isSupportedChainId(e){return!!this._getInitializedChains().names[e.toString()]}static _getChainParams(e,t){const n=this._getInitializedChains(t);if(typeof e=="number"||typeof e=="bigint"){if(e=e.toString(),n.names[e]){const o=n.names[e];return n[o]}throw new Error(`Chain with ID ${e} not supported`)}if(n[e]!==void 0)return n[e];throw new Error(`Chain with name ${e} not supported`)}setChain(e){if(typeof e=="number"||typeof e=="bigint"||typeof e=="string")this._chainParams=Jt._getChainParams(e,this._customChains);else if(typeof e=="object"){if(this._customChains.length>0)throw new Error("Chain must be a string, number, or bigint when initialized with customChains passed in");const t=["networkId","genesis","hardforks","bootstrapNodes"];for(const n of t)if(!(n in e))throw new Error(`Missing required chain parameter: ${n}`);this._chainParams=e}else throw new Error("Wrong input format");for(const t of this.hardforks())if(t.block===void 0)throw new Error("Hardfork cannot have undefined block number");return this._chainParams}setHardfork(e){let t=!1;for(const n of this.HARDFORK_CHANGES)n[0]===e&&(this._hardfork!==e&&(this._hardfork=e,this.emit("hardforkChanged",e)),t=!0);if(!t)throw new Error(`Hardfork with name ${e} not supported`)}getHardforkByBlockNumber(e,t,n){e=(0,Xt.toType)(e,Xt.TypeOutput.BigInt),t=(0,Xt.toType)(t,Xt.TypeOutput.BigInt),n=(0,Xt.toType)(n,Xt.TypeOutput.Number);const o=this.hardforks().filter(A=>A.block!==null||A.ttd!==null&&A.ttd!==void 0||A.timestamp!==void 0),a=o.findIndex(A=>A.ttd!==null&&A.ttd!==void 0);if(o.slice(a+1).findIndex(A=>A.ttd!==null&&A.ttd!==void 0)>=0)throw Error("More than one merge hardforks found with ttd specified");let d=o.findIndex(A=>A.block!==null&&A.block>e||n!==void 0&&Number(A.timestamp)>n);if(d===-1)d=o.length;else if(d===0)throw Error("Must have at least one hardfork at block 0");if(n===void 0){const A=o.slice(0,d).reverse().findIndex(H=>H.block!==null||H.ttd!==void 0);d=d-A}if(d=d-1,o[d].block===null&&o[d].timestamp===void 0)(t==null||BigInt(o[d].ttd)>t)&&(d-=1);else if(a>=0&&t!==void 0&&t!==null){if(d>=a&&BigInt(o[a].ttd)>t)throw Error("Maximum HF determined by total difficulty is lower than the block number HF");if(d<a&&BigInt(o[a].ttd)<=t)throw Error("HF determined by block number is lower than the minimum total difficulty HF")}const b=d;for(;d<o.length-1&&!(o[d].block!==o[d+1].block||o[d].timestamp!==o[d+1].timestamp);d++);if(n){if(o.slice(0,b).reduce((O,U)=>Math.max(Number(U.timestamp??"0"),O),0)>n)throw Error("Maximum HF determined by timestamp is lower than the block number/ttd HF");if(o.slice(d+1).reduce((O,U)=>Math.min(Number(U.timestamp??n),O),n)<n)throw Error("Maximum HF determined by block number/ttd is lower than timestamp HF")}return o[d].name}setHardforkByBlockNumber(e,t,n){const o=this.getHardforkByBlockNumber(e,t,n);return this.setHardfork(o),o}_getHardfork(e){const t=this.hardforks();for(const n of t)if(n.name===e)return n;return null}setEIPs(e=[]){for(const t of e){if(!(t in Rr.EIPs))throw new Error(`${t} not supported`);const n=this.gteHardfork(Rr.EIPs[t].minimumHardfork);if(!n)throw new Error(`${t} cannot be activated on hardfork ${this.hardfork()}, minimumHardfork: ${n}`);if(Rr.EIPs[t].requiredEIPs!==void 0){for(const o of Rr.EIPs[t].requiredEIPs)if(!(e.includes(o)||this.isActivatedEIP(o)))throw new Error(`${t} requires EIP ${o}, but is not included in the EIP list`)}}this._eips=e}param(e,t){let n;for(const o of this._eips)if(n=this.paramByEIP(e,t,o),n!==void 0)return n;return this.paramByHardfork(e,t,this._hardfork)}paramByHardfork(e,t,n){let o=null;for(const a of this.HARDFORK_CHANGES){if("eips"in a[1]){const g=a[1].eips;for(const d of g){const b=this.paramByEIP(e,t,d);o=typeof b=="bigint"?b:o}}else{if(a[1][e]===void 0)throw new Error(`Topic ${e} not defined`);a[1][e][t]!==void 0&&(o=a[1][e][t].v)}if(a[0]===n)break}return BigInt(o??0)}paramByEIP(e,t,n){if(!(n in Rr.EIPs))throw new Error(`${n} not supported`);const o=Rr.EIPs[n];if(!(e in o))throw new Error(`Topic ${e} not defined`);if(o[e][t]===void 0)return;const a=o[e][t].v;return BigInt(a)}paramByBlock(e,t,n,o,a){const g=this.getHardforkByBlockNumber(n,o,a);return this.paramByHardfork(e,t,g)}isActivatedEIP(e){if(this.eips().includes(e))return!0;for(const t of this.HARDFORK_CHANGES){const n=t[1];if(this.gteHardfork(n.name)&&"eips"in n&&n.eips.includes(e))return!0}return!1}hardforkIsActiveOnBlock(e,t){t=(0,Xt.toType)(t,Xt.TypeOutput.BigInt),e=e??this._hardfork;const n=this.hardforkBlock(e);return typeof n=="bigint"&&n!==BigInt(0)&&t>=n}activeOnBlock(e){return this.hardforkIsActiveOnBlock(null,e)}hardforkGteHardfork(e,t){e=e??this._hardfork;const n=this.hardforks();let o=-1,a=-1,g=0;for(const d of n)d.name===e&&(o=g),d.name===t&&(a=g),g+=1;return o>=a&&a!==-1}gteHardfork(e){return this.hardforkGteHardfork(null,e)}hardforkBlock(e){e=e??this._hardfork;const t=this._getHardfork(e)?.block;return t==null?null:BigInt(t)}hardforkTimestamp(e){e=e??this._hardfork;const t=this._getHardfork(e)?.timestamp;return t==null?null:BigInt(t)}eipBlock(e){for(const t of this.HARDFORK_CHANGES){const n=t[1];if("eips"in n&&n.eips.includes(e))return this.hardforkBlock(t[0])}return null}hardforkTTD(e){e=e??this._hardfork;const t=this._getHardfork(e)?.ttd;return t==null?null:BigInt(t)}isHardforkBlock(e,t){e=(0,Xt.toType)(e,Xt.TypeOutput.BigInt),t=t??this._hardfork;const n=this.hardforkBlock(t);return typeof n=="bigint"&&n!==BigInt(0)?n===e:!1}nextHardforkBlockOrTimestamp(e){e=e??this._hardfork;const t=this.hardforks();let n=t.findIndex(d=>d.name===e);if(e===Ft.Hardfork.Merge&&(n-=1),n<0)return null;let o=t[n].timestamp??t[n].block;o=o!=null?Number(o):null;const a=t.slice(n+1).find(d=>{let b=d.timestamp??d.block;return b=b!=null?Number(b):null,d.name!==Ft.Hardfork.Merge&&b!==null&&b!==void 0&&b!==o});if(a===void 0)return null;const g=a.timestamp??a.block;return g==null?null:BigInt(g)}nextHardforkBlock(e){e=e??this._hardfork;let t=this.hardforkBlock(e);if(t===null&&e===Ft.Hardfork.Merge){const o=this.hardforks(),a=o.findIndex(g=>g.ttd!==null&&g.ttd!==void 0);if(a<0)throw Error("Merge hardfork should have been found");t=this.hardforkBlock(o[a-1].name)}return t===null?null:this.hardforks().reduce((o,a)=>{const g=BigInt(a.block===null||a.ttd!==void 0&&a.ttd!==null?0:a.block);return g>t&&o===null?g:o},null)}isNextHardforkBlock(e,t){e=(0,Xt.toType)(e,Xt.TypeOutput.BigInt),t=t??this._hardfork;const n=this.nextHardforkBlock(t);return n===null?!1:n===e}_calcForkHash(e,t){let n=te.alloc(0),o=0;for(const d of this.hardforks()){const{block:b,timestamp:T,name:A}=d;let H=T??b;if(H=H!==null?Number(H):null,typeof H=="number"&&H!==0&&H!==o&&A!==Ft.Hardfork.Merge){const O=te.from(H.toString(16).padStart(16,"0"),"hex");n=te.concat([n,O]),o=H}if(d.name===e)break}const a=te.concat([t,n]);return`0x${(0,Xt.intToBuffer)((0,Ng.buf)(a)>>>0).toString("hex")}`}forkHash(e,t){e=e??this._hardfork;const n=this._getHardfork(e);if(n===null||n?.block===null&&n?.timestamp===void 0&&n?.ttd===void 0){const o="No fork hash calculation possible for future hardfork";throw new Error(o)}if(n?.forkHash!==null&&n?.forkHash!==void 0)return n.forkHash;if(!t)throw new Error("genesisHash required for forkHash calculation");return this._calcForkHash(e,t)}hardforkForForkHash(e){const t=this.hardforks().filter(n=>n.forkHash===e);return t.length>=1?t[t.length-1]:null}setForkHashes(e){for(const t of this.hardforks()){const n=t.timestamp??t.block;(t.forkHash===null||t.forkHash===void 0)&&(n!=null||typeof t.ttd<"u")&&(t.forkHash=this.forkHash(t.name,e))}}genesis(){return this._chainParams.genesis}hardforks(){return this._chainParams.hardforks}bootstrapNodes(){return this._chainParams.bootstrapNodes}dnsNetworks(){return this._chainParams.dnsNetworks}hardfork(){return this._hardfork}chainId(){return BigInt(this._chainParams.chainId)}chainName(){return this._chainParams.name}networkId(){return BigInt(this._chainParams.networkId)}eips(){return this._eips}consensusType(){const e=this.hardfork();let t;for(const n of this.HARDFORK_CHANGES)if("consensus"in n[1]&&(t=n[1].consensus.type),n[0]===e)break;return t??this._chainParams.consensus.type}consensusAlgorithm(){const e=this.hardfork();let t;for(const n of this.HARDFORK_CHANGES)if("consensus"in n[1]&&(t=n[1].consensus.algorithm),n[0]===e)break;return t??this._chainParams.consensus.algorithm}consensusConfig(){const e=this.hardfork();let t;for(const n of this.HARDFORK_CHANGES)if("consensus"in n[1]&&(t=n[1].consensus[n[1].consensus.algorithm]),n[0]===e)break;return t??this._chainParams.consensus[this.consensusAlgorithm()]??{}}copy(){const e=Object.assign(Object.create(Object.getPrototypeOf(this)),this);return e.removeAllListeners(),e}static _getInitializedChains(e){const t={};for(const[o,a]of Object.entries(Ft.Chain))t[a]=o.toLowerCase();const n={mainnet:Gg,ropsten:jg,rinkeby:zg,goerli:Ug,sepolia:Kg};if(e)for(const o of e){const{name:a}=o;t[o.chainId.toString()]=a,n[a]=o}return n.names=t,n}}zn.Common=Jt;var no={};Object.defineProperty(no,"__esModule",{value:!0});(function(r){var e=Bt&&Bt.__createBinding||(Object.create?function(n,o,a,g){g===void 0&&(g=a);var d=Object.getOwnPropertyDescriptor(o,a);(!d||("get"in d?!o.__esModule:d.writable||d.configurable))&&(d={enumerable:!0,get:function(){return o[a]}}),Object.defineProperty(n,g,d)}:function(n,o,a,g){g===void 0&&(g=a),n[g]=o[a]}),t=Bt&&Bt.__exportStar||function(n,o){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(o,a)&&e(o,n,a)};Object.defineProperty(r,"__esModule",{value:!0}),t(zn,r),t(Kn,r),t(no,r),t(gn,r)})(fn);var en={},Rt={};Object.defineProperty(Rt,"__esModule",{value:!0});Rt.BYTES_PER_FIELD_ELEMENT=Rt.FIELD_ELEMENTS_PER_BLOB=Rt.MAX_TX_WRAP_KZG_COMMITMENTS=Rt.LIMIT_BLOBS_PER_TX=Rt.MAX_VERSIONED_HASHES_LIST_SIZE=Rt.MAX_ACCESS_LIST_SIZE=Rt.MAX_CALLDATA_SIZE=void 0;Rt.MAX_CALLDATA_SIZE=16777216;Rt.MAX_ACCESS_LIST_SIZE=16777216;Rt.MAX_VERSIONED_HASHES_LIST_SIZE=16777216;Rt.LIMIT_BLOBS_PER_TX=16777216;Rt.MAX_TX_WRAP_KZG_COMMITMENTS=16777216;Rt.FIELD_ELEMENTS_PER_BLOB=4096;Rt.BYTES_PER_FIELD_ELEMENT=32;(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.BlobNetworkTransactionWrapper=r.KZGProofType=r.KZGCommitmentType=r.SignedBlobTransactionType=r.ECDSASignatureType=r.BlobTransactionType=r.AccessTupleType=r.AddressType=r.isAccessList=r.isAccessListBuffer=r.Capability=void 0;const e=La,t=Rt,n=new e.ByteVectorType(20),o=new e.ByteVectorType(32),a=new e.ByteVectorType(48),g=new e.UintBigintType(8),d=new e.UintBigintType(32);(function(A){A[A.EIP155ReplayProtection=155]="EIP155ReplayProtection",A[A.EIP1559FeeMarket=1559]="EIP1559FeeMarket",A[A.EIP2718TypedTransaction=2718]="EIP2718TypedTransaction",A[A.EIP2930AccessLists=2930]="EIP2930AccessLists"})(r.Capability||(r.Capability={}));function b(A){if(A.length===0)return!0;const H=A[0];return!!Array.isArray(H)}r.isAccessListBuffer=b;function T(A){return!b(A)}r.isAccessList=T,r.AddressType=n,r.AccessTupleType=new e.ContainerType({address:r.AddressType,storageKeys:new e.ListCompositeType(o,t.MAX_VERSIONED_HASHES_LIST_SIZE)}),r.BlobTransactionType=new e.ContainerType({chainId:d,nonce:g,maxPriorityFeePerGas:d,maxFeePerGas:d,gas:g,to:new e.UnionType([new e.NoneType,r.AddressType]),value:d,data:new e.ByteListType(t.MAX_CALLDATA_SIZE),accessList:new e.ListCompositeType(r.AccessTupleType,t.MAX_ACCESS_LIST_SIZE),maxFeePerDataGas:d,blobVersionedHashes:new e.ListCompositeType(o,t.MAX_VERSIONED_HASHES_LIST_SIZE)}),r.ECDSASignatureType=new e.ContainerType({yParity:new e.BooleanType,r:d,s:d}),r.SignedBlobTransactionType=new e.ContainerType({message:r.BlobTransactionType,signature:r.ECDSASignatureType}),r.KZGCommitmentType=a,r.KZGProofType=r.KZGCommitmentType,r.BlobNetworkTransactionWrapper=new e.ContainerType({tx:r.SignedBlobTransactionType,blobKzgs:new e.ListCompositeType(r.KZGCommitmentType,t.MAX_TX_WRAP_KZG_COMMITMENTS),blobs:new e.ListCompositeType(new e.ByteVectorType(t.FIELD_ELEMENTS_PER_BLOB*t.BYTES_PER_FIELD_ELEMENT),t.LIMIT_BLOBS_PER_TX),kzgAggregatedProof:r.KZGProofType})})(en);var fr={};Object.defineProperty(fr,"__esModule",{value:!0});fr.blobTxToNetworkWrapperDataFormat=fr.AccessLists=fr.checkMaxInitCodeSize=void 0;const Ur=ct,Zg=en;function Yg(r,e){const t=r.param("vm","maxInitCodeSize");if(t&&BigInt(e)>t)throw new Error(`the initcode size of this transaction is too large: it is ${e} while the max is ${r.param("vm","maxInitCodeSize")}`)}fr.checkMaxInitCodeSize=Yg;class Wg{static getAccessListData(e){let t,n;if((0,Zg.isAccessList)(e)){t=e;const o=[];for(let a=0;a<e.length;a++){const g=e[a],d=(0,Ur.toBuffer)(g.address),b=[];for(let T=0;T<g.storageKeys.length;T++)b.push((0,Ur.toBuffer)(g.storageKeys[T]));o.push([d,b])}n=o}else{n=e??[];const o=[];for(let a=0;a<n.length;a++){const g=n[a],d=(0,Ur.bufferToHex)(g[0]),b=[];for(let A=0;A<g[1].length;A++)b.push((0,Ur.bufferToHex)(g[1][A]));const T={address:d,storageKeys:b};o.push(T)}t=o}return{AccessListJSON:t,accessList:n}}static verifyAccessList(e){for(let t=0;t<e.length;t++){const n=e[t],o=n[0],a=n[1];if(n[2]!==void 0)throw new Error("Access list item cannot have 3 elements. It can only have an address, and an array of storage slots.");if(o.length!==20)throw new Error("Invalid EIP-2930 transaction: address length should be 20 bytes");for(let g=0;g<a.length;g++)if(a[g].length!==32)throw new Error("Invalid EIP-2930 transaction: storage slot length should be 32 bytes")}}static getAccessListJSON(e){const t=[];for(let n=0;n<e.length;n++){const o=e[n],a={address:"0x"+(0,Ur.setLengthLeft)(o[0],20).toString("hex"),storageKeys:[]},g=o[1];for(let d=0;d<g.length;d++){const b=g[d];a.storageKeys.push("0x"+(0,Ur.setLengthLeft)(b,32).toString("hex"))}t.push(a)}return t}static getDataFeeEIP2930(e,t){const n=t.param("gasPrices","accessListStorageKeyCost"),o=t.param("gasPrices","accessListAddressCost");let a=0;for(let d=0;d<e.length;d++){const T=e[d][1];a+=T.length}return e.length*Number(o)+a*Number(n)}}fr.AccessLists=Wg;const Xg=r=>{const e={selector:r.to!==void 0?1:0,value:r.to?.toBuffer()??null};return{message:{chainId:r.common.chainId(),nonce:r.nonce,maxPriorityFeePerGas:r.maxPriorityFeePerGas,maxFeePerGas:r.maxFeePerGas,gas:r.gasLimit,to:e,value:r.value,data:r.data,accessList:r.accessList.map(t=>({address:t[0],storageKeys:t[1]})),blobVersionedHashes:r.versionedHashes,maxFeePerDataGas:r.maxFeePerDataGas},signature:{r:r.r??BigInt(0),s:r.s??BigInt(0),yParity:r.v===BigInt(1)}}};fr.blobTxToNetworkWrapperDataFormat=Xg;Object.defineProperty(kr,"__esModule",{value:!0});kr.BaseTransaction=void 0;const Gr=fn,ft=ct,ii=en,Jg=fr;class Qg{constructor(e,t){this.cache={hash:void 0,dataFee:void 0},this.activeCapabilities=[],this.DEFAULT_CHAIN=Gr.Chain.Mainnet,this.DEFAULT_HARDFORK=Gr.Hardfork.Merge;const{nonce:n,gasLimit:o,to:a,value:g,data:d,v:b,r:T,s:A,type:H}=e;this._type=Number((0,ft.bufferToBigInt)((0,ft.toBuffer)(H))),this.txOptions=t;const O=(0,ft.toBuffer)(a===""?"0x":a),U=(0,ft.toBuffer)(b===""?"0x":b),j=(0,ft.toBuffer)(T===""?"0x":T),Q=(0,ft.toBuffer)(A===""?"0x":A);this.nonce=(0,ft.bufferToBigInt)((0,ft.toBuffer)(n===""?"0x":n)),this.gasLimit=(0,ft.bufferToBigInt)((0,ft.toBuffer)(o===""?"0x":o)),this.to=O.length>0?new ft.Address(O):void 0,this.value=(0,ft.bufferToBigInt)((0,ft.toBuffer)(g===""?"0x":g)),this.data=(0,ft.toBuffer)(d===""?"0x":d),this.v=U.length>0?(0,ft.bufferToBigInt)(U):void 0,this.r=j.length>0?(0,ft.bufferToBigInt)(j):void 0,this.s=Q.length>0?(0,ft.bufferToBigInt)(Q):void 0,this._validateCannotExceedMaxInteger({value:this.value,r:this.r,s:this.s}),this._validateCannotExceedMaxInteger({gasLimit:this.gasLimit},64),this._validateCannotExceedMaxInteger({nonce:this.nonce},64,!0);const V=this.to===void 0||this.to===null,ne=t.allowUnlimitedInitCodeSize??!1,L=t.common??this._getCommon();V&&L.isActivatedEIP(3860)&&ne===!1&&(0,Jg.checkMaxInitCodeSize)(L,this.data.length)}get type(){return this._type}supports(e){return this.activeCapabilities.includes(e)}validate(e=!1){const t=[];return this.getBaseFee()>this.gasLimit&&t.push(`gasLimit is too low. given ${this.gasLimit}, need at least ${this.getBaseFee()}`),this.isSigned()&&!this.verifySignature()&&t.push("Invalid Signature"),e?t:t.length===0}_validateYParity(){const{v:e}=this;if(e!==void 0&&e!==BigInt(0)&&e!==BigInt(1)){const t=this._errorMsg("The y-parity of the transaction should either be 0 or 1");throw new Error(t)}}_validateHighS(){const{s:e}=this;if(this.common.gteHardfork("homestead")&&e!==void 0&&e>ft.SECP256K1_ORDER_DIV_2){const t=this._errorMsg("Invalid Signature: s-values greater than secp256k1n/2 are considered invalid");throw new Error(t)}}getBaseFee(){const e=this.common.param("gasPrices","tx");let t=this.getDataFee();if(e&&(t+=e),this.common.gteHardfork("homestead")&&this.toCreationAddress()){const n=this.common.param("gasPrices","txCreation");n&&(t+=n)}return t}getDataFee(){const e=this.common.param("gasPrices","txDataZero"),t=this.common.param("gasPrices","txDataNonZero");let n=BigInt(0);for(let o=0;o<this.data.length;o++)this.data[o]===0?n+=e:n+=t;if((this.to===void 0||this.to===null)&&this.common.isActivatedEIP(3860)){const o=BigInt(Math.ceil(this.data.length/32)),a=this.common.param("gasPrices","initCodeWordCost")*o;n+=a}return n}toCreationAddress(){return this.to===void 0||this.to.buf.length===0}isSigned(){const{v:e,r:t,s:n}=this;return!(e===void 0||t===void 0||n===void 0)}verifySignature(){try{const e=this.getSenderPublicKey();return(0,ft.unpadBuffer)(e).length!==0}catch{return!1}}getSenderAddress(){return new ft.Address((0,ft.publicToAddress)(this.getSenderPublicKey()))}sign(e){if(e.length!==32){const b=this._errorMsg("Private key must be 32 bytes in length.");throw new Error(b)}let t=!1;this.type===0&&this.common.gteHardfork("spuriousDragon")&&!this.supports(ii.Capability.EIP155ReplayProtection)&&(this.activeCapabilities.push(ii.Capability.EIP155ReplayProtection),t=!0);const n=this.getMessageToSign(!0),{v:o,r:a,s:g}=(0,ft.ecsign)(n,e),d=this._processSignature(o,a,g);if(t){const b=this.activeCapabilities.indexOf(ii.Capability.EIP155ReplayProtection);b>-1&&this.activeCapabilities.splice(b,1)}return d}_getCommon(e,t){if(t!==void 0){const n=(0,ft.bufferToBigInt)((0,ft.toBuffer)(t));if(e){if(e.chainId()!==n){const o=this._errorMsg("The chain ID does not match the chain ID of Common");throw new Error(o)}return e.copy()}else return Gr.Common.isSupportedChainId(n)?new Gr.Common({chain:n,hardfork:this.DEFAULT_HARDFORK}):Gr.Common.custom({name:"custom-chain",networkId:n,chainId:n},{baseChain:this.DEFAULT_CHAIN,hardfork:this.DEFAULT_HARDFORK})}else return e?.copy()??new Gr.Common({chain:this.DEFAULT_CHAIN,hardfork:this.DEFAULT_HARDFORK})}_validateCannotExceedMaxInteger(e,t=256,n=!1){for(const[o,a]of Object.entries(e))switch(t){case 64:if(n){if(a!==void 0&&a>=ft.MAX_UINT64){const g=this._errorMsg(`${o} cannot equal or exceed MAX_UINT64 (2^64-1), given ${a}`);throw new Error(g)}}else if(a!==void 0&&a>ft.MAX_UINT64){const g=this._errorMsg(`${o} cannot exceed MAX_UINT64 (2^64-1), given ${a}`);throw new Error(g)}break;case 256:if(n){if(a!==void 0&&a>=ft.MAX_INTEGER){const g=this._errorMsg(`${o} cannot equal or exceed MAX_INTEGER (2^256-1), given ${a}`);throw new Error(g)}}else if(a!==void 0&&a>ft.MAX_INTEGER){const g=this._errorMsg(`${o} cannot exceed MAX_INTEGER (2^256-1), given ${a}`);throw new Error(g)}break;default:{const g=this._errorMsg("unimplemented bits value");throw new Error(g)}}}static _validateNotArray(e){const t=["nonce","gasPrice","gasLimit","to","value","data","v","r","s","type","baseFee","maxFeePerGas","chainId"];for(const[n,o]of Object.entries(e))if(t.includes(n)&&Array.isArray(o))throw new Error(`${n} cannot be an array`)}_getSharedErrorPostfix(){let e="";try{e=this.isSigned()?(0,ft.bufferToHex)(this.hash()):"not available (unsigned)"}catch{e="error"}let t="";try{t=this.isSigned().toString()}catch{e="error"}let n="";try{n=this.common.hardfork()}catch{n="error"}let o=`tx type=${this.type} hash=${e} nonce=${this.nonce} value=${this.value} `;return o+=`signed=${t} hf=${n}`,o}}kr.BaseTransaction=Qg;Object.defineProperty(mn,"__esModule",{value:!0});mn.FeeMarketEIP1559Transaction=void 0;const ai=Si,Xe=ct,oi=hn,na=kr,xn=fr,yi=2,si=te.from(yi.toString(16).padStart(2,"0"),"hex");class Yr extends na.BaseTransaction{constructor(e,t={}){super({...e,type:yi},t),this.DEFAULT_HARDFORK="london";const{chainId:n,accessList:o,maxFeePerGas:a,maxPriorityFeePerGas:g}=e;if(this.common=this._getCommon(t.common,n),this.chainId=this.common.chainId(),this.common.isActivatedEIP(1559)===!1)throw new Error("EIP-1559 not enabled on Common");this.activeCapabilities=this.activeCapabilities.concat([1559,2718,2930]);const d=xn.AccessLists.getAccessListData(o??[]);if(this.accessList=d.accessList,this.AccessListJSON=d.AccessListJSON,xn.AccessLists.verifyAccessList(this.accessList),this.maxFeePerGas=(0,Xe.bufferToBigInt)((0,Xe.toBuffer)(a===""?"0x":a)),this.maxPriorityFeePerGas=(0,Xe.bufferToBigInt)((0,Xe.toBuffer)(g===""?"0x":g)),this._validateCannotExceedMaxInteger({maxFeePerGas:this.maxFeePerGas,maxPriorityFeePerGas:this.maxPriorityFeePerGas}),na.BaseTransaction._validateNotArray(e),this.gasLimit*this.maxFeePerGas>Xe.MAX_INTEGER){const T=this._errorMsg("gasLimit * maxFeePerGas cannot exceed MAX_INTEGER (2^256-1)");throw new Error(T)}if(this.maxFeePerGas<this.maxPriorityFeePerGas){const T=this._errorMsg("maxFeePerGas cannot be less than maxPriorityFeePerGas (The total must be the larger of the two)");throw new Error(T)}this._validateYParity(),this._validateHighS(),(t?.freeze??!0)&&Object.freeze(this)}static fromTxData(e,t={}){return new Yr(e,t)}static fromSerializedTx(e,t={}){if(!e.slice(0,1).equals(si))throw new Error(`Invalid serialized tx input: not an EIP-1559 transaction (wrong tx type, expected: ${yi}, received: ${e.slice(0,1).toString("hex")}`);const n=(0,Xe.arrToBufArr)(ai.RLP.decode(e.slice(1)));if(!Array.isArray(n))throw new Error("Invalid serialized tx input: must be array");return Yr.fromValuesArray(n,t)}static fromValuesArray(e,t={}){if(e.length!==9&&e.length!==12)throw new Error("Invalid EIP-1559 transaction. Only expecting 9 values (for unsigned tx) or 12 values (for signed tx).");const[n,o,a,g,d,b,T,A,H,O,U,j]=e;return this._validateNotArray({chainId:n,v:O}),(0,Xe.validateNoLeadingZeroes)({nonce:o,maxPriorityFeePerGas:a,maxFeePerGas:g,gasLimit:d,value:T,v:O,r:U,s:j}),new Yr({chainId:(0,Xe.bufferToBigInt)(n),nonce:o,maxPriorityFeePerGas:a,maxFeePerGas:g,gasLimit:d,to:b,value:T,data:A,accessList:H??[],v:O!==void 0?(0,Xe.bufferToBigInt)(O):void 0,r:U,s:j},t)}getDataFee(){if(this.cache.dataFee&&this.cache.dataFee.hardfork===this.common.hardfork())return this.cache.dataFee.value;let e=super.getDataFee();return e+=BigInt(xn.AccessLists.getDataFeeEIP2930(this.accessList,this.common)),Object.isFrozen(this)&&(this.cache.dataFee={value:e,hardfork:this.common.hardfork()}),e}getUpfrontCost(e=BigInt(0)){const t=this.maxPriorityFeePerGas,n=this.maxFeePerGas-e,a=(t<n?t:n)+e;return this.gasLimit*a+this.value}raw(){return[(0,Xe.bigIntToUnpaddedBuffer)(this.chainId),(0,Xe.bigIntToUnpaddedBuffer)(this.nonce),(0,Xe.bigIntToUnpaddedBuffer)(this.maxPriorityFeePerGas),(0,Xe.bigIntToUnpaddedBuffer)(this.maxFeePerGas),(0,Xe.bigIntToUnpaddedBuffer)(this.gasLimit),this.to!==void 0?this.to.buf:te.from([]),(0,Xe.bigIntToUnpaddedBuffer)(this.value),this.data,this.accessList,this.v!==void 0?(0,Xe.bigIntToUnpaddedBuffer)(this.v):te.from([]),this.r!==void 0?(0,Xe.bigIntToUnpaddedBuffer)(this.r):te.from([]),this.s!==void 0?(0,Xe.bigIntToUnpaddedBuffer)(this.s):te.from([])]}serialize(){const e=this.raw();return te.concat([si,te.from(ai.RLP.encode((0,Xe.bufArrToArr)(e)))])}getMessageToSign(e=!0){const t=this.raw().slice(0,9),n=te.concat([si,te.from(ai.RLP.encode((0,Xe.bufArrToArr)(t)))]);return e?te.from((0,oi.keccak256)(n)):n}hash(){if(!this.isSigned()){const e=this._errorMsg("Cannot call hash method if transaction is not signed");throw new Error(e)}return Object.isFrozen(this)?(this.cache.hash||(this.cache.hash=te.from((0,oi.keccak256)(this.serialize()))),this.cache.hash):te.from((0,oi.keccak256)(this.serialize()))}getMessageToVerifySignature(){return this.getMessageToSign()}getSenderPublicKey(){if(!this.isSigned()){const a=this._errorMsg("Cannot call this method if transaction is not signed");throw new Error(a)}const e=this.getMessageToVerifySignature(),{v:t,r:n,s:o}=this;this._validateHighS();try{return(0,Xe.ecrecover)(e,t+BigInt(27),(0,Xe.bigIntToUnpaddedBuffer)(n),(0,Xe.bigIntToUnpaddedBuffer)(o))}catch{const g=this._errorMsg("Invalid Signature");throw new Error(g)}}_processSignature(e,t,n){const o={...this.txOptions,common:this.common};return Yr.fromTxData({chainId:this.chainId,nonce:this.nonce,maxPriorityFeePerGas:this.maxPriorityFeePerGas,maxFeePerGas:this.maxFeePerGas,gasLimit:this.gasLimit,to:this.to,value:this.value,data:this.data,accessList:this.accessList,v:e-BigInt(27),r:(0,Xe.bufferToBigInt)(t),s:(0,Xe.bufferToBigInt)(n)},o)}toJSON(){const e=xn.AccessLists.getAccessListJSON(this.accessList);return{chainId:(0,Xe.bigIntToHex)(this.chainId),nonce:(0,Xe.bigIntToHex)(this.nonce),maxPriorityFeePerGas:(0,Xe.bigIntToHex)(this.maxPriorityFeePerGas),maxFeePerGas:(0,Xe.bigIntToHex)(this.maxFeePerGas),gasLimit:(0,Xe.bigIntToHex)(this.gasLimit),to:this.to!==void 0?this.to.toString():void 0,value:(0,Xe.bigIntToHex)(this.value),data:"0x"+this.data.toString("hex"),accessList:e,v:this.v!==void 0?(0,Xe.bigIntToHex)(this.v):void 0,r:this.r!==void 0?(0,Xe.bigIntToHex)(this.r):void 0,s:this.s!==void 0?(0,Xe.bigIntToHex)(this.s):void 0}}errorStr(){let e=this._getSharedErrorPostfix();return e+=` maxFeePerGas=${this.maxFeePerGas} maxPriorityFeePerGas=${this.maxPriorityFeePerGas}`,e}_errorMsg(e){return`${e} (${this.errorStr()})`}}mn.FeeMarketEIP1559Transaction=Yr;var pn={};Object.defineProperty(pn,"__esModule",{value:!0});pn.AccessListEIP2930Transaction=void 0;const fi=Si,at=ct,ci=hn,ia=kr,En=fr,wi=1,ui=te.from(wi.toString(16).padStart(2,"0"),"hex");class Wr extends ia.BaseTransaction{constructor(e,t={}){super({...e,type:wi},t),this.DEFAULT_HARDFORK="berlin";const{chainId:n,accessList:o,gasPrice:a}=e;if(this.common=this._getCommon(t.common,n),this.chainId=this.common.chainId(),!this.common.isActivatedEIP(2930))throw new Error("EIP-2930 not enabled on Common");this.activeCapabilities=this.activeCapabilities.concat([2718,2930]);const g=En.AccessLists.getAccessListData(o??[]);if(this.accessList=g.accessList,this.AccessListJSON=g.AccessListJSON,En.AccessLists.verifyAccessList(this.accessList),this.gasPrice=(0,at.bufferToBigInt)((0,at.toBuffer)(a===""?"0x":a)),this._validateCannotExceedMaxInteger({gasPrice:this.gasPrice}),ia.BaseTransaction._validateNotArray(e),this.gasPrice*this.gasLimit>at.MAX_INTEGER){const b=this._errorMsg("gasLimit * gasPrice cannot exceed MAX_INTEGER");throw new Error(b)}this._validateYParity(),this._validateHighS(),(t?.freeze??!0)&&Object.freeze(this)}static fromTxData(e,t={}){return new Wr(e,t)}static fromSerializedTx(e,t={}){if(!e.slice(0,1).equals(ui))throw new Error(`Invalid serialized tx input: not an EIP-2930 transaction (wrong tx type, expected: ${wi}, received: ${e.slice(0,1).toString("hex")}`);const n=(0,at.arrToBufArr)(fi.RLP.decode(Uint8Array.from(e.slice(1))));if(!Array.isArray(n))throw new Error("Invalid serialized tx input: must be array");return Wr.fromValuesArray(n,t)}static fromValuesArray(e,t={}){if(e.length!==8&&e.length!==11)throw new Error("Invalid EIP-2930 transaction. Only expecting 8 values (for unsigned tx) or 11 values (for signed tx).");const[n,o,a,g,d,b,T,A,H,O,U]=e;this._validateNotArray({chainId:n,v:H}),(0,at.validateNoLeadingZeroes)({nonce:o,gasPrice:a,gasLimit:g,value:b,v:H,r:O,s:U});const j=[];return new Wr({chainId:(0,at.bufferToBigInt)(n),nonce:o,gasPrice:a,gasLimit:g,to:d,value:b,data:T,accessList:A??j,v:H!==void 0?(0,at.bufferToBigInt)(H):void 0,r:O,s:U},t)}getDataFee(){if(this.cache.dataFee&&this.cache.dataFee.hardfork===this.common.hardfork())return this.cache.dataFee.value;let e=super.getDataFee();return e+=BigInt(En.AccessLists.getDataFeeEIP2930(this.accessList,this.common)),Object.isFrozen(this)&&(this.cache.dataFee={value:e,hardfork:this.common.hardfork()}),e}getUpfrontCost(){return this.gasLimit*this.gasPrice+this.value}raw(){return[(0,at.bigIntToUnpaddedBuffer)(this.chainId),(0,at.bigIntToUnpaddedBuffer)(this.nonce),(0,at.bigIntToUnpaddedBuffer)(this.gasPrice),(0,at.bigIntToUnpaddedBuffer)(this.gasLimit),this.to!==void 0?this.to.buf:te.from([]),(0,at.bigIntToUnpaddedBuffer)(this.value),this.data,this.accessList,this.v!==void 0?(0,at.bigIntToUnpaddedBuffer)(this.v):te.from([]),this.r!==void 0?(0,at.bigIntToUnpaddedBuffer)(this.r):te.from([]),this.s!==void 0?(0,at.bigIntToUnpaddedBuffer)(this.s):te.from([])]}serialize(){const e=this.raw();return te.concat([ui,te.from(fi.RLP.encode((0,at.bufArrToArr)(e)))])}getMessageToSign(e=!0){const t=this.raw().slice(0,8),n=te.concat([ui,te.from(fi.RLP.encode((0,at.bufArrToArr)(t)))]);return e?te.from((0,ci.keccak256)(n)):n}hash(){if(!this.isSigned()){const e=this._errorMsg("Cannot call hash method if transaction is not signed");throw new Error(e)}return Object.isFrozen(this)?(this.cache.hash||(this.cache.hash=te.from((0,ci.keccak256)(this.serialize()))),this.cache.hash):te.from((0,ci.keccak256)(this.serialize()))}getMessageToVerifySignature(){return this.getMessageToSign()}getSenderPublicKey(){if(!this.isSigned()){const a=this._errorMsg("Cannot call this method if transaction is not signed");throw new Error(a)}const e=this.getMessageToVerifySignature(),{v:t,r:n,s:o}=this;this._validateHighS();try{return(0,at.ecrecover)(e,t+BigInt(27),(0,at.bigIntToUnpaddedBuffer)(n),(0,at.bigIntToUnpaddedBuffer)(o))}catch{const g=this._errorMsg("Invalid Signature");throw new Error(g)}}_processSignature(e,t,n){const o={...this.txOptions,common:this.common};return Wr.fromTxData({chainId:this.chainId,nonce:this.nonce,gasPrice:this.gasPrice,gasLimit:this.gasLimit,to:this.to,value:this.value,data:this.data,accessList:this.accessList,v:e-BigInt(27),r:(0,at.bufferToBigInt)(t),s:(0,at.bufferToBigInt)(n)},o)}toJSON(){const e=En.AccessLists.getAccessListJSON(this.accessList);return{chainId:(0,at.bigIntToHex)(this.chainId),nonce:(0,at.bigIntToHex)(this.nonce),gasPrice:(0,at.bigIntToHex)(this.gasPrice),gasLimit:(0,at.bigIntToHex)(this.gasLimit),to:this.to!==void 0?this.to.toString():void 0,value:(0,at.bigIntToHex)(this.value),data:"0x"+this.data.toString("hex"),accessList:e,v:this.v!==void 0?(0,at.bigIntToHex)(this.v):void 0,r:this.r!==void 0?(0,at.bigIntToHex)(this.r):void 0,s:this.s!==void 0?(0,at.bigIntToHex)(this.s):void 0}}errorStr(){let e=this._getSharedErrorPostfix();return e+=` gasPrice=${this.gasPrice} accessListCount=${this.accessList?.length??0}`,e}_errorMsg(e){return`${e} (${this.errorStr()})`}}pn.AccessListEIP2930Transaction=Wr;var vn={},Vn={};(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.initKZG=r.kzg=void 0;function e(){throw Error("kzg library not loaded")}r.kzg={freeTrustedSetup:e,loadTrustedSetup:e,blobToKzgCommitment:e,computeAggregateKzgProof:e,verifyKzgProof:e,verifyAggregateKzgProof:e};function t(n,o){r.kzg=n,r.kzg.loadTrustedSetup(o)}r.initKZG=t})(Vn);var Bi={},Zn={};Object.defineProperty(Zn,"__esModule",{value:!0});Zn.sha256=void 0;const ep=qo,tp=Vo;Zn.sha256=(0,tp.wrapHash)(ep.sha256);(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.commitmentsToVersionedHashes=r.computeVersionedHash=r.blobsToCommitments=r.getBlobs=void 0;const e=Zn,t=Vn,n=32,o=4096,a=32*o,d=a*2-1,b=n*o;function T(Q,V){const ne=te.alloc(V*a),L=te.byteLength(Q);return ne.fill(Q,0,L),ne[L]=128,ne}function A(Q){const V=te.alloc(b,"binary");for(let ne=0;ne<o;ne++){const L=te.alloc(32,"binary");L.fill(Q.subarray(ne*31,(ne+1)*31),0,31),V.fill(L,ne*32,(ne+1)*32)}return V}const H=Q=>{const V=te.from(Q,"binary"),ne=te.byteLength(V);if(ne===0)throw Error("invalid blob data");if(ne>d)throw Error("blob data is too large");const L=Math.ceil(ne/a),N=T(V,L),$=[];for(let M=0;M<L;M++){const I=N.subarray(M*a,(M+1)*a),c=A(I);$.push(c)}return $};r.getBlobs=H;const O=Q=>{const V=[];for(const ne of Q)V.push(te.from(t.kzg.blobToKzgCommitment(ne)));return V};r.blobsToCommitments=O;const U=(Q,V)=>{const ne=new Uint8Array(32);return ne.set([V],0),ne.set((0,e.sha256)(Q).slice(1),1),ne};r.computeVersionedHash=U;const j=Q=>{const V=[];for(const ne of Q)V.push(te.from((0,r.computeVersionedHash)(ne,1)));return V};r.commitmentsToVersionedHashes=j})(Bi);Object.defineProperty(vn,"__esModule",{value:!0});vn.BlobEIP4844Transaction=void 0;const rp=La,it=ct,aa=hn,oa=kr,sa=Rt,np=Vn,an=en,_n=fr,ip=Bi,io=5,fa=te.from(io.toString(16).padStart(2,"0"),"hex"),ap=(r,e,t,n,o)=>{if(!(r.length===e.length&&e.length===t.length))throw new Error("Number of versionedHashes, blobs, and commitments not all equal");try{np.kzg.verifyAggregateKzgProof(e,t,n)}catch{throw new Error("KZG proof cannot be verified from blobs/commitments")}for(let a=0;a<r.length;a++){const g=(0,ip.computeVersionedHash)(t[a],o);if(!(0,rp.byteArrayEquals)(g,r[a]))throw new Error(`commitment for blob at index ${a} does not match versionedHash`)}};class Cr extends oa.BaseTransaction{constructor(e,t={}){super({...e,type:io},t);const{chainId:n,accessList:o,maxFeePerGas:a,maxPriorityFeePerGas:g,maxFeePerDataGas:d}=e;if(this.common=this._getCommon(t.common,n),this.chainId=this.common.chainId(),this.common.isActivatedEIP(1559)===!1)throw new Error("EIP-1559 not enabled on Common");if(this.common.isActivatedEIP(4844)===!1)throw new Error("EIP-4844 not enabled on Common");this.activeCapabilities=this.activeCapabilities.concat([1559,2718,2930]);const b=_n.AccessLists.getAccessListData(o??[]);if(this.accessList=b.accessList,this.AccessListJSON=b.AccessListJSON,_n.AccessLists.verifyAccessList(this.accessList),this.maxFeePerGas=(0,it.bufferToBigInt)((0,it.toBuffer)(a===""?"0x":a)),this.maxPriorityFeePerGas=(0,it.bufferToBigInt)((0,it.toBuffer)(g===""?"0x":g)),this._validateCannotExceedMaxInteger({maxFeePerGas:this.maxFeePerGas,maxPriorityFeePerGas:this.maxPriorityFeePerGas}),oa.BaseTransaction._validateNotArray(e),this.gasLimit*this.maxFeePerGas>it.MAX_INTEGER){const A=this._errorMsg("gasLimit * maxFeePerGas cannot exceed MAX_INTEGER (2^256-1)");throw new Error(A)}if(this.maxFeePerGas<this.maxPriorityFeePerGas){const A=this._errorMsg("maxFeePerGas cannot be less than maxPriorityFeePerGas (The total must be the larger of the two)");throw new Error(A)}this.maxFeePerDataGas=(0,it.bufferToBigInt)((0,it.toBuffer)((d??"")===""?"0x":d)),this.versionedHashes=(e.versionedHashes??[]).map(A=>(0,it.toBuffer)(A)),this._validateYParity(),this._validateHighS();for(const A of this.versionedHashes){if(A.length!==32){const H=this._errorMsg("versioned hash is invalid length");throw new Error(H)}if(BigInt(A[0])!==this.common.paramByEIP("sharding","blobCommitmentVersionKzg",4844)){const H=this._errorMsg("versioned hash does not start with KZG commitment version");throw new Error(H)}}if(this.versionedHashes.length>sa.LIMIT_BLOBS_PER_TX){const A=this._errorMsg(`tx can contain at most ${sa.LIMIT_BLOBS_PER_TX} blobs`);throw new Error(A)}this.blobs=e.blobs?.map(A=>(0,it.toBuffer)(A)),this.kzgCommitments=e.kzgCommitments?.map(A=>(0,it.toBuffer)(A)),this.aggregateKzgProof=(0,it.toBuffer)(e.kzgProof),(t?.freeze??!0)&&Object.freeze(this)}static fromTxData(e,t){return new Cr(e,t)}static minimalFromNetworkWrapper(e,t){return Cr.fromTxData({...e,blobs:void 0,kzgCommitments:void 0,kzgProof:void 0},t)}static fromSerializedBlobTxNetworkWrapper(e,t){if(!t||!t.common)throw new Error("common instance required to validate versioned hashes");const n=an.BlobNetworkTransactionWrapper.deserialize(e.slice(1)),o=n.tx.message,a=Number(t.common.paramByEIP("sharding","blobCommitmentVersionKzg",4844));ap(o.blobVersionedHashes,n.blobs,n.blobKzgs,n.kzgAggregatedProof,a);const g=[];for(const O of o.accessList){const U=te.from(O.address),j=O.storageKeys.map(V=>te.from(V)),Q=[U,j];g.push(Q)}const d=o.to.value===null?void 0:it.Address.fromString((0,it.bufferToHex)(te.from(o.to.value))),b=o.blobVersionedHashes.map(O=>te.from(O)),T=n.blobKzgs.map(O=>te.from(O)),A=n.blobs.map(O=>te.from(O)),H={...o,versionedHashes:b,accessList:g,to:d,blobs:A,kzgCommitments:T,kzgProof:te.from(n.kzgAggregatedProof),r:n.tx.signature.r,s:n.tx.signature.s,v:BigInt(n.tx.signature.yParity),gasLimit:o.gas,maxFeePerGas:o.maxFeePerGas,maxPriorityFeePerGas:o.maxPriorityFeePerGas};return new Cr(H,t)}static fromSerializedTx(e,t){const n=an.SignedBlobTransactionType.deserialize(e.slice(1)),o=n.message,a=[];for(const T of o.accessList){const A=te.from(T.address),H=T.storageKeys.map(U=>te.from(U)),O=[A,H];a.push(O)}const g=o.to.value===null?void 0:it.Address.fromString((0,it.bufferToHex)(te.from(o.to.value))),d=o.blobVersionedHashes.map(T=>te.from(T)),b={...o,versionedHashes:d,to:g,accessList:a,r:n.signature.r,s:n.signature.s,v:BigInt(n.signature.yParity),gasLimit:n.message.gas};return new Cr(b,t)}getUpfrontCost(e=BigInt(0)){const t=this.maxPriorityFeePerGas,n=this.maxFeePerGas-e,a=(t<n?t:n)+e;return this.gasLimit*a+this.value}raw(){throw new Error("Method not implemented.")}toValue(){const e={selector:this.to!==void 0?1:0,value:this.to?.toBuffer()??null};return{message:{chainId:this.common.chainId(),nonce:this.nonce,maxPriorityFeePerGas:this.maxPriorityFeePerGas,maxFeePerGas:this.maxFeePerGas,gas:this.gasLimit,to:e,value:this.value,data:this.data,accessList:this.accessList.map(t=>({address:t[0],storageKeys:t[1]})),blobVersionedHashes:this.versionedHashes,maxFeePerDataGas:this.maxFeePerDataGas},signature:{r:this.r??BigInt(0),s:this.s??BigInt(0),yParity:this.v===BigInt(1)}}}serialize(){const e=an.SignedBlobTransactionType.serialize(this.toValue());return te.concat([fa,e])}serializeNetworkWrapper(){if(this.blobs===void 0||this.kzgCommitments===void 0||this.aggregateKzgProof===void 0)throw new Error("cannot serialize network wrapper without blobs, KZG commitments and aggregate KZG proof provided");const e={selector:this.to!==void 0?1:0,value:this.to?.toBuffer()??null},t=this.blobs?.map(o=>Uint8Array.from(o))??[],n=an.BlobNetworkTransactionWrapper.serialize({blobs:t,blobKzgs:this.kzgCommitments?.map(o=>Uint8Array.from(o))??[],tx:{...(0,_n.blobTxToNetworkWrapperDataFormat)(this),...e},kzgAggregatedProof:Uint8Array.from(this.aggregateKzgProof??[])});return te.concat([te.from([5]),n])}getMessageToSign(e){return this.unsignedHash()}unsignedHash(){const e=an.BlobTransactionType.serialize(this.toValue().message);return te.from((0,aa.keccak256)(te.concat([fa,e])))}hash(){return te.from((0,aa.keccak256)(this.serialize()))}getMessageToVerifySignature(){return this.getMessageToSign()}getSenderPublicKey(){if(!this.isSigned()){const a=this._errorMsg("Cannot call this method if transaction is not signed");throw new Error(a)}const e=this.getMessageToVerifySignature(),{v:t,r:n,s:o}=this;this._validateHighS();try{return(0,it.ecrecover)(e,t+BigInt(27),(0,it.bigIntToUnpaddedBuffer)(n),(0,it.bigIntToUnpaddedBuffer)(o))}catch{const g=this._errorMsg("Invalid Signature");throw new Error(g)}}toJSON(){const e=_n.AccessLists.getAccessListJSON(this.accessList);return{chainId:(0,it.bigIntToHex)(this.chainId),nonce:(0,it.bigIntToHex)(this.nonce),maxPriorityFeePerGas:(0,it.bigIntToHex)(this.maxPriorityFeePerGas),maxFeePerGas:(0,it.bigIntToHex)(this.maxFeePerGas),gasLimit:(0,it.bigIntToHex)(this.gasLimit),to:this.to!==void 0?this.to.toString():void 0,value:(0,it.bigIntToHex)(this.value),data:"0x"+this.data.toString("hex"),accessList:e,v:this.v!==void 0?(0,it.bigIntToHex)(this.v):void 0,r:this.r!==void 0?(0,it.bigIntToHex)(this.r):void 0,s:this.s!==void 0?(0,it.bigIntToHex)(this.s):void 0,maxFeePerDataGas:(0,it.bigIntToHex)(this.maxFeePerDataGas),versionedHashes:this.versionedHashes.map(t=>(0,it.bufferToHex)(t))}}_processSignature(e,t,n){const o={...this.txOptions,common:this.common};return Cr.fromTxData({chainId:this.chainId,nonce:this.nonce,maxPriorityFeePerGas:this.maxPriorityFeePerGas,maxFeePerGas:this.maxFeePerGas,gasLimit:this.gasLimit,to:this.to,value:this.value,data:this.data,accessList:this.accessList,v:e-BigInt(27),r:(0,it.bufferToBigInt)(t),s:(0,it.bufferToBigInt)(n),maxFeePerDataGas:this.maxFeePerDataGas,versionedHashes:this.versionedHashes,blobs:this.blobs,kzgCommitments:this.kzgCommitments,kzgProof:this.aggregateKzgProof},o)}errorStr(){let e=this._getSharedErrorPostfix();return e+=` maxFeePerGas=${this.maxFeePerGas} maxPriorityFeePerGas=${this.maxPriorityFeePerGas}`,e}_errorMsg(e){return`${e} (${this.errorStr()})`}numBlobs(){return this.versionedHashes.length}}vn.BlobEIP4844Transaction=Cr;var bn={};Object.defineProperty(bn,"__esModule",{value:!0});bn.Transaction=void 0;const zr=Si,qe=ct,Pn=hn,ca=kr,on=en,op=0;function ua(r,e){const t=Number(r),n=Number(e)*2;return t===n+35||t===n+36}class cn extends ca.BaseTransaction{constructor(e,t={}){if(super({...e,type:op},t),this.common=this._validateTxV(this.v,t.common),this.gasPrice=(0,qe.bufferToBigInt)((0,qe.toBuffer)(e.gasPrice===""?"0x":e.gasPrice)),this.gasPrice*this.gasLimit>qe.MAX_INTEGER){const o=this._errorMsg("gas limit * gasPrice cannot exceed MAX_INTEGER (2^256-1)");throw new Error(o)}this._validateCannotExceedMaxInteger({gasPrice:this.gasPrice}),ca.BaseTransaction._validateNotArray(e),this.common.gteHardfork("spuriousDragon")&&(this.isSigned()?ua(this.v,this.common.chainId())&&this.activeCapabilities.push(on.Capability.EIP155ReplayProtection):this.activeCapabilities.push(on.Capability.EIP155ReplayProtection)),(t?.freeze??!0)&&Object.freeze(this)}static fromTxData(e,t={}){return new cn(e,t)}static fromSerializedTx(e,t={}){const n=(0,qe.arrToBufArr)(zr.RLP.decode(Uint8Array.from(e)));if(!Array.isArray(n))throw new Error("Invalid serialized tx input. Must be array");return this.fromValuesArray(n,t)}static fromValuesArray(e,t={}){if(e.length!==6&&e.length!==9)throw new Error("Invalid transaction. Only expecting 6 values (for unsigned tx) or 9 values (for signed tx).");const[n,o,a,g,d,b,T,A,H]=e;return(0,qe.validateNoLeadingZeroes)({nonce:n,gasPrice:o,gasLimit:a,value:d,v:T,r:A,s:H}),new cn({nonce:n,gasPrice:o,gasLimit:a,to:g,value:d,data:b,v:T,r:A,s:H},t)}raw(){return[(0,qe.bigIntToUnpaddedBuffer)(this.nonce),(0,qe.bigIntToUnpaddedBuffer)(this.gasPrice),(0,qe.bigIntToUnpaddedBuffer)(this.gasLimit),this.to!==void 0?this.to.buf:te.from([]),(0,qe.bigIntToUnpaddedBuffer)(this.value),this.data,this.v!==void 0?(0,qe.bigIntToUnpaddedBuffer)(this.v):te.from([]),this.r!==void 0?(0,qe.bigIntToUnpaddedBuffer)(this.r):te.from([]),this.s!==void 0?(0,qe.bigIntToUnpaddedBuffer)(this.s):te.from([])]}serialize(){return te.from(zr.RLP.encode((0,qe.bufArrToArr)(this.raw())))}_getMessageToSign(){const e=[(0,qe.bigIntToUnpaddedBuffer)(this.nonce),(0,qe.bigIntToUnpaddedBuffer)(this.gasPrice),(0,qe.bigIntToUnpaddedBuffer)(this.gasLimit),this.to!==void 0?this.to.buf:te.from([]),(0,qe.bigIntToUnpaddedBuffer)(this.value),this.data];return this.supports(on.Capability.EIP155ReplayProtection)&&(e.push((0,qe.toBuffer)(this.common.chainId())),e.push((0,qe.unpadBuffer)((0,qe.toBuffer)(0))),e.push((0,qe.unpadBuffer)((0,qe.toBuffer)(0)))),e}getMessageToSign(e=!0){const t=this._getMessageToSign();return e?te.from((0,Pn.keccak256)(zr.RLP.encode((0,qe.bufArrToArr)(t)))):t}getDataFee(){return this.cache.dataFee&&this.cache.dataFee.hardfork===this.common.hardfork()?this.cache.dataFee.value:(Object.isFrozen(this)&&(this.cache.dataFee={value:super.getDataFee(),hardfork:this.common.hardfork()}),super.getDataFee())}getUpfrontCost(){return this.gasLimit*this.gasPrice+this.value}hash(){if(!this.isSigned()){const e=this._errorMsg("Cannot call hash method if transaction is not signed");throw new Error(e)}return Object.isFrozen(this)?(this.cache.hash||(this.cache.hash=te.from((0,Pn.keccak256)(zr.RLP.encode((0,qe.bufArrToArr)(this.raw()))))),this.cache.hash):te.from((0,Pn.keccak256)(zr.RLP.encode((0,qe.bufArrToArr)(this.raw()))))}getMessageToVerifySignature(){if(!this.isSigned()){const t=this._errorMsg("This transaction is not signed");throw new Error(t)}const e=this._getMessageToSign();return te.from((0,Pn.keccak256)(zr.RLP.encode((0,qe.bufArrToArr)(e))))}getSenderPublicKey(){const e=this.getMessageToVerifySignature(),{v:t,r:n,s:o}=this;this._validateHighS();try{return(0,qe.ecrecover)(e,t,(0,qe.bigIntToUnpaddedBuffer)(n),(0,qe.bigIntToUnpaddedBuffer)(o),this.supports(on.Capability.EIP155ReplayProtection)?this.common.chainId():void 0)}catch{const g=this._errorMsg("Invalid Signature");throw new Error(g)}}_processSignature(e,t,n){this.supports(on.Capability.EIP155ReplayProtection)&&(e+=this.common.chainId()*BigInt(2)+BigInt(8));const o={...this.txOptions,common:this.common};return cn.fromTxData({nonce:this.nonce,gasPrice:this.gasPrice,gasLimit:this.gasLimit,to:this.to,value:this.value,data:this.data,v:e,r:(0,qe.bufferToBigInt)(t),s:(0,qe.bufferToBigInt)(n)},o)}toJSON(){return{nonce:(0,qe.bigIntToHex)(this.nonce),gasPrice:(0,qe.bigIntToHex)(this.gasPrice),gasLimit:(0,qe.bigIntToHex)(this.gasLimit),to:this.to!==void 0?this.to.toString():void 0,value:(0,qe.bigIntToHex)(this.value),data:"0x"+this.data.toString("hex"),v:this.v!==void 0?(0,qe.bigIntToHex)(this.v):void 0,r:this.r!==void 0?(0,qe.bigIntToHex)(this.r):void 0,s:this.s!==void 0?(0,qe.bigIntToHex)(this.s):void 0}}_validateTxV(e,t){let n;const o=e!==void 0?Number(e):void 0;if(o!==void 0&&o<37&&o!==27&&o!==28)throw new Error(`Legacy txs need either v = 27/28 or v >= 37 (EIP-155 replay protection), got v = ${o}`);if(o!==void 0&&o!==0&&(!t||t.gteHardfork("spuriousDragon"))&&o!==27&&o!==28)if(t){if(!ua(BigInt(o),t.chainId()))throw new Error(`Incompatible EIP155-based V ${o} and chain id ${t.chainId()}. See the Common parameter of the Transaction constructor to set the chain id.`)}else{let a;(o-35)%2===0?a=35:a=36,n=BigInt(o-a)/BigInt(2)}return this._getCommon(t,n)}errorStr(){let e=this._getSharedErrorPostfix();return e+=` gasPrice=${this.gasPrice}`,e}_errorMsg(e){return`${e} (${this.errorStr()})`}}bn.Transaction=cn;var Yn={},Wn={};Object.defineProperty(Wn,"__esModule",{value:!0});Wn.normalizeTxParams=void 0;const jr=ct,sp=r=>{const e=Object.assign({},r);return e.gasLimit=(0,jr.toType)(e.gasLimit??e.gas,jr.TypeOutput.BigInt),e.data=e.data===void 0?e.input:e.data,e.gasPrice=e.gasPrice!==void 0?BigInt(e.gasPrice):void 0,e.value=e.value!==void 0?BigInt(e.value):void 0,e.to=e.to!==null&&e.to!==void 0?(0,jr.setLengthLeft)((0,jr.toBuffer)(e.to),20):null,e.v=e.v==="0x0"?"0x":e.v,e.r=e.r==="0x0"?"0x":e.r,e.s=e.s==="0x0"?"0x":e.s,e.v!=="0x"&&(e.v=(0,jr.toType)(e.v,jr.TypeOutput.BigInt)),e};Wn.normalizeTxParams=sp;Object.defineProperty(Yn,"__esModule",{value:!0});Yn.TransactionFactory=void 0;const Dn=ct,ha=mn,da=pn,la=vn,fp=Wn,Sn=bn;class Bn{constructor(){}static fromTxData(e,t={}){if(!("type"in e)||e.type===void 0)return Sn.Transaction.fromTxData(e,t);{const n=Number((0,Dn.bufferToBigInt)((0,Dn.toBuffer)(e.type)));if(n===0)return Sn.Transaction.fromTxData(e,t);if(n===1)return da.AccessListEIP2930Transaction.fromTxData(e,t);if(n===2)return ha.FeeMarketEIP1559Transaction.fromTxData(e,t);if(n===5)return la.BlobEIP4844Transaction.fromTxData(e,t);throw new Error(`Tx instantiation with type ${n} not supported`)}}static fromSerializedData(e,t={}){if(e[0]<=127)switch(e[0]){case 1:return da.AccessListEIP2930Transaction.fromSerializedTx(e,t);case 2:return ha.FeeMarketEIP1559Transaction.fromSerializedTx(e,t);case 5:return la.BlobEIP4844Transaction.fromSerializedTx(e,t);default:throw new Error(`TypedTransaction with ID ${e[0]} unknown`)}else return Sn.Transaction.fromSerializedTx(e,t)}static fromBlockBodyData(e,t={}){if(te.isBuffer(e))return this.fromSerializedData(e,t);if(Array.isArray(e))return Sn.Transaction.fromValuesArray(e,t);throw new Error("Cannot decode transaction: unknown type input")}static async fromEthersProvider(e,t,n){const o=(0,Dn.getProvider)(e),a=await(0,Dn.fetchFromProvider)(o,{method:"eth_getTransactionByHash",params:[t]});if(a===null)throw new Error("No data returned from provider");return Bn.fromRPCTx(a,n)}static async fromRPCTx(e,t={}){return Bn.fromTxData((0,fp.normalizeTxParams)(e),t)}}Yn.TransactionFactory=Bn;(function(r){var e=Bt&&Bt.__createBinding||(Object.create?function(A,H,O,U){U===void 0&&(U=O);var j=Object.getOwnPropertyDescriptor(H,O);(!j||("get"in j?!H.__esModule:j.writable||j.configurable))&&(j={enumerable:!0,get:function(){return H[O]}}),Object.defineProperty(A,U,j)}:function(A,H,O,U){U===void 0&&(U=O),A[U]=H[O]}),t=Bt&&Bt.__exportStar||function(A,H){for(var O in A)O!=="default"&&!Object.prototype.hasOwnProperty.call(H,O)&&e(H,A,O)};Object.defineProperty(r,"__esModule",{value:!0}),r.computeVersionedHash=r.TransactionFactory=r.Transaction=r.kzg=r.initKZG=r.BlobEIP4844Transaction=r.AccessListEIP2930Transaction=r.FeeMarketEIP1559Transaction=void 0;var n=mn;Object.defineProperty(r,"FeeMarketEIP1559Transaction",{enumerable:!0,get:function(){return n.FeeMarketEIP1559Transaction}});var o=pn;Object.defineProperty(r,"AccessListEIP2930Transaction",{enumerable:!0,get:function(){return o.AccessListEIP2930Transaction}});var a=vn;Object.defineProperty(r,"BlobEIP4844Transaction",{enumerable:!0,get:function(){return a.BlobEIP4844Transaction}});var g=Vn;Object.defineProperty(r,"initKZG",{enumerable:!0,get:function(){return g.initKZG}}),Object.defineProperty(r,"kzg",{enumerable:!0,get:function(){return g.kzg}});var d=bn;Object.defineProperty(r,"Transaction",{enumerable:!0,get:function(){return d.Transaction}});var b=Yn;Object.defineProperty(r,"TransactionFactory",{enumerable:!0,get:function(){return b.TransactionFactory}}),t(en,r);var T=Bi;Object.defineProperty(r,"computeVersionedHash",{enumerable:!0,get:function(){return T.computeVersionedHash}})})(to);var Zt={},Pr={},Lt={},cp=zo,ao=jo;function Xn(r){var e=r;if(typeof e!="string")throw new Error("[ethjs-util] while padding to even, value must be string, is currently "+typeof e+", while padToEven.");return e.length%2&&(e="0"+e),e}function oo(r){var e=r.toString(16);return"0x"+e}function up(r){var e=oo(r);return new te(Xn(e.slice(2)),"hex")}function hp(r){if(typeof r!="string")throw new Error("[ethjs-util] while getting binary size, method getBinarySize requires input 'str' to be type String, got '"+typeof r+"'.");return te.byteLength(r,"utf8")}function dp(r,e,t){if(Array.isArray(r)!==!0)throw new Error("[ethjs-util] method arrayContainsArray requires input 'superset' to be an array got type '"+typeof r+"'");if(Array.isArray(e)!==!0)throw new Error("[ethjs-util] method arrayContainsArray requires input 'subset' to be an array got type '"+typeof e+"'");return e[!!t&&"some"||"every"](function(n){return r.indexOf(n)>=0})}function lp(r){var e=new te(Xn(ao(r).replace(/^0+|0+$/g,"")),"hex");return e.toString("utf8")}function mp(r){var e="",t=0,n=r.length;for(r.substring(0,2)==="0x"&&(t=2);t<n;t+=2){var o=parseInt(r.substr(t,2),16);e+=String.fromCharCode(o)}return e}function gp(r){var e=new te(r,"utf8");return"0x"+Xn(e.toString("hex")).replace(/^0+|0+$/g,"")}function pp(r){for(var e="",t=0;t<r.length;t++){var n=r.charCodeAt(t),o=n.toString(16);e+=o.length<2?"0"+o:o}return"0x"+e}function vp(r,e,t){if(!Array.isArray(r))throw new Error("[ethjs-util] method getKeys expecting type Array as 'params' input, got '"+typeof r+"'");if(typeof e!="string")throw new Error("[ethjs-util] method getKeys expecting type String for input 'key' got '"+typeof e+"'.");for(var n=[],o=0;o<r.length;o++){var a=r[o][e];if(t&&!a)a="";else if(typeof a!="string")throw new Error("invalid abi");n.push(a)}return n}function bp(r,e){return!(typeof r!="string"||!r.match(/^0x[0-9A-Fa-f]*$/)||e&&r.length!==2+2*e)}var Oi={arrayContainsArray:dp,intToBuffer:up,getBinarySize:hp,isHexPrefixed:cp,stripHexPrefix:ao,padToEven:Xn,intToHex:oo,fromAscii:pp,fromUtf8:gp,toAscii:mp,toUtf8:lp,getKeys:vp,isHexString:bp};Object.defineProperty(Lt,"__esModule",{value:!0});Lt.numberToBuffer=Lt.normalize=Lt.recoverPublicKey=Lt.concatSig=Lt.legacyToBuffer=Lt.isNullish=Lt.padWithZeroes=void 0;const rr=ct,xi=Oi;function Ei(r,e){if(r!==""&&!/^[a-f0-9]+$/iu.test(r))throw new Error(`Expected an unprefixed hex string. Received: ${r}`);if(e<0)throw new Error(`Expected a non-negative integer target length. Received: ${e}`);return String.prototype.padStart.call(r,e,"0")}Lt.padWithZeroes=Ei;function yp(r){return r==null}Lt.isNullish=yp;function wp(r){return typeof r=="string"&&!(0,xi.isHexString)(r)?te.from(r):(0,rr.toBuffer)(r)}Lt.legacyToBuffer=wp;function xp(r,e,t){const n=(0,rr.fromSigned)(e),o=(0,rr.fromSigned)(t),a=(0,rr.bufferToInt)(r),g=Ei((0,rr.toUnsigned)(n).toString("hex"),64),d=Ei((0,rr.toUnsigned)(o).toString("hex"),64),b=(0,xi.stripHexPrefix)((0,xi.intToHex)(a));return(0,rr.addHexPrefix)(g.concat(d,b))}Lt.concatSig=xp;function Ep(r,e){const t=(0,rr.fromRpcSig)(e);return(0,rr.ecrecover)(r,t.v,t.r,t.s)}Lt.recoverPublicKey=Ep;function _p(r){if(r){if(typeof r=="number"){if(r<0)return"0x";const e=(0,rr.toBuffer)(r);r=(0,rr.bufferToHex)(e)}if(typeof r!="string"){let e="eth-sig-util.normalize() requires hex string or integer input.";throw e+=` received ${typeof r}: ${r}`,new Error(e)}return(0,rr.addHexPrefix)(r.toLowerCase())}}Lt.normalize=_p;function Pp(r){const e=r.toString(16),t=e.length%2?"0":"";return te.from(t+e,"hex")}Lt.numberToBuffer=Pp;Object.defineProperty(Pr,"__esModule",{value:!0});Pr.extractPublicKey=Pr.recoverPersonalSignature=Pr.personalSign=void 0;const Xr=ct,lr=Lt;function Dp({privateKey:r,data:e}){if((0,lr.isNullish)(e))throw new Error("Missing data parameter");if((0,lr.isNullish)(r))throw new Error("Missing privateKey parameter");const t=(0,lr.legacyToBuffer)(e),n=(0,Xr.hashPersonalMessage)(t),o=(0,Xr.ecsign)(n,r);return(0,lr.concatSig)((0,Xr.toBuffer)(o.v),o.r,o.s)}Pr.personalSign=Dp;function Sp({data:r,signature:e}){if((0,lr.isNullish)(r))throw new Error("Missing data parameter");if((0,lr.isNullish)(e))throw new Error("Missing signature parameter");const t=so(r,e),n=(0,Xr.publicToAddress)(t);return(0,Xr.bufferToHex)(n)}Pr.recoverPersonalSignature=Sp;function Ap({data:r,signature:e}){if((0,lr.isNullish)(r))throw new Error("Missing data parameter");if((0,lr.isNullish)(e))throw new Error("Missing signature parameter");return`0x${so(r,e).toString("hex")}`}Pr.extractPublicKey=Ap;function so(r,e){const t=(0,Xr.hashPersonalMessage)((0,lr.legacyToBuffer)(r));return(0,lr.recoverPublicKey)(t,e)}var fo={},Dr={},ki={exports:{}};ki.exports;(function(r){(function(e,t){function n(m,i){if(!m)throw new Error(i||"Assertion failed")}function o(m,i){m.super_=i;var f=function(){};f.prototype=i.prototype,m.prototype=new f,m.prototype.constructor=m}function a(m,i,f){if(a.isBN(m))return m;this.negative=0,this.words=null,this.length=0,this.red=null,m!==null&&((i==="le"||i==="be")&&(f=i,i=10),this._init(m||0,i||10,f||"be"))}typeof e=="object"?e.exports=a:t.BN=a,a.BN=a,a.wordSize=26;var g;try{typeof window<"u"&&typeof window.Buffer<"u"?g=window.Buffer:g=Ko.Buffer}catch{}a.isBN=function(i){return i instanceof a?!0:i!==null&&typeof i=="object"&&i.constructor.wordSize===a.wordSize&&Array.isArray(i.words)},a.max=function(i,f){return i.cmp(f)>0?i:f},a.min=function(i,f){return i.cmp(f)<0?i:f},a.prototype._init=function(i,f,l){if(typeof i=="number")return this._initNumber(i,f,l);if(typeof i=="object")return this._initArray(i,f,l);f==="hex"&&(f=16),n(f===(f|0)&&f>=2&&f<=36),i=i.toString().replace(/\s+/g,"");var p=0;i[0]==="-"&&(p++,this.negative=1),p<i.length&&(f===16?this._parseHex(i,p,l):(this._parseBase(i,f,p),l==="le"&&this._initArray(this.toArray(),f,l)))},a.prototype._initNumber=function(i,f,l){i<0&&(this.negative=1,i=-i),i<67108864?(this.words=[i&67108863],this.length=1):i<4503599627370496?(this.words=[i&67108863,i/67108864&67108863],this.length=2):(n(i<9007199254740992),this.words=[i&67108863,i/67108864&67108863,1],this.length=3),l==="le"&&this._initArray(this.toArray(),f,l)},a.prototype._initArray=function(i,f,l){if(n(typeof i.length=="number"),i.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(i.length/3),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var x,P,F=0;if(l==="be")for(p=i.length-1,x=0;p>=0;p-=3)P=i[p]|i[p-1]<<8|i[p-2]<<16,this.words[x]|=P<<F&67108863,this.words[x+1]=P>>>26-F&67108863,F+=24,F>=26&&(F-=26,x++);else if(l==="le")for(p=0,x=0;p<i.length;p+=3)P=i[p]|i[p+1]<<8|i[p+2]<<16,this.words[x]|=P<<F&67108863,this.words[x+1]=P>>>26-F&67108863,F+=24,F>=26&&(F-=26,x++);return this.strip()};function d(m,i){var f=m.charCodeAt(i);return f>=65&&f<=70?f-55:f>=97&&f<=102?f-87:f-48&15}function b(m,i,f){var l=d(m,f);return f-1>=i&&(l|=d(m,f-1)<<4),l}a.prototype._parseHex=function(i,f,l){this.length=Math.ceil((i.length-f)/6),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var x=0,P=0,F;if(l==="be")for(p=i.length-1;p>=f;p-=2)F=b(i,f,p)<<x,this.words[P]|=F&67108863,x>=18?(x-=18,P+=1,this.words[P]|=F>>>26):x+=8;else{var E=i.length-f;for(p=E%2===0?f+1:f;p<i.length;p+=2)F=b(i,f,p)<<x,this.words[P]|=F&67108863,x>=18?(x-=18,P+=1,this.words[P]|=F>>>26):x+=8}this.strip()};function T(m,i,f,l){for(var p=0,x=Math.min(m.length,f),P=i;P<x;P++){var F=m.charCodeAt(P)-48;p*=l,F>=49?p+=F-49+10:F>=17?p+=F-17+10:p+=F}return p}a.prototype._parseBase=function(i,f,l){this.words=[0],this.length=1;for(var p=0,x=1;x<=67108863;x*=f)p++;p--,x=x/f|0;for(var P=i.length-l,F=P%p,E=Math.min(P,P-F)+l,u=0,S=l;S<E;S+=p)u=T(i,S,S+p,f),this.imuln(x),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(F!==0){var ee=1;for(u=T(i,S,i.length,f),S=0;S<F;S++)ee*=f;this.imuln(ee),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},a.prototype.copy=function(i){i.words=new Array(this.length);for(var f=0;f<this.length;f++)i.words[f]=this.words[f];i.length=this.length,i.negative=this.negative,i.red=this.red},a.prototype.clone=function(){var i=new a(null);return this.copy(i),i},a.prototype._expand=function(i){for(;this.length<i;)this.words[this.length++]=0;return this},a.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},a.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},a.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var A=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],H=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],O=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];a.prototype.toString=function(i,f){i=i||10,f=f|0||1;var l;if(i===16||i==="hex"){l="";for(var p=0,x=0,P=0;P<this.length;P++){var F=this.words[P],E=((F<<p|x)&16777215).toString(16);x=F>>>24-p&16777215,x!==0||P!==this.length-1?l=A[6-E.length]+E+l:l=E+l,p+=2,p>=26&&(p-=26,P--)}for(x!==0&&(l=x.toString(16)+l);l.length%f!==0;)l="0"+l;return this.negative!==0&&(l="-"+l),l}if(i===(i|0)&&i>=2&&i<=36){var u=H[i],S=O[i];l="";var ee=this.clone();for(ee.negative=0;!ee.isZero();){var K=ee.modn(S).toString(i);ee=ee.idivn(S),ee.isZero()?l=K+l:l=A[u-K.length]+K+l}for(this.isZero()&&(l="0"+l);l.length%f!==0;)l="0"+l;return this.negative!==0&&(l="-"+l),l}n(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var i=this.words[0];return this.length===2?i+=this.words[1]*67108864:this.length===3&&this.words[2]===1?i+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-i:i},a.prototype.toJSON=function(){return this.toString(16)},a.prototype.toBuffer=function(i,f){return n(typeof g<"u"),this.toArrayLike(g,i,f)},a.prototype.toArray=function(i,f){return this.toArrayLike(Array,i,f)},a.prototype.toArrayLike=function(i,f,l){var p=this.byteLength(),x=l||Math.max(1,p);n(p<=x,"byte array longer than desired length"),n(x>0,"Requested array length <= 0"),this.strip();var P=f==="le",F=new i(x),E,u,S=this.clone();if(P){for(u=0;!S.isZero();u++)E=S.andln(255),S.iushrn(8),F[u]=E;for(;u<x;u++)F[u]=0}else{for(u=0;u<x-p;u++)F[u]=0;for(u=0;!S.isZero();u++)E=S.andln(255),S.iushrn(8),F[x-u-1]=E}return F},Math.clz32?a.prototype._countBits=function(i){return 32-Math.clz32(i)}:a.prototype._countBits=function(i){var f=i,l=0;return f>=4096&&(l+=13,f>>>=13),f>=64&&(l+=7,f>>>=7),f>=8&&(l+=4,f>>>=4),f>=2&&(l+=2,f>>>=2),l+f},a.prototype._zeroBits=function(i){if(i===0)return 26;var f=i,l=0;return f&8191||(l+=13,f>>>=13),f&127||(l+=7,f>>>=7),f&15||(l+=4,f>>>=4),f&3||(l+=2,f>>>=2),f&1||l++,l},a.prototype.bitLength=function(){var i=this.words[this.length-1],f=this._countBits(i);return(this.length-1)*26+f};function U(m){for(var i=new Array(m.bitLength()),f=0;f<i.length;f++){var l=f/26|0,p=f%26;i[f]=(m.words[l]&1<<p)>>>p}return i}a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var i=0,f=0;f<this.length;f++){var l=this._zeroBits(this.words[f]);if(i+=l,l!==26)break}return i},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(i){return this.negative!==0?this.abs().inotn(i).iaddn(1):this.clone()},a.prototype.fromTwos=function(i){return this.testn(i-1)?this.notn(i).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return this.negative!==0},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(i){for(;this.length<i.length;)this.words[this.length++]=0;for(var f=0;f<i.length;f++)this.words[f]=this.words[f]|i.words[f];return this.strip()},a.prototype.ior=function(i){return n((this.negative|i.negative)===0),this.iuor(i)},a.prototype.or=function(i){return this.length>i.length?this.clone().ior(i):i.clone().ior(this)},a.prototype.uor=function(i){return this.length>i.length?this.clone().iuor(i):i.clone().iuor(this)},a.prototype.iuand=function(i){var f;this.length>i.length?f=i:f=this;for(var l=0;l<f.length;l++)this.words[l]=this.words[l]&i.words[l];return this.length=f.length,this.strip()},a.prototype.iand=function(i){return n((this.negative|i.negative)===0),this.iuand(i)},a.prototype.and=function(i){return this.length>i.length?this.clone().iand(i):i.clone().iand(this)},a.prototype.uand=function(i){return this.length>i.length?this.clone().iuand(i):i.clone().iuand(this)},a.prototype.iuxor=function(i){var f,l;this.length>i.length?(f=this,l=i):(f=i,l=this);for(var p=0;p<l.length;p++)this.words[p]=f.words[p]^l.words[p];if(this!==f)for(;p<f.length;p++)this.words[p]=f.words[p];return this.length=f.length,this.strip()},a.prototype.ixor=function(i){return n((this.negative|i.negative)===0),this.iuxor(i)},a.prototype.xor=function(i){return this.length>i.length?this.clone().ixor(i):i.clone().ixor(this)},a.prototype.uxor=function(i){return this.length>i.length?this.clone().iuxor(i):i.clone().iuxor(this)},a.prototype.inotn=function(i){n(typeof i=="number"&&i>=0);var f=Math.ceil(i/26)|0,l=i%26;this._expand(f),l>0&&f--;for(var p=0;p<f;p++)this.words[p]=~this.words[p]&67108863;return l>0&&(this.words[p]=~this.words[p]&67108863>>26-l),this.strip()},a.prototype.notn=function(i){return this.clone().inotn(i)},a.prototype.setn=function(i,f){n(typeof i=="number"&&i>=0);var l=i/26|0,p=i%26;return this._expand(l+1),f?this.words[l]=this.words[l]|1<<p:this.words[l]=this.words[l]&~(1<<p),this.strip()},a.prototype.iadd=function(i){var f;if(this.negative!==0&&i.negative===0)return this.negative=0,f=this.isub(i),this.negative^=1,this._normSign();if(this.negative===0&&i.negative!==0)return i.negative=0,f=this.isub(i),i.negative=1,f._normSign();var l,p;this.length>i.length?(l=this,p=i):(l=i,p=this);for(var x=0,P=0;P<p.length;P++)f=(l.words[P]|0)+(p.words[P]|0)+x,this.words[P]=f&67108863,x=f>>>26;for(;x!==0&&P<l.length;P++)f=(l.words[P]|0)+x,this.words[P]=f&67108863,x=f>>>26;if(this.length=l.length,x!==0)this.words[this.length]=x,this.length++;else if(l!==this)for(;P<l.length;P++)this.words[P]=l.words[P];return this},a.prototype.add=function(i){var f;return i.negative!==0&&this.negative===0?(i.negative=0,f=this.sub(i),i.negative^=1,f):i.negative===0&&this.negative!==0?(this.negative=0,f=i.sub(this),this.negative=1,f):this.length>i.length?this.clone().iadd(i):i.clone().iadd(this)},a.prototype.isub=function(i){if(i.negative!==0){i.negative=0;var f=this.iadd(i);return i.negative=1,f._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(i),this.negative=1,this._normSign();var l=this.cmp(i);if(l===0)return this.negative=0,this.length=1,this.words[0]=0,this;var p,x;l>0?(p=this,x=i):(p=i,x=this);for(var P=0,F=0;F<x.length;F++)f=(p.words[F]|0)-(x.words[F]|0)+P,P=f>>26,this.words[F]=f&67108863;for(;P!==0&&F<p.length;F++)f=(p.words[F]|0)+P,P=f>>26,this.words[F]=f&67108863;if(P===0&&F<p.length&&p!==this)for(;F<p.length;F++)this.words[F]=p.words[F];return this.length=Math.max(this.length,F),p!==this&&(this.negative=1),this.strip()},a.prototype.sub=function(i){return this.clone().isub(i)};function j(m,i,f){f.negative=i.negative^m.negative;var l=m.length+i.length|0;f.length=l,l=l-1|0;var p=m.words[0]|0,x=i.words[0]|0,P=p*x,F=P&67108863,E=P/67108864|0;f.words[0]=F;for(var u=1;u<l;u++){for(var S=E>>>26,ee=E&67108863,K=Math.min(u,i.length-1),X=Math.max(0,u-m.length+1);X<=K;X++){var Z=u-X|0;p=m.words[Z]|0,x=i.words[X]|0,P=p*x+ee,S+=P/67108864|0,ee=P&67108863}f.words[u]=ee|0,E=S|0}return E!==0?f.words[u]=E|0:f.length--,f.strip()}var Q=function(i,f,l){var p=i.words,x=f.words,P=l.words,F=0,E,u,S,ee=p[0]|0,K=ee&8191,X=ee>>>13,Z=p[1]|0,se=Z&8191,ge=Z>>>13,Be=p[2]|0,pe=Be&8191,ve=Be>>>13,et=p[3]|0,ye=et&8191,De=et>>>13,er=p[4]|0,ot=er&8191,ut=er>>>13,ur=p[5]|0,dt=ur&8191,nt=ur>>>13,yt=p[6]|0,Ge=yt&8191,Oe=yt>>>13,_t=p[7]|0,Me=_t&8191,ke=_t>>>13,wt=p[8]|0,Le=wt&8191,He=wt>>>13,At=p[9]|0,je=At&8191,Ne=At>>>13,Pt=x[0]|0,Ie=Pt&8191,Te=Pt>>>13,mt=x[1]|0,gt=mt&8191,bt=mt>>>13,br=x[2]|0,pt=br&8191,xt=br>>>13,tn=x[3]|0,Tt=tn&8191,Mt=tn>>>13,tr=x[4]|0,ht=tr&8191,lt=tr>>>13,Hr=x[5]|0,Et=Hr&8191,Dt=Hr>>>13,wn=x[6]|0,Ze=wn&8191,St=wn>>>13,h=x[7]|0,w=h&8191,y=h>>>13,s=x[8]|0,_=s&8191,k=s>>>13,R=x[9]|0,q=R&8191,J=R>>>13;l.negative=i.negative^f.negative,l.length=19,E=Math.imul(K,Ie),u=Math.imul(K,Te),u=u+Math.imul(X,Ie)|0,S=Math.imul(X,Te);var le=(F+E|0)+((u&8191)<<13)|0;F=(S+(u>>>13)|0)+(le>>>26)|0,le&=67108863,E=Math.imul(se,Ie),u=Math.imul(se,Te),u=u+Math.imul(ge,Ie)|0,S=Math.imul(ge,Te),E=E+Math.imul(K,gt)|0,u=u+Math.imul(K,bt)|0,u=u+Math.imul(X,gt)|0,S=S+Math.imul(X,bt)|0;var oe=(F+E|0)+((u&8191)<<13)|0;F=(S+(u>>>13)|0)+(oe>>>26)|0,oe&=67108863,E=Math.imul(pe,Ie),u=Math.imul(pe,Te),u=u+Math.imul(ve,Ie)|0,S=Math.imul(ve,Te),E=E+Math.imul(se,gt)|0,u=u+Math.imul(se,bt)|0,u=u+Math.imul(ge,gt)|0,S=S+Math.imul(ge,bt)|0,E=E+Math.imul(K,pt)|0,u=u+Math.imul(K,xt)|0,u=u+Math.imul(X,pt)|0,S=S+Math.imul(X,xt)|0;var Ve=(F+E|0)+((u&8191)<<13)|0;F=(S+(u>>>13)|0)+(Ve>>>26)|0,Ve&=67108863,E=Math.imul(ye,Ie),u=Math.imul(ye,Te),u=u+Math.imul(De,Ie)|0,S=Math.imul(De,Te),E=E+Math.imul(pe,gt)|0,u=u+Math.imul(pe,bt)|0,u=u+Math.imul(ve,gt)|0,S=S+Math.imul(ve,bt)|0,E=E+Math.imul(se,pt)|0,u=u+Math.imul(se,xt)|0,u=u+Math.imul(ge,pt)|0,S=S+Math.imul(ge,xt)|0,E=E+Math.imul(K,Tt)|0,u=u+Math.imul(K,Mt)|0,u=u+Math.imul(X,Tt)|0,S=S+Math.imul(X,Mt)|0;var ce=(F+E|0)+((u&8191)<<13)|0;F=(S+(u>>>13)|0)+(ce>>>26)|0,ce&=67108863,E=Math.imul(ot,Ie),u=Math.imul(ot,Te),u=u+Math.imul(ut,Ie)|0,S=Math.imul(ut,Te),E=E+Math.imul(ye,gt)|0,u=u+Math.imul(ye,bt)|0,u=u+Math.imul(De,gt)|0,S=S+Math.imul(De,bt)|0,E=E+Math.imul(pe,pt)|0,u=u+Math.imul(pe,xt)|0,u=u+Math.imul(ve,pt)|0,S=S+Math.imul(ve,xt)|0,E=E+Math.imul(se,Tt)|0,u=u+Math.imul(se,Mt)|0,u=u+Math.imul(ge,Tt)|0,S=S+Math.imul(ge,Mt)|0,E=E+Math.imul(K,ht)|0,u=u+Math.imul(K,lt)|0,u=u+Math.imul(X,ht)|0,S=S+Math.imul(X,lt)|0;var we=(F+E|0)+((u&8191)<<13)|0;F=(S+(u>>>13)|0)+(we>>>26)|0,we&=67108863,E=Math.imul(dt,Ie),u=Math.imul(dt,Te),u=u+Math.imul(nt,Ie)|0,S=Math.imul(nt,Te),E=E+Math.imul(ot,gt)|0,u=u+Math.imul(ot,bt)|0,u=u+Math.imul(ut,gt)|0,S=S+Math.imul(ut,bt)|0,E=E+Math.imul(ye,pt)|0,u=u+Math.imul(ye,xt)|0,u=u+Math.imul(De,pt)|0,S=S+Math.imul(De,xt)|0,E=E+Math.imul(pe,Tt)|0,u=u+Math.imul(pe,Mt)|0,u=u+Math.imul(ve,Tt)|0,S=S+Math.imul(ve,Mt)|0,E=E+Math.imul(se,ht)|0,u=u+Math.imul(se,lt)|0,u=u+Math.imul(ge,ht)|0,S=S+Math.imul(ge,lt)|0,E=E+Math.imul(K,Et)|0,u=u+Math.imul(K,Dt)|0,u=u+Math.imul(X,Et)|0,S=S+Math.imul(X,Dt)|0;var xe=(F+E|0)+((u&8191)<<13)|0;F=(S+(u>>>13)|0)+(xe>>>26)|0,xe&=67108863,E=Math.imul(Ge,Ie),u=Math.imul(Ge,Te),u=u+Math.imul(Oe,Ie)|0,S=Math.imul(Oe,Te),E=E+Math.imul(dt,gt)|0,u=u+Math.imul(dt,bt)|0,u=u+Math.imul(nt,gt)|0,S=S+Math.imul(nt,bt)|0,E=E+Math.imul(ot,pt)|0,u=u+Math.imul(ot,xt)|0,u=u+Math.imul(ut,pt)|0,S=S+Math.imul(ut,xt)|0,E=E+Math.imul(ye,Tt)|0,u=u+Math.imul(ye,Mt)|0,u=u+Math.imul(De,Tt)|0,S=S+Math.imul(De,Mt)|0,E=E+Math.imul(pe,ht)|0,u=u+Math.imul(pe,lt)|0,u=u+Math.imul(ve,ht)|0,S=S+Math.imul(ve,lt)|0,E=E+Math.imul(se,Et)|0,u=u+Math.imul(se,Dt)|0,u=u+Math.imul(ge,Et)|0,S=S+Math.imul(ge,Dt)|0,E=E+Math.imul(K,Ze)|0,u=u+Math.imul(K,St)|0,u=u+Math.imul(X,Ze)|0,S=S+Math.imul(X,St)|0;var Ae=(F+E|0)+((u&8191)<<13)|0;F=(S+(u>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,E=Math.imul(Me,Ie),u=Math.imul(Me,Te),u=u+Math.imul(ke,Ie)|0,S=Math.imul(ke,Te),E=E+Math.imul(Ge,gt)|0,u=u+Math.imul(Ge,bt)|0,u=u+Math.imul(Oe,gt)|0,S=S+Math.imul(Oe,bt)|0,E=E+Math.imul(dt,pt)|0,u=u+Math.imul(dt,xt)|0,u=u+Math.imul(nt,pt)|0,S=S+Math.imul(nt,xt)|0,E=E+Math.imul(ot,Tt)|0,u=u+Math.imul(ot,Mt)|0,u=u+Math.imul(ut,Tt)|0,S=S+Math.imul(ut,Mt)|0,E=E+Math.imul(ye,ht)|0,u=u+Math.imul(ye,lt)|0,u=u+Math.imul(De,ht)|0,S=S+Math.imul(De,lt)|0,E=E+Math.imul(pe,Et)|0,u=u+Math.imul(pe,Dt)|0,u=u+Math.imul(ve,Et)|0,S=S+Math.imul(ve,Dt)|0,E=E+Math.imul(se,Ze)|0,u=u+Math.imul(se,St)|0,u=u+Math.imul(ge,Ze)|0,S=S+Math.imul(ge,St)|0,E=E+Math.imul(K,w)|0,u=u+Math.imul(K,y)|0,u=u+Math.imul(X,w)|0,S=S+Math.imul(X,y)|0;var Se=(F+E|0)+((u&8191)<<13)|0;F=(S+(u>>>13)|0)+(Se>>>26)|0,Se&=67108863,E=Math.imul(Le,Ie),u=Math.imul(Le,Te),u=u+Math.imul(He,Ie)|0,S=Math.imul(He,Te),E=E+Math.imul(Me,gt)|0,u=u+Math.imul(Me,bt)|0,u=u+Math.imul(ke,gt)|0,S=S+Math.imul(ke,bt)|0,E=E+Math.imul(Ge,pt)|0,u=u+Math.imul(Ge,xt)|0,u=u+Math.imul(Oe,pt)|0,S=S+Math.imul(Oe,xt)|0,E=E+Math.imul(dt,Tt)|0,u=u+Math.imul(dt,Mt)|0,u=u+Math.imul(nt,Tt)|0,S=S+Math.imul(nt,Mt)|0,E=E+Math.imul(ot,ht)|0,u=u+Math.imul(ot,lt)|0,u=u+Math.imul(ut,ht)|0,S=S+Math.imul(ut,lt)|0,E=E+Math.imul(ye,Et)|0,u=u+Math.imul(ye,Dt)|0,u=u+Math.imul(De,Et)|0,S=S+Math.imul(De,Dt)|0,E=E+Math.imul(pe,Ze)|0,u=u+Math.imul(pe,St)|0,u=u+Math.imul(ve,Ze)|0,S=S+Math.imul(ve,St)|0,E=E+Math.imul(se,w)|0,u=u+Math.imul(se,y)|0,u=u+Math.imul(ge,w)|0,S=S+Math.imul(ge,y)|0,E=E+Math.imul(K,_)|0,u=u+Math.imul(K,k)|0,u=u+Math.imul(X,_)|0,S=S+Math.imul(X,k)|0;var Ee=(F+E|0)+((u&8191)<<13)|0;F=(S+(u>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,E=Math.imul(je,Ie),u=Math.imul(je,Te),u=u+Math.imul(Ne,Ie)|0,S=Math.imul(Ne,Te),E=E+Math.imul(Le,gt)|0,u=u+Math.imul(Le,bt)|0,u=u+Math.imul(He,gt)|0,S=S+Math.imul(He,bt)|0,E=E+Math.imul(Me,pt)|0,u=u+Math.imul(Me,xt)|0,u=u+Math.imul(ke,pt)|0,S=S+Math.imul(ke,xt)|0,E=E+Math.imul(Ge,Tt)|0,u=u+Math.imul(Ge,Mt)|0,u=u+Math.imul(Oe,Tt)|0,S=S+Math.imul(Oe,Mt)|0,E=E+Math.imul(dt,ht)|0,u=u+Math.imul(dt,lt)|0,u=u+Math.imul(nt,ht)|0,S=S+Math.imul(nt,lt)|0,E=E+Math.imul(ot,Et)|0,u=u+Math.imul(ot,Dt)|0,u=u+Math.imul(ut,Et)|0,S=S+Math.imul(ut,Dt)|0,E=E+Math.imul(ye,Ze)|0,u=u+Math.imul(ye,St)|0,u=u+Math.imul(De,Ze)|0,S=S+Math.imul(De,St)|0,E=E+Math.imul(pe,w)|0,u=u+Math.imul(pe,y)|0,u=u+Math.imul(ve,w)|0,S=S+Math.imul(ve,y)|0,E=E+Math.imul(se,_)|0,u=u+Math.imul(se,k)|0,u=u+Math.imul(ge,_)|0,S=S+Math.imul(ge,k)|0,E=E+Math.imul(K,q)|0,u=u+Math.imul(K,J)|0,u=u+Math.imul(X,q)|0,S=S+Math.imul(X,J)|0;var Pe=(F+E|0)+((u&8191)<<13)|0;F=(S+(u>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,E=Math.imul(je,gt),u=Math.imul(je,bt),u=u+Math.imul(Ne,gt)|0,S=Math.imul(Ne,bt),E=E+Math.imul(Le,pt)|0,u=u+Math.imul(Le,xt)|0,u=u+Math.imul(He,pt)|0,S=S+Math.imul(He,xt)|0,E=E+Math.imul(Me,Tt)|0,u=u+Math.imul(Me,Mt)|0,u=u+Math.imul(ke,Tt)|0,S=S+Math.imul(ke,Mt)|0,E=E+Math.imul(Ge,ht)|0,u=u+Math.imul(Ge,lt)|0,u=u+Math.imul(Oe,ht)|0,S=S+Math.imul(Oe,lt)|0,E=E+Math.imul(dt,Et)|0,u=u+Math.imul(dt,Dt)|0,u=u+Math.imul(nt,Et)|0,S=S+Math.imul(nt,Dt)|0,E=E+Math.imul(ot,Ze)|0,u=u+Math.imul(ot,St)|0,u=u+Math.imul(ut,Ze)|0,S=S+Math.imul(ut,St)|0,E=E+Math.imul(ye,w)|0,u=u+Math.imul(ye,y)|0,u=u+Math.imul(De,w)|0,S=S+Math.imul(De,y)|0,E=E+Math.imul(pe,_)|0,u=u+Math.imul(pe,k)|0,u=u+Math.imul(ve,_)|0,S=S+Math.imul(ve,k)|0,E=E+Math.imul(se,q)|0,u=u+Math.imul(se,J)|0,u=u+Math.imul(ge,q)|0,S=S+Math.imul(ge,J)|0;var _e=(F+E|0)+((u&8191)<<13)|0;F=(S+(u>>>13)|0)+(_e>>>26)|0,_e&=67108863,E=Math.imul(je,pt),u=Math.imul(je,xt),u=u+Math.imul(Ne,pt)|0,S=Math.imul(Ne,xt),E=E+Math.imul(Le,Tt)|0,u=u+Math.imul(Le,Mt)|0,u=u+Math.imul(He,Tt)|0,S=S+Math.imul(He,Mt)|0,E=E+Math.imul(Me,ht)|0,u=u+Math.imul(Me,lt)|0,u=u+Math.imul(ke,ht)|0,S=S+Math.imul(ke,lt)|0,E=E+Math.imul(Ge,Et)|0,u=u+Math.imul(Ge,Dt)|0,u=u+Math.imul(Oe,Et)|0,S=S+Math.imul(Oe,Dt)|0,E=E+Math.imul(dt,Ze)|0,u=u+Math.imul(dt,St)|0,u=u+Math.imul(nt,Ze)|0,S=S+Math.imul(nt,St)|0,E=E+Math.imul(ot,w)|0,u=u+Math.imul(ot,y)|0,u=u+Math.imul(ut,w)|0,S=S+Math.imul(ut,y)|0,E=E+Math.imul(ye,_)|0,u=u+Math.imul(ye,k)|0,u=u+Math.imul(De,_)|0,S=S+Math.imul(De,k)|0,E=E+Math.imul(pe,q)|0,u=u+Math.imul(pe,J)|0,u=u+Math.imul(ve,q)|0,S=S+Math.imul(ve,J)|0;var ue=(F+E|0)+((u&8191)<<13)|0;F=(S+(u>>>13)|0)+(ue>>>26)|0,ue&=67108863,E=Math.imul(je,Tt),u=Math.imul(je,Mt),u=u+Math.imul(Ne,Tt)|0,S=Math.imul(Ne,Mt),E=E+Math.imul(Le,ht)|0,u=u+Math.imul(Le,lt)|0,u=u+Math.imul(He,ht)|0,S=S+Math.imul(He,lt)|0,E=E+Math.imul(Me,Et)|0,u=u+Math.imul(Me,Dt)|0,u=u+Math.imul(ke,Et)|0,S=S+Math.imul(ke,Dt)|0,E=E+Math.imul(Ge,Ze)|0,u=u+Math.imul(Ge,St)|0,u=u+Math.imul(Oe,Ze)|0,S=S+Math.imul(Oe,St)|0,E=E+Math.imul(dt,w)|0,u=u+Math.imul(dt,y)|0,u=u+Math.imul(nt,w)|0,S=S+Math.imul(nt,y)|0,E=E+Math.imul(ot,_)|0,u=u+Math.imul(ot,k)|0,u=u+Math.imul(ut,_)|0,S=S+Math.imul(ut,k)|0,E=E+Math.imul(ye,q)|0,u=u+Math.imul(ye,J)|0,u=u+Math.imul(De,q)|0,S=S+Math.imul(De,J)|0;var me=(F+E|0)+((u&8191)<<13)|0;F=(S+(u>>>13)|0)+(me>>>26)|0,me&=67108863,E=Math.imul(je,ht),u=Math.imul(je,lt),u=u+Math.imul(Ne,ht)|0,S=Math.imul(Ne,lt),E=E+Math.imul(Le,Et)|0,u=u+Math.imul(Le,Dt)|0,u=u+Math.imul(He,Et)|0,S=S+Math.imul(He,Dt)|0,E=E+Math.imul(Me,Ze)|0,u=u+Math.imul(Me,St)|0,u=u+Math.imul(ke,Ze)|0,S=S+Math.imul(ke,St)|0,E=E+Math.imul(Ge,w)|0,u=u+Math.imul(Ge,y)|0,u=u+Math.imul(Oe,w)|0,S=S+Math.imul(Oe,y)|0,E=E+Math.imul(dt,_)|0,u=u+Math.imul(dt,k)|0,u=u+Math.imul(nt,_)|0,S=S+Math.imul(nt,k)|0,E=E+Math.imul(ot,q)|0,u=u+Math.imul(ot,J)|0,u=u+Math.imul(ut,q)|0,S=S+Math.imul(ut,J)|0;var fe=(F+E|0)+((u&8191)<<13)|0;F=(S+(u>>>13)|0)+(fe>>>26)|0,fe&=67108863,E=Math.imul(je,Et),u=Math.imul(je,Dt),u=u+Math.imul(Ne,Et)|0,S=Math.imul(Ne,Dt),E=E+Math.imul(Le,Ze)|0,u=u+Math.imul(Le,St)|0,u=u+Math.imul(He,Ze)|0,S=S+Math.imul(He,St)|0,E=E+Math.imul(Me,w)|0,u=u+Math.imul(Me,y)|0,u=u+Math.imul(ke,w)|0,S=S+Math.imul(ke,y)|0,E=E+Math.imul(Ge,_)|0,u=u+Math.imul(Ge,k)|0,u=u+Math.imul(Oe,_)|0,S=S+Math.imul(Oe,k)|0,E=E+Math.imul(dt,q)|0,u=u+Math.imul(dt,J)|0,u=u+Math.imul(nt,q)|0,S=S+Math.imul(nt,J)|0;var he=(F+E|0)+((u&8191)<<13)|0;F=(S+(u>>>13)|0)+(he>>>26)|0,he&=67108863,E=Math.imul(je,Ze),u=Math.imul(je,St),u=u+Math.imul(Ne,Ze)|0,S=Math.imul(Ne,St),E=E+Math.imul(Le,w)|0,u=u+Math.imul(Le,y)|0,u=u+Math.imul(He,w)|0,S=S+Math.imul(He,y)|0,E=E+Math.imul(Me,_)|0,u=u+Math.imul(Me,k)|0,u=u+Math.imul(ke,_)|0,S=S+Math.imul(ke,k)|0,E=E+Math.imul(Ge,q)|0,u=u+Math.imul(Ge,J)|0,u=u+Math.imul(Oe,q)|0,S=S+Math.imul(Oe,J)|0;var de=(F+E|0)+((u&8191)<<13)|0;F=(S+(u>>>13)|0)+(de>>>26)|0,de&=67108863,E=Math.imul(je,w),u=Math.imul(je,y),u=u+Math.imul(Ne,w)|0,S=Math.imul(Ne,y),E=E+Math.imul(Le,_)|0,u=u+Math.imul(Le,k)|0,u=u+Math.imul(He,_)|0,S=S+Math.imul(He,k)|0,E=E+Math.imul(Me,q)|0,u=u+Math.imul(Me,J)|0,u=u+Math.imul(ke,q)|0,S=S+Math.imul(ke,J)|0;var ae=(F+E|0)+((u&8191)<<13)|0;F=(S+(u>>>13)|0)+(ae>>>26)|0,ae&=67108863,E=Math.imul(je,_),u=Math.imul(je,k),u=u+Math.imul(Ne,_)|0,S=Math.imul(Ne,k),E=E+Math.imul(Le,q)|0,u=u+Math.imul(Le,J)|0,u=u+Math.imul(He,q)|0,S=S+Math.imul(He,J)|0;var G=(F+E|0)+((u&8191)<<13)|0;F=(S+(u>>>13)|0)+(G>>>26)|0,G&=67108863,E=Math.imul(je,q),u=Math.imul(je,J),u=u+Math.imul(Ne,q)|0,S=Math.imul(Ne,J);var z=(F+E|0)+((u&8191)<<13)|0;return F=(S+(u>>>13)|0)+(z>>>26)|0,z&=67108863,P[0]=le,P[1]=oe,P[2]=Ve,P[3]=ce,P[4]=we,P[5]=xe,P[6]=Ae,P[7]=Se,P[8]=Ee,P[9]=Pe,P[10]=_e,P[11]=ue,P[12]=me,P[13]=fe,P[14]=he,P[15]=de,P[16]=ae,P[17]=G,P[18]=z,F!==0&&(P[19]=F,l.length++),l};Math.imul||(Q=j);function V(m,i,f){f.negative=i.negative^m.negative,f.length=m.length+i.length;for(var l=0,p=0,x=0;x<f.length-1;x++){var P=p;p=0;for(var F=l&67108863,E=Math.min(x,i.length-1),u=Math.max(0,x-m.length+1);u<=E;u++){var S=x-u,ee=m.words[S]|0,K=i.words[u]|0,X=ee*K,Z=X&67108863;P=P+(X/67108864|0)|0,Z=Z+F|0,F=Z&67108863,P=P+(Z>>>26)|0,p+=P>>>26,P&=67108863}f.words[x]=F,l=P,P=p}return l!==0?f.words[x]=l:f.length--,f.strip()}function ne(m,i,f){var l=new L;return l.mulp(m,i,f)}a.prototype.mulTo=function(i,f){var l,p=this.length+i.length;return this.length===10&&i.length===10?l=Q(this,i,f):p<63?l=j(this,i,f):p<1024?l=V(this,i,f):l=ne(this,i,f),l};function L(m,i){this.x=m,this.y=i}L.prototype.makeRBT=function(i){for(var f=new Array(i),l=a.prototype._countBits(i)-1,p=0;p<i;p++)f[p]=this.revBin(p,l,i);return f},L.prototype.revBin=function(i,f,l){if(i===0||i===l-1)return i;for(var p=0,x=0;x<f;x++)p|=(i&1)<<f-x-1,i>>=1;return p},L.prototype.permute=function(i,f,l,p,x,P){for(var F=0;F<P;F++)p[F]=f[i[F]],x[F]=l[i[F]]},L.prototype.transform=function(i,f,l,p,x,P){this.permute(P,i,f,l,p,x);for(var F=1;F<x;F<<=1)for(var E=F<<1,u=Math.cos(2*Math.PI/E),S=Math.sin(2*Math.PI/E),ee=0;ee<x;ee+=E)for(var K=u,X=S,Z=0;Z<F;Z++){var se=l[ee+Z],ge=p[ee+Z],Be=l[ee+Z+F],pe=p[ee+Z+F],ve=K*Be-X*pe;pe=K*pe+X*Be,Be=ve,l[ee+Z]=se+Be,p[ee+Z]=ge+pe,l[ee+Z+F]=se-Be,p[ee+Z+F]=ge-pe,Z!==E&&(ve=u*K-S*X,X=u*X+S*K,K=ve)}},L.prototype.guessLen13b=function(i,f){var l=Math.max(f,i)|1,p=l&1,x=0;for(l=l/2|0;l;l=l>>>1)x++;return 1<<x+1+p},L.prototype.conjugate=function(i,f,l){if(!(l<=1))for(var p=0;p<l/2;p++){var x=i[p];i[p]=i[l-p-1],i[l-p-1]=x,x=f[p],f[p]=-f[l-p-1],f[l-p-1]=-x}},L.prototype.normalize13b=function(i,f){for(var l=0,p=0;p<f/2;p++){var x=Math.round(i[2*p+1]/f)*8192+Math.round(i[2*p]/f)+l;i[p]=x&67108863,x<67108864?l=0:l=x/67108864|0}return i},L.prototype.convert13b=function(i,f,l,p){for(var x=0,P=0;P<f;P++)x=x+(i[P]|0),l[2*P]=x&8191,x=x>>>13,l[2*P+1]=x&8191,x=x>>>13;for(P=2*f;P<p;++P)l[P]=0;n(x===0),n((x&-8192)===0)},L.prototype.stub=function(i){for(var f=new Array(i),l=0;l<i;l++)f[l]=0;return f},L.prototype.mulp=function(i,f,l){var p=2*this.guessLen13b(i.length,f.length),x=this.makeRBT(p),P=this.stub(p),F=new Array(p),E=new Array(p),u=new Array(p),S=new Array(p),ee=new Array(p),K=new Array(p),X=l.words;X.length=p,this.convert13b(i.words,i.length,F,p),this.convert13b(f.words,f.length,S,p),this.transform(F,P,E,u,p,x),this.transform(S,P,ee,K,p,x);for(var Z=0;Z<p;Z++){var se=E[Z]*ee[Z]-u[Z]*K[Z];u[Z]=E[Z]*K[Z]+u[Z]*ee[Z],E[Z]=se}return this.conjugate(E,u,p),this.transform(E,u,X,P,p,x),this.conjugate(X,P,p),this.normalize13b(X,p),l.negative=i.negative^f.negative,l.length=i.length+f.length,l.strip()},a.prototype.mul=function(i){var f=new a(null);return f.words=new Array(this.length+i.length),this.mulTo(i,f)},a.prototype.mulf=function(i){var f=new a(null);return f.words=new Array(this.length+i.length),ne(this,i,f)},a.prototype.imul=function(i){return this.clone().mulTo(i,this)},a.prototype.imuln=function(i){n(typeof i=="number"),n(i<67108864);for(var f=0,l=0;l<this.length;l++){var p=(this.words[l]|0)*i,x=(p&67108863)+(f&67108863);f>>=26,f+=p/67108864|0,f+=x>>>26,this.words[l]=x&67108863}return f!==0&&(this.words[l]=f,this.length++),this},a.prototype.muln=function(i){return this.clone().imuln(i)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(i){var f=U(i);if(f.length===0)return new a(1);for(var l=this,p=0;p<f.length&&f[p]===0;p++,l=l.sqr());if(++p<f.length)for(var x=l.sqr();p<f.length;p++,x=x.sqr())f[p]!==0&&(l=l.mul(x));return l},a.prototype.iushln=function(i){n(typeof i=="number"&&i>=0);var f=i%26,l=(i-f)/26,p=67108863>>>26-f<<26-f,x;if(f!==0){var P=0;for(x=0;x<this.length;x++){var F=this.words[x]&p,E=(this.words[x]|0)-F<<f;this.words[x]=E|P,P=F>>>26-f}P&&(this.words[x]=P,this.length++)}if(l!==0){for(x=this.length-1;x>=0;x--)this.words[x+l]=this.words[x];for(x=0;x<l;x++)this.words[x]=0;this.length+=l}return this.strip()},a.prototype.ishln=function(i){return n(this.negative===0),this.iushln(i)},a.prototype.iushrn=function(i,f,l){n(typeof i=="number"&&i>=0);var p;f?p=(f-f%26)/26:p=0;var x=i%26,P=Math.min((i-x)/26,this.length),F=67108863^67108863>>>x<<x,E=l;if(p-=P,p=Math.max(0,p),E){for(var u=0;u<P;u++)E.words[u]=this.words[u];E.length=P}if(P!==0)if(this.length>P)for(this.length-=P,u=0;u<this.length;u++)this.words[u]=this.words[u+P];else this.words[0]=0,this.length=1;var S=0;for(u=this.length-1;u>=0&&(S!==0||u>=p);u--){var ee=this.words[u]|0;this.words[u]=S<<26-x|ee>>>x,S=ee&F}return E&&S!==0&&(E.words[E.length++]=S),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},a.prototype.ishrn=function(i,f,l){return n(this.negative===0),this.iushrn(i,f,l)},a.prototype.shln=function(i){return this.clone().ishln(i)},a.prototype.ushln=function(i){return this.clone().iushln(i)},a.prototype.shrn=function(i){return this.clone().ishrn(i)},a.prototype.ushrn=function(i){return this.clone().iushrn(i)},a.prototype.testn=function(i){n(typeof i=="number"&&i>=0);var f=i%26,l=(i-f)/26,p=1<<f;if(this.length<=l)return!1;var x=this.words[l];return!!(x&p)},a.prototype.imaskn=function(i){n(typeof i=="number"&&i>=0);var f=i%26,l=(i-f)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=l)return this;if(f!==0&&l++,this.length=Math.min(l,this.length),f!==0){var p=67108863^67108863>>>f<<f;this.words[this.length-1]&=p}return this.strip()},a.prototype.maskn=function(i){return this.clone().imaskn(i)},a.prototype.iaddn=function(i){return n(typeof i=="number"),n(i<67108864),i<0?this.isubn(-i):this.negative!==0?this.length===1&&(this.words[0]|0)<i?(this.words[0]=i-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(i),this.negative=1,this):this._iaddn(i)},a.prototype._iaddn=function(i){this.words[0]+=i;for(var f=0;f<this.length&&this.words[f]>=67108864;f++)this.words[f]-=67108864,f===this.length-1?this.words[f+1]=1:this.words[f+1]++;return this.length=Math.max(this.length,f+1),this},a.prototype.isubn=function(i){if(n(typeof i=="number"),n(i<67108864),i<0)return this.iaddn(-i);if(this.negative!==0)return this.negative=0,this.iaddn(i),this.negative=1,this;if(this.words[0]-=i,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var f=0;f<this.length&&this.words[f]<0;f++)this.words[f]+=67108864,this.words[f+1]-=1;return this.strip()},a.prototype.addn=function(i){return this.clone().iaddn(i)},a.prototype.subn=function(i){return this.clone().isubn(i)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(i,f,l){var p=i.length+l,x;this._expand(p);var P,F=0;for(x=0;x<i.length;x++){P=(this.words[x+l]|0)+F;var E=(i.words[x]|0)*f;P-=E&67108863,F=(P>>26)-(E/67108864|0),this.words[x+l]=P&67108863}for(;x<this.length-l;x++)P=(this.words[x+l]|0)+F,F=P>>26,this.words[x+l]=P&67108863;if(F===0)return this.strip();for(n(F===-1),F=0,x=0;x<this.length;x++)P=-(this.words[x]|0)+F,F=P>>26,this.words[x]=P&67108863;return this.negative=1,this.strip()},a.prototype._wordDiv=function(i,f){var l=this.length-i.length,p=this.clone(),x=i,P=x.words[x.length-1]|0,F=this._countBits(P);l=26-F,l!==0&&(x=x.ushln(l),p.iushln(l),P=x.words[x.length-1]|0);var E=p.length-x.length,u;if(f!=="mod"){u=new a(null),u.length=E+1,u.words=new Array(u.length);for(var S=0;S<u.length;S++)u.words[S]=0}var ee=p.clone()._ishlnsubmul(x,1,E);ee.negative===0&&(p=ee,u&&(u.words[E]=1));for(var K=E-1;K>=0;K--){var X=(p.words[x.length+K]|0)*67108864+(p.words[x.length+K-1]|0);for(X=Math.min(X/P|0,67108863),p._ishlnsubmul(x,X,K);p.negative!==0;)X--,p.negative=0,p._ishlnsubmul(x,1,K),p.isZero()||(p.negative^=1);u&&(u.words[K]=X)}return u&&u.strip(),p.strip(),f!=="div"&&l!==0&&p.iushrn(l),{div:u||null,mod:p}},a.prototype.divmod=function(i,f,l){if(n(!i.isZero()),this.isZero())return{div:new a(0),mod:new a(0)};var p,x,P;return this.negative!==0&&i.negative===0?(P=this.neg().divmod(i,f),f!=="mod"&&(p=P.div.neg()),f!=="div"&&(x=P.mod.neg(),l&&x.negative!==0&&x.iadd(i)),{div:p,mod:x}):this.negative===0&&i.negative!==0?(P=this.divmod(i.neg(),f),f!=="mod"&&(p=P.div.neg()),{div:p,mod:P.mod}):this.negative&i.negative?(P=this.neg().divmod(i.neg(),f),f!=="div"&&(x=P.mod.neg(),l&&x.negative!==0&&x.isub(i)),{div:P.div,mod:x}):i.length>this.length||this.cmp(i)<0?{div:new a(0),mod:this}:i.length===1?f==="div"?{div:this.divn(i.words[0]),mod:null}:f==="mod"?{div:null,mod:new a(this.modn(i.words[0]))}:{div:this.divn(i.words[0]),mod:new a(this.modn(i.words[0]))}:this._wordDiv(i,f)},a.prototype.div=function(i){return this.divmod(i,"div",!1).div},a.prototype.mod=function(i){return this.divmod(i,"mod",!1).mod},a.prototype.umod=function(i){return this.divmod(i,"mod",!0).mod},a.prototype.divRound=function(i){var f=this.divmod(i);if(f.mod.isZero())return f.div;var l=f.div.negative!==0?f.mod.isub(i):f.mod,p=i.ushrn(1),x=i.andln(1),P=l.cmp(p);return P<0||x===1&&P===0?f.div:f.div.negative!==0?f.div.isubn(1):f.div.iaddn(1)},a.prototype.modn=function(i){n(i<=67108863);for(var f=(1<<26)%i,l=0,p=this.length-1;p>=0;p--)l=(f*l+(this.words[p]|0))%i;return l},a.prototype.idivn=function(i){n(i<=67108863);for(var f=0,l=this.length-1;l>=0;l--){var p=(this.words[l]|0)+f*67108864;this.words[l]=p/i|0,f=p%i}return this.strip()},a.prototype.divn=function(i){return this.clone().idivn(i)},a.prototype.egcd=function(i){n(i.negative===0),n(!i.isZero());var f=this,l=i.clone();f.negative!==0?f=f.umod(i):f=f.clone();for(var p=new a(1),x=new a(0),P=new a(0),F=new a(1),E=0;f.isEven()&&l.isEven();)f.iushrn(1),l.iushrn(1),++E;for(var u=l.clone(),S=f.clone();!f.isZero();){for(var ee=0,K=1;!(f.words[0]&K)&&ee<26;++ee,K<<=1);if(ee>0)for(f.iushrn(ee);ee-- >0;)(p.isOdd()||x.isOdd())&&(p.iadd(u),x.isub(S)),p.iushrn(1),x.iushrn(1);for(var X=0,Z=1;!(l.words[0]&Z)&&X<26;++X,Z<<=1);if(X>0)for(l.iushrn(X);X-- >0;)(P.isOdd()||F.isOdd())&&(P.iadd(u),F.isub(S)),P.iushrn(1),F.iushrn(1);f.cmp(l)>=0?(f.isub(l),p.isub(P),x.isub(F)):(l.isub(f),P.isub(p),F.isub(x))}return{a:P,b:F,gcd:l.iushln(E)}},a.prototype._invmp=function(i){n(i.negative===0),n(!i.isZero());var f=this,l=i.clone();f.negative!==0?f=f.umod(i):f=f.clone();for(var p=new a(1),x=new a(0),P=l.clone();f.cmpn(1)>0&&l.cmpn(1)>0;){for(var F=0,E=1;!(f.words[0]&E)&&F<26;++F,E<<=1);if(F>0)for(f.iushrn(F);F-- >0;)p.isOdd()&&p.iadd(P),p.iushrn(1);for(var u=0,S=1;!(l.words[0]&S)&&u<26;++u,S<<=1);if(u>0)for(l.iushrn(u);u-- >0;)x.isOdd()&&x.iadd(P),x.iushrn(1);f.cmp(l)>=0?(f.isub(l),p.isub(x)):(l.isub(f),x.isub(p))}var ee;return f.cmpn(1)===0?ee=p:ee=x,ee.cmpn(0)<0&&ee.iadd(i),ee},a.prototype.gcd=function(i){if(this.isZero())return i.abs();if(i.isZero())return this.abs();var f=this.clone(),l=i.clone();f.negative=0,l.negative=0;for(var p=0;f.isEven()&&l.isEven();p++)f.iushrn(1),l.iushrn(1);do{for(;f.isEven();)f.iushrn(1);for(;l.isEven();)l.iushrn(1);var x=f.cmp(l);if(x<0){var P=f;f=l,l=P}else if(x===0||l.cmpn(1)===0)break;f.isub(l)}while(!0);return l.iushln(p)},a.prototype.invm=function(i){return this.egcd(i).a.umod(i)},a.prototype.isEven=function(){return(this.words[0]&1)===0},a.prototype.isOdd=function(){return(this.words[0]&1)===1},a.prototype.andln=function(i){return this.words[0]&i},a.prototype.bincn=function(i){n(typeof i=="number");var f=i%26,l=(i-f)/26,p=1<<f;if(this.length<=l)return this._expand(l+1),this.words[l]|=p,this;for(var x=p,P=l;x!==0&&P<this.length;P++){var F=this.words[P]|0;F+=x,x=F>>>26,F&=67108863,this.words[P]=F}return x!==0&&(this.words[P]=x,this.length++),this},a.prototype.isZero=function(){return this.length===1&&this.words[0]===0},a.prototype.cmpn=function(i){var f=i<0;if(this.negative!==0&&!f)return-1;if(this.negative===0&&f)return 1;this.strip();var l;if(this.length>1)l=1;else{f&&(i=-i),n(i<=67108863,"Number is too big");var p=this.words[0]|0;l=p===i?0:p<i?-1:1}return this.negative!==0?-l|0:l},a.prototype.cmp=function(i){if(this.negative!==0&&i.negative===0)return-1;if(this.negative===0&&i.negative!==0)return 1;var f=this.ucmp(i);return this.negative!==0?-f|0:f},a.prototype.ucmp=function(i){if(this.length>i.length)return 1;if(this.length<i.length)return-1;for(var f=0,l=this.length-1;l>=0;l--){var p=this.words[l]|0,x=i.words[l]|0;if(p!==x){p<x?f=-1:p>x&&(f=1);break}}return f},a.prototype.gtn=function(i){return this.cmpn(i)===1},a.prototype.gt=function(i){return this.cmp(i)===1},a.prototype.gten=function(i){return this.cmpn(i)>=0},a.prototype.gte=function(i){return this.cmp(i)>=0},a.prototype.ltn=function(i){return this.cmpn(i)===-1},a.prototype.lt=function(i){return this.cmp(i)===-1},a.prototype.lten=function(i){return this.cmpn(i)<=0},a.prototype.lte=function(i){return this.cmp(i)<=0},a.prototype.eqn=function(i){return this.cmpn(i)===0},a.prototype.eq=function(i){return this.cmp(i)===0},a.red=function(i){return new B(i)},a.prototype.toRed=function(i){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),i.convertTo(this)._forceRed(i)},a.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(i){return this.red=i,this},a.prototype.forceRed=function(i){return n(!this.red,"Already a number in reduction context"),this._forceRed(i)},a.prototype.redAdd=function(i){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,i)},a.prototype.redIAdd=function(i){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,i)},a.prototype.redSub=function(i){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,i)},a.prototype.redISub=function(i){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,i)},a.prototype.redShl=function(i){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,i)},a.prototype.redMul=function(i){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,i),this.red.mul(this,i)},a.prototype.redIMul=function(i){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,i),this.red.imul(this,i)},a.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(i){return n(this.red&&!i.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,i)};var N={k256:null,p224:null,p192:null,p25519:null};function $(m,i){this.name=m,this.p=new a(i,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}$.prototype._tmp=function(){var i=new a(null);return i.words=new Array(Math.ceil(this.n/13)),i},$.prototype.ireduce=function(i){var f=i,l;do this.split(f,this.tmp),f=this.imulK(f),f=f.iadd(this.tmp),l=f.bitLength();while(l>this.n);var p=l<this.n?-1:f.ucmp(this.p);return p===0?(f.words[0]=0,f.length=1):p>0?f.isub(this.p):f.strip!==void 0?f.strip():f._strip(),f},$.prototype.split=function(i,f){i.iushrn(this.n,0,f)},$.prototype.imulK=function(i){return i.imul(this.k)};function M(){$.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}o(M,$),M.prototype.split=function(i,f){for(var l=4194303,p=Math.min(i.length,9),x=0;x<p;x++)f.words[x]=i.words[x];if(f.length=p,i.length<=9){i.words[0]=0,i.length=1;return}var P=i.words[9];for(f.words[f.length++]=P&l,x=10;x<i.length;x++){var F=i.words[x]|0;i.words[x-10]=(F&l)<<4|P>>>22,P=F}P>>>=22,i.words[x-10]=P,P===0&&i.length>10?i.length-=10:i.length-=9},M.prototype.imulK=function(i){i.words[i.length]=0,i.words[i.length+1]=0,i.length+=2;for(var f=0,l=0;l<i.length;l++){var p=i.words[l]|0;f+=p*977,i.words[l]=f&67108863,f=p*64+(f/67108864|0)}return i.words[i.length-1]===0&&(i.length--,i.words[i.length-1]===0&&i.length--),i};function I(){$.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}o(I,$);function c(){$.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}o(c,$);function v(){$.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}o(v,$),v.prototype.imulK=function(i){for(var f=0,l=0;l<i.length;l++){var p=(i.words[l]|0)*19+f,x=p&67108863;p>>>=26,i.words[l]=x,f=p}return f!==0&&(i.words[i.length++]=f),i},a._prime=function(i){if(N[i])return N[i];var f;if(i==="k256")f=new M;else if(i==="p224")f=new I;else if(i==="p192")f=new c;else if(i==="p25519")f=new v;else throw new Error("Unknown prime "+i);return N[i]=f,f};function B(m){if(typeof m=="string"){var i=a._prime(m);this.m=i.p,this.prime=i}else n(m.gtn(1),"modulus must be greater than 1"),this.m=m,this.prime=null}B.prototype._verify1=function(i){n(i.negative===0,"red works only with positives"),n(i.red,"red works only with red numbers")},B.prototype._verify2=function(i,f){n((i.negative|f.negative)===0,"red works only with positives"),n(i.red&&i.red===f.red,"red works only with red numbers")},B.prototype.imod=function(i){return this.prime?this.prime.ireduce(i)._forceRed(this):i.umod(this.m)._forceRed(this)},B.prototype.neg=function(i){return i.isZero()?i.clone():this.m.sub(i)._forceRed(this)},B.prototype.add=function(i,f){this._verify2(i,f);var l=i.add(f);return l.cmp(this.m)>=0&&l.isub(this.m),l._forceRed(this)},B.prototype.iadd=function(i,f){this._verify2(i,f);var l=i.iadd(f);return l.cmp(this.m)>=0&&l.isub(this.m),l},B.prototype.sub=function(i,f){this._verify2(i,f);var l=i.sub(f);return l.cmpn(0)<0&&l.iadd(this.m),l._forceRed(this)},B.prototype.isub=function(i,f){this._verify2(i,f);var l=i.isub(f);return l.cmpn(0)<0&&l.iadd(this.m),l},B.prototype.shl=function(i,f){return this._verify1(i),this.imod(i.ushln(f))},B.prototype.imul=function(i,f){return this._verify2(i,f),this.imod(i.imul(f))},B.prototype.mul=function(i,f){return this._verify2(i,f),this.imod(i.mul(f))},B.prototype.isqr=function(i){return this.imul(i,i.clone())},B.prototype.sqr=function(i){return this.mul(i,i)},B.prototype.sqrt=function(i){if(i.isZero())return i.clone();var f=this.m.andln(3);if(n(f%2===1),f===3){var l=this.m.add(new a(1)).iushrn(2);return this.pow(i,l)}for(var p=this.m.subn(1),x=0;!p.isZero()&&p.andln(1)===0;)x++,p.iushrn(1);n(!p.isZero());var P=new a(1).toRed(this),F=P.redNeg(),E=this.m.subn(1).iushrn(1),u=this.m.bitLength();for(u=new a(2*u*u).toRed(this);this.pow(u,E).cmp(F)!==0;)u.redIAdd(F);for(var S=this.pow(u,p),ee=this.pow(i,p.addn(1).iushrn(1)),K=this.pow(i,p),X=x;K.cmp(P)!==0;){for(var Z=K,se=0;Z.cmp(P)!==0;se++)Z=Z.redSqr();n(se<X);var ge=this.pow(S,new a(1).iushln(X-se-1));ee=ee.redMul(ge),S=ge.redSqr(),K=K.redMul(S),X=se}return ee},B.prototype.invm=function(i){var f=i._invmp(this.m);return f.negative!==0?(f.negative=0,this.imod(f).redNeg()):this.imod(f)},B.prototype.pow=function(i,f){if(f.isZero())return new a(1).toRed(this);if(f.cmpn(1)===0)return i.clone();var l=4,p=new Array(1<<l);p[0]=new a(1).toRed(this),p[1]=i;for(var x=2;x<p.length;x++)p[x]=this.mul(p[x-1],i);var P=p[0],F=0,E=0,u=f.bitLength()%26;for(u===0&&(u=26),x=f.length-1;x>=0;x--){for(var S=f.words[x],ee=u-1;ee>=0;ee--){var K=S>>ee&1;if(P!==p[0]&&(P=this.sqr(P)),K===0&&F===0){E=0;continue}F<<=1,F|=K,E++,!(E!==l&&(x!==0||ee!==0))&&(P=this.mul(P,p[F]),E=0,F=0)}u=26}return P},B.prototype.convertTo=function(i){var f=i.umod(this.m);return f===i?f.clone():f},B.prototype.convertFrom=function(i){var f=i.clone();return f.red=null,f},a.mont=function(i){return new D(i)};function D(m){B.call(this,m),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}o(D,B),D.prototype.convertTo=function(i){return this.imod(i.ushln(this.shift))},D.prototype.convertFrom=function(i){var f=this.imod(i.mul(this.rinv));return f.red=null,f},D.prototype.imul=function(i,f){if(i.isZero()||f.isZero())return i.words[0]=0,i.length=1,i;var l=i.imul(f),p=l.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),x=l.isub(p).iushrn(this.shift),P=x;return x.cmp(this.m)>=0?P=x.isub(this.m):x.cmpn(0)<0&&(P=x.iadd(this.m)),P._forceRed(this)},D.prototype.mul=function(i,f){if(i.isZero()||f.isZero())return new a(0)._forceRed(this);var l=i.mul(f),p=l.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),x=l.isub(p).iushrn(this.shift),P=x;return x.cmp(this.m)>=0?P=x.isub(this.m):x.cmpn(0)<0&&(P=x.iadd(this.m)),P._forceRed(this)},D.prototype.invm=function(i){var f=this.imod(i._invmp(this.m).mul(this.r2));return f._forceRed(this)}})(r,Bt)})(ki);var Tp=ki.exports,Mp=Bt&&Bt.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Dr,"__esModule",{value:!0});Dr.rawEncode=Dr.parseNumber=Dr.solidityPack=void 0;const Er=ct,_r=Mp(Tp),Ip=Oi,co=Lt;function $p(r,e){if(r.length!==e.length)throw new Error("Number of types are not matching the values");const t=[];for(let n=0;n<r.length;n++){const o=ho(r[n]),a=e[n];t.push(uo(o,a,null))}return te.concat(t)}Dr.solidityPack=$p;function On(r){return r.endsWith("]")}function Jn(r){const e=r.match(/(.*)\[(.*?)\]$/u);return e?e[2]===""?"dynamic":parseInt(e[2],10):null}function Jr(r){const e=/^\D+(\d+)$/u.exec(r);if(e===null)throw new Error(`Invalid parseTypeN input "${r}".`);return parseInt(e[1],10)}function xr(r){const e=typeof r;if(e==="string")return(0,Er.isHexPrefixed)(r)?new _r.default((0,Ip.stripHexPrefix)(r),16):new _r.default(r,10);if(e==="number")return new _r.default(r);if(r&&Object.prototype.hasOwnProperty.call(r,"toArray")||_r.default.isBN(r))return r;throw new Error("Argument is not a number")}Dr.parseNumber=xr;function uo(r,e,t){if(On(r)){const n=r.replace(/\[.*?\]/u,"");if(!On(n)){const a=Jn(r);if(a!=="dynamic"&&a!==0&&a!==null&&e.length>a)throw new Error(`Elements exceed array size: ${a}`)}const o=e.map(a=>uo(n,a,256));return te.concat(o)}else{if(r==="bytes")return e;if(r==="string")return te.from(e,"utf8");if(r==="bool"){t=t||8;const n=Array(t/4).join("0");return te.from(e?`${n}1`:`${n}0`,"hex")}else if(r==="address"){let n=20;return t&&(n=t/8),(0,Er.setLengthLeft)((0,Er.toBuffer)(e),n)}else if(r.startsWith("bytes")){const n=Jr(r);if(n<1||n>32)throw new Error(`Invalid bytes<N> width: ${n}`);return typeof e=="number"&&(e=(0,co.normalize)(e)),(0,Er.setLengthRight)((0,Er.toBuffer)(e),n)}else if(r.startsWith("uint")){const n=Jr(r);if(n%8||n<8||n>256)throw new Error(`Invalid uint<N> width: ${n}`);const o=xr(e);if(o.bitLength()>n)throw new Error(`Supplied uint exceeds width: ${n} vs ${o.bitLength()}`);return t=t||n,o.toArrayLike(te,"be",t/8)}else if(r.startsWith("int")){const n=Jr(r);if(n%8||n<8||n>256)throw new Error(`Invalid int<N> width: ${n}`);const o=xr(e);if(o.bitLength()>n)throw new Error(`Supplied int exceeds width: ${n} vs ${o.bitLength()}`);return t=t||n,o.toTwos(n).toArrayLike(te,"be",t/8)}}throw new Error(`Unsupported or invalid type: ${JSON.stringify(r)}`)}function ho(r){return r.startsWith("int[")?`int256${r.slice(3)}`:r==="int"?"int256":r.startsWith("uint[")?`uint256${r.slice(4)}`:r==="uint"?"uint256":r.startsWith("fixed[")?`fixed128x128${r.slice(5)}`:r==="fixed"?"fixed128x128":r.startsWith("ufixed[")?`ufixed128x128${r.slice(6)}`:r==="ufixed"?"ufixed128x128":r}function Cp(r,e){const t=[],n=[];let o=0;r.forEach(a=>{if(On(a)){const g=Jn(a);g!=="dynamic"&&g!==null?o+=32*g:o+=32}else o+=32});for(let a=0;a<r.length;a++){const g=ho(r[a]),d=e[a],b=dr(g,d);Fp(g)?(t.push(dr("uint256",o)),n.push(b),o+=b.length):t.push(b)}return te.concat(t.concat(n))}Dr.rawEncode=Cp;function dr(r,e){if(r==="address")return dr("uint160",xr(e));if(r==="bool")return dr("uint8",e?1:0);if(r==="string")return dr("bytes",te.from(e,"utf8"));if(On(r)){if(typeof e.length>"u")throw new Error("Not an array?");const t=Jn(r);if(t!=="dynamic"&&t!==0&&t!==null&&e.length>t)throw new Error(`Elements exceed array size: ${t}`);const n=[];r=r.slice(0,r.lastIndexOf("[")),typeof e=="string"&&(e=JSON.parse(e));for(const o in e)Object.prototype.hasOwnProperty.call(e,o)&&n.push(dr(r,e[o]));if(t==="dynamic"){const o=dr("uint256",e.length);n.unshift(o)}return te.concat(n)}else if(r==="bytes"){e=te.from(e);let t=te.concat([dr("uint256",e.length),e]);return e.length%32!==0&&(t=te.concat([t,(0,Er.zeros)(32-e.length%32)])),t}else if(r.startsWith("bytes")){const t=Jr(r);if(t<1||t>32)throw new Error(`Invalid bytes<N> width: ${t}`);const n=typeof e=="number"?(0,co.normalize)(e):e;return(0,Er.setLengthRight)((0,Er.toBuffer)(n),32)}else if(r.startsWith("uint")){const t=Jr(r);if(t%8||t<8||t>256)throw new Error(`Invalid uint<N> width: ${t}`);const n=xr(e);if(n.bitLength()>t)throw new Error(`Supplied uint exceeds width: ${t} vs ${n.bitLength()}`);if(n.isNeg())throw new Error("Supplied uint is negative");return n.toArrayLike(te,"be",32)}else if(r.startsWith("int")){const t=Jr(r);if(t%8||t<8||t>256)throw new Error(`Invalid int<N> width: ${t}`);const n=xr(e);if(n.bitLength()>t)throw new Error(`Supplied int exceeds width: ${t} vs ${n.bitLength()}`);return n.toTwos(256).toArrayLike(te,"be",32)}else if(r.startsWith("ufixed")){const t=ma(r),n=xr(e);if(n.isNeg())throw new Error("Supplied ufixed is negative");return dr("uint256",n.mul(new _r.default(2).pow(new _r.default(t[1]))))}else if(r.startsWith("fixed")){const t=ma(r);return dr("int256",xr(e).mul(new _r.default(2).pow(new _r.default(t[1]))))}throw new Error(`Unsupported or invalid type: ${JSON.stringify(r)}`)}function Fp(r){return r==="string"||r==="bytes"||Jn(r)==="dynamic"}function ma(r){const e=/^\D+(\d+)x(\d+)$/u.exec(r);if(e===null||e.length<1)throw new Error(`Invalid parseTypeNxM input "${r}".`);return[parseInt(e[1],10),parseInt(e[2],10)]}(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.recoverTypedSignature=r.signTypedData=r.typedSignatureHash=r.TypedDataUtils=r.TYPED_MESSAGE_SCHEMA=r.SignTypedDataVersion=void 0;const e=ct,t=hn,n=Oi,o=Dr,a=Lt;var g;(function(M){M.V1="V1",M.V3="V3",M.V4="V4"})(g=r.SignTypedDataVersion||(r.SignTypedDataVersion={})),r.TYPED_MESSAGE_SCHEMA={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]};function d(M,I){if(Object.keys(g).includes(M)){if(I&&!I.includes(M))throw new Error(`SignTypedDataVersion not allowed: '${M}'. Allowed versions are: ${I.join(", ")}`)}else throw new Error(`Invalid version: '${M}'`)}function b(M,I,c,v,B){if(d(B,[g.V3,g.V4]),M[c]!==void 0)return["bytes32",B===g.V4&&v==null?"0x0000000000000000000000000000000000000000000000000000000000000000":(0,e.arrToBufArr)((0,t.keccak256)(T(c,v,M,B)))];if(v===void 0)throw new Error(`missing value for field ${I} of type ${c}`);if(c==="bytes"){if(typeof v=="number")v=(0,a.numberToBuffer)(v);else if((0,n.isHexString)(v)){const D=v.length%2?"0":"";v=te.from(D+v.slice(2),"hex")}else v=te.from(v,"utf8");return["bytes32",(0,e.arrToBufArr)((0,t.keccak256)(v))]}if(c==="string")return typeof v=="number"?v=(0,a.numberToBuffer)(v):v=te.from(v??"","utf8"),["bytes32",(0,e.arrToBufArr)((0,t.keccak256)(v))];if(c.endsWith("]")){if(B===g.V3)throw new Error("Arrays are unimplemented in encodeData; use V4 extension");const D=c.slice(0,c.lastIndexOf("[")),m=v.map(i=>b(M,I,D,i,B));return["bytes32",(0,e.arrToBufArr)((0,t.keccak256)((0,o.rawEncode)(m.map(([i])=>i),m.map(([,i])=>i))))]}return[c,v]}function T(M,I,c,v){d(v,[g.V3,g.V4]);const B=["bytes32"],D=[U(M,c)];for(const m of c[M]){if(v===g.V3&&I[m.name]===void 0)continue;const[i,f]=b(c,m.name,m.type,I[m.name],v);B.push(i),D.push(f)}return(0,o.rawEncode)(B,D)}function A(M,I){let c="";const v=H(M,I);v.delete(M);const B=[M,...Array.from(v).sort()];for(const D of B){if(!I[D])throw new Error(`No type definition specified: ${D}`);c+=`${D}(${I[D].map(({name:i,type:f})=>`${f} ${i}`).join(",")})`}return c}function H(M,I,c=new Set){if(typeof M!="string")throw new Error(`Invalid findTypeDependencies input ${JSON.stringify(M)}`);if([M]=M.match(/^\w*/u),c.has(M)||I[M]===void 0)return c;c.add(M);for(const B of I[M])H(B.type,I,c);return c}function O(M,I,c,v){d(v,[g.V3,g.V4]);const B=T(M,I,c,v),D=(0,t.keccak256)(B);return(0,e.arrToBufArr)(D)}function U(M,I){const c=te.from(A(M,I),"utf-8");return(0,e.arrToBufArr)((0,t.keccak256)(c))}function j(M){const I={};for(const c in r.TYPED_MESSAGE_SCHEMA.properties)M[c]&&(I[c]=M[c]);return"types"in I&&(I.types=Object.assign({EIP712Domain:[]},I.types)),I}function Q(M,I){d(I,[g.V3,g.V4]);const c=j(M),{domain:v}=c,B={EIP712Domain:c.types.EIP712Domain};return O("EIP712Domain",v,B,I)}function V(M,I){d(I,[g.V3,g.V4]);const c=j(M),v=[te.from("1901","hex")];return v.push(Q(M,I)),c.primaryType!=="EIP712Domain"&&v.push(O(c.primaryType,c.message,c.types,I)),(0,e.arrToBufArr)((0,t.keccak256)(te.concat(v)))}r.TypedDataUtils={encodeData:T,encodeType:A,findTypeDependencies:H,hashStruct:O,hashType:U,sanitizeData:j,eip712Hash:V,eip712DomainHash:Q};function ne(M){const I=L(M);return(0,e.bufferToHex)(I)}r.typedSignatureHash=ne;function L(M){const I=new Error("Expect argument to be non-empty array");if(typeof M!="object"||!("length"in M)||!M.length)throw I;const c=M.map(function(D){return D.type!=="bytes"?D.value:(0,a.legacyToBuffer)(D.value)}),v=M.map(function(D){return D.type}),B=M.map(function(D){if(!D.name)throw I;return`${D.type} ${D.name}`});return(0,e.arrToBufArr)((0,t.keccak256)((0,o.solidityPack)(["bytes32","bytes32"],[(0,t.keccak256)((0,o.solidityPack)(new Array(M.length).fill("string"),B)),(0,t.keccak256)((0,o.solidityPack)(v,c))])))}function N({privateKey:M,data:I,version:c}){if(d(c),(0,a.isNullish)(I))throw new Error("Missing data parameter");if((0,a.isNullish)(M))throw new Error("Missing private key parameter");const v=c===g.V1?L(I):r.TypedDataUtils.eip712Hash(I,c),B=(0,e.ecsign)(v,M);return(0,a.concatSig)((0,e.toBuffer)(B.v),B.r,B.s)}r.signTypedData=N;function $({data:M,signature:I,version:c}){if(d(c),(0,a.isNullish)(M))throw new Error("Missing data parameter");if((0,a.isNullish)(I))throw new Error("Missing signature parameter");const v=c===g.V1?L(M):r.TypedDataUtils.eip712Hash(M,c),B=(0,a.recoverPublicKey)(v,I),D=(0,e.publicToAddress)(B);return(0,e.bufferToHex)(D)}r.recoverTypedSignature=$})(fo);var ir={},lo={exports:{}};(function(r){(function(e){var t=function(h){var w,y=new Float64Array(16);if(h)for(w=0;w<h.length;w++)y[w]=h[w];return y},n=function(){throw new Error("no PRNG")},o=new Uint8Array(16),a=new Uint8Array(32);a[0]=9;var g=t(),d=t([1]),b=t([56129,1]),T=t([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),A=t([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),H=t([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),O=t([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),U=t([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function j(h,w,y,s){h[w]=y>>24&255,h[w+1]=y>>16&255,h[w+2]=y>>8&255,h[w+3]=y&255,h[w+4]=s>>24&255,h[w+5]=s>>16&255,h[w+6]=s>>8&255,h[w+7]=s&255}function Q(h,w,y,s,_){var k,R=0;for(k=0;k<_;k++)R|=h[w+k]^y[s+k];return(1&R-1>>>8)-1}function V(h,w,y,s){return Q(h,w,y,s,16)}function ne(h,w,y,s){return Q(h,w,y,s,32)}function L(h,w,y,s){for(var _=s[0]&255|(s[1]&255)<<8|(s[2]&255)<<16|(s[3]&255)<<24,k=y[0]&255|(y[1]&255)<<8|(y[2]&255)<<16|(y[3]&255)<<24,R=y[4]&255|(y[5]&255)<<8|(y[6]&255)<<16|(y[7]&255)<<24,q=y[8]&255|(y[9]&255)<<8|(y[10]&255)<<16|(y[11]&255)<<24,J=y[12]&255|(y[13]&255)<<8|(y[14]&255)<<16|(y[15]&255)<<24,le=s[4]&255|(s[5]&255)<<8|(s[6]&255)<<16|(s[7]&255)<<24,oe=w[0]&255|(w[1]&255)<<8|(w[2]&255)<<16|(w[3]&255)<<24,Ve=w[4]&255|(w[5]&255)<<8|(w[6]&255)<<16|(w[7]&255)<<24,ce=w[8]&255|(w[9]&255)<<8|(w[10]&255)<<16|(w[11]&255)<<24,we=w[12]&255|(w[13]&255)<<8|(w[14]&255)<<16|(w[15]&255)<<24,xe=s[8]&255|(s[9]&255)<<8|(s[10]&255)<<16|(s[11]&255)<<24,Ae=y[16]&255|(y[17]&255)<<8|(y[18]&255)<<16|(y[19]&255)<<24,Se=y[20]&255|(y[21]&255)<<8|(y[22]&255)<<16|(y[23]&255)<<24,Ee=y[24]&255|(y[25]&255)<<8|(y[26]&255)<<16|(y[27]&255)<<24,Pe=y[28]&255|(y[29]&255)<<8|(y[30]&255)<<16|(y[31]&255)<<24,_e=s[12]&255|(s[13]&255)<<8|(s[14]&255)<<16|(s[15]&255)<<24,ue=_,me=k,fe=R,he=q,de=J,ae=le,G=oe,z=Ve,re=ce,Y=we,W=xe,ie=Ae,be=Se,$e=Ee,Re=Pe,Ce=_e,C,Ke=0;Ke<20;Ke+=2)C=ue+be|0,de^=C<<7|C>>>32-7,C=de+ue|0,re^=C<<9|C>>>32-9,C=re+de|0,be^=C<<13|C>>>32-13,C=be+re|0,ue^=C<<18|C>>>32-18,C=ae+me|0,Y^=C<<7|C>>>32-7,C=Y+ae|0,$e^=C<<9|C>>>32-9,C=$e+Y|0,me^=C<<13|C>>>32-13,C=me+$e|0,ae^=C<<18|C>>>32-18,C=W+G|0,Re^=C<<7|C>>>32-7,C=Re+W|0,fe^=C<<9|C>>>32-9,C=fe+Re|0,G^=C<<13|C>>>32-13,C=G+fe|0,W^=C<<18|C>>>32-18,C=Ce+ie|0,he^=C<<7|C>>>32-7,C=he+Ce|0,z^=C<<9|C>>>32-9,C=z+he|0,ie^=C<<13|C>>>32-13,C=ie+z|0,Ce^=C<<18|C>>>32-18,C=ue+he|0,me^=C<<7|C>>>32-7,C=me+ue|0,fe^=C<<9|C>>>32-9,C=fe+me|0,he^=C<<13|C>>>32-13,C=he+fe|0,ue^=C<<18|C>>>32-18,C=ae+de|0,G^=C<<7|C>>>32-7,C=G+ae|0,z^=C<<9|C>>>32-9,C=z+G|0,de^=C<<13|C>>>32-13,C=de+z|0,ae^=C<<18|C>>>32-18,C=W+Y|0,ie^=C<<7|C>>>32-7,C=ie+W|0,re^=C<<9|C>>>32-9,C=re+ie|0,Y^=C<<13|C>>>32-13,C=Y+re|0,W^=C<<18|C>>>32-18,C=Ce+Re|0,be^=C<<7|C>>>32-7,C=be+Ce|0,$e^=C<<9|C>>>32-9,C=$e+be|0,Re^=C<<13|C>>>32-13,C=Re+$e|0,Ce^=C<<18|C>>>32-18;ue=ue+_|0,me=me+k|0,fe=fe+R|0,he=he+q|0,de=de+J|0,ae=ae+le|0,G=G+oe|0,z=z+Ve|0,re=re+ce|0,Y=Y+we|0,W=W+xe|0,ie=ie+Ae|0,be=be+Se|0,$e=$e+Ee|0,Re=Re+Pe|0,Ce=Ce+_e|0,h[0]=ue>>>0&255,h[1]=ue>>>8&255,h[2]=ue>>>16&255,h[3]=ue>>>24&255,h[4]=me>>>0&255,h[5]=me>>>8&255,h[6]=me>>>16&255,h[7]=me>>>24&255,h[8]=fe>>>0&255,h[9]=fe>>>8&255,h[10]=fe>>>16&255,h[11]=fe>>>24&255,h[12]=he>>>0&255,h[13]=he>>>8&255,h[14]=he>>>16&255,h[15]=he>>>24&255,h[16]=de>>>0&255,h[17]=de>>>8&255,h[18]=de>>>16&255,h[19]=de>>>24&255,h[20]=ae>>>0&255,h[21]=ae>>>8&255,h[22]=ae>>>16&255,h[23]=ae>>>24&255,h[24]=G>>>0&255,h[25]=G>>>8&255,h[26]=G>>>16&255,h[27]=G>>>24&255,h[28]=z>>>0&255,h[29]=z>>>8&255,h[30]=z>>>16&255,h[31]=z>>>24&255,h[32]=re>>>0&255,h[33]=re>>>8&255,h[34]=re>>>16&255,h[35]=re>>>24&255,h[36]=Y>>>0&255,h[37]=Y>>>8&255,h[38]=Y>>>16&255,h[39]=Y>>>24&255,h[40]=W>>>0&255,h[41]=W>>>8&255,h[42]=W>>>16&255,h[43]=W>>>24&255,h[44]=ie>>>0&255,h[45]=ie>>>8&255,h[46]=ie>>>16&255,h[47]=ie>>>24&255,h[48]=be>>>0&255,h[49]=be>>>8&255,h[50]=be>>>16&255,h[51]=be>>>24&255,h[52]=$e>>>0&255,h[53]=$e>>>8&255,h[54]=$e>>>16&255,h[55]=$e>>>24&255,h[56]=Re>>>0&255,h[57]=Re>>>8&255,h[58]=Re>>>16&255,h[59]=Re>>>24&255,h[60]=Ce>>>0&255,h[61]=Ce>>>8&255,h[62]=Ce>>>16&255,h[63]=Ce>>>24&255}function N(h,w,y,s){for(var _=s[0]&255|(s[1]&255)<<8|(s[2]&255)<<16|(s[3]&255)<<24,k=y[0]&255|(y[1]&255)<<8|(y[2]&255)<<16|(y[3]&255)<<24,R=y[4]&255|(y[5]&255)<<8|(y[6]&255)<<16|(y[7]&255)<<24,q=y[8]&255|(y[9]&255)<<8|(y[10]&255)<<16|(y[11]&255)<<24,J=y[12]&255|(y[13]&255)<<8|(y[14]&255)<<16|(y[15]&255)<<24,le=s[4]&255|(s[5]&255)<<8|(s[6]&255)<<16|(s[7]&255)<<24,oe=w[0]&255|(w[1]&255)<<8|(w[2]&255)<<16|(w[3]&255)<<24,Ve=w[4]&255|(w[5]&255)<<8|(w[6]&255)<<16|(w[7]&255)<<24,ce=w[8]&255|(w[9]&255)<<8|(w[10]&255)<<16|(w[11]&255)<<24,we=w[12]&255|(w[13]&255)<<8|(w[14]&255)<<16|(w[15]&255)<<24,xe=s[8]&255|(s[9]&255)<<8|(s[10]&255)<<16|(s[11]&255)<<24,Ae=y[16]&255|(y[17]&255)<<8|(y[18]&255)<<16|(y[19]&255)<<24,Se=y[20]&255|(y[21]&255)<<8|(y[22]&255)<<16|(y[23]&255)<<24,Ee=y[24]&255|(y[25]&255)<<8|(y[26]&255)<<16|(y[27]&255)<<24,Pe=y[28]&255|(y[29]&255)<<8|(y[30]&255)<<16|(y[31]&255)<<24,_e=s[12]&255|(s[13]&255)<<8|(s[14]&255)<<16|(s[15]&255)<<24,ue=_,me=k,fe=R,he=q,de=J,ae=le,G=oe,z=Ve,re=ce,Y=we,W=xe,ie=Ae,be=Se,$e=Ee,Re=Pe,Ce=_e,C,Ke=0;Ke<20;Ke+=2)C=ue+be|0,de^=C<<7|C>>>32-7,C=de+ue|0,re^=C<<9|C>>>32-9,C=re+de|0,be^=C<<13|C>>>32-13,C=be+re|0,ue^=C<<18|C>>>32-18,C=ae+me|0,Y^=C<<7|C>>>32-7,C=Y+ae|0,$e^=C<<9|C>>>32-9,C=$e+Y|0,me^=C<<13|C>>>32-13,C=me+$e|0,ae^=C<<18|C>>>32-18,C=W+G|0,Re^=C<<7|C>>>32-7,C=Re+W|0,fe^=C<<9|C>>>32-9,C=fe+Re|0,G^=C<<13|C>>>32-13,C=G+fe|0,W^=C<<18|C>>>32-18,C=Ce+ie|0,he^=C<<7|C>>>32-7,C=he+Ce|0,z^=C<<9|C>>>32-9,C=z+he|0,ie^=C<<13|C>>>32-13,C=ie+z|0,Ce^=C<<18|C>>>32-18,C=ue+he|0,me^=C<<7|C>>>32-7,C=me+ue|0,fe^=C<<9|C>>>32-9,C=fe+me|0,he^=C<<13|C>>>32-13,C=he+fe|0,ue^=C<<18|C>>>32-18,C=ae+de|0,G^=C<<7|C>>>32-7,C=G+ae|0,z^=C<<9|C>>>32-9,C=z+G|0,de^=C<<13|C>>>32-13,C=de+z|0,ae^=C<<18|C>>>32-18,C=W+Y|0,ie^=C<<7|C>>>32-7,C=ie+W|0,re^=C<<9|C>>>32-9,C=re+ie|0,Y^=C<<13|C>>>32-13,C=Y+re|0,W^=C<<18|C>>>32-18,C=Ce+Re|0,be^=C<<7|C>>>32-7,C=be+Ce|0,$e^=C<<9|C>>>32-9,C=$e+be|0,Re^=C<<13|C>>>32-13,C=Re+$e|0,Ce^=C<<18|C>>>32-18;h[0]=ue>>>0&255,h[1]=ue>>>8&255,h[2]=ue>>>16&255,h[3]=ue>>>24&255,h[4]=ae>>>0&255,h[5]=ae>>>8&255,h[6]=ae>>>16&255,h[7]=ae>>>24&255,h[8]=W>>>0&255,h[9]=W>>>8&255,h[10]=W>>>16&255,h[11]=W>>>24&255,h[12]=Ce>>>0&255,h[13]=Ce>>>8&255,h[14]=Ce>>>16&255,h[15]=Ce>>>24&255,h[16]=G>>>0&255,h[17]=G>>>8&255,h[18]=G>>>16&255,h[19]=G>>>24&255,h[20]=z>>>0&255,h[21]=z>>>8&255,h[22]=z>>>16&255,h[23]=z>>>24&255,h[24]=re>>>0&255,h[25]=re>>>8&255,h[26]=re>>>16&255,h[27]=re>>>24&255,h[28]=Y>>>0&255,h[29]=Y>>>8&255,h[30]=Y>>>16&255,h[31]=Y>>>24&255}function $(h,w,y,s){L(h,w,y,s)}function M(h,w,y,s){N(h,w,y,s)}var I=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function c(h,w,y,s,_,k,R){var q=new Uint8Array(16),J=new Uint8Array(64),le,oe;for(oe=0;oe<16;oe++)q[oe]=0;for(oe=0;oe<8;oe++)q[oe]=k[oe];for(;_>=64;){for($(J,q,R,I),oe=0;oe<64;oe++)h[w+oe]=y[s+oe]^J[oe];for(le=1,oe=8;oe<16;oe++)le=le+(q[oe]&255)|0,q[oe]=le&255,le>>>=8;_-=64,w+=64,s+=64}if(_>0)for($(J,q,R,I),oe=0;oe<_;oe++)h[w+oe]=y[s+oe]^J[oe];return 0}function v(h,w,y,s,_){var k=new Uint8Array(16),R=new Uint8Array(64),q,J;for(J=0;J<16;J++)k[J]=0;for(J=0;J<8;J++)k[J]=s[J];for(;y>=64;){for($(R,k,_,I),J=0;J<64;J++)h[w+J]=R[J];for(q=1,J=8;J<16;J++)q=q+(k[J]&255)|0,k[J]=q&255,q>>>=8;y-=64,w+=64}if(y>0)for($(R,k,_,I),J=0;J<y;J++)h[w+J]=R[J];return 0}function B(h,w,y,s,_){var k=new Uint8Array(32);M(k,s,_,I);for(var R=new Uint8Array(8),q=0;q<8;q++)R[q]=s[q+16];return v(h,w,y,R,k)}function D(h,w,y,s,_,k,R){var q=new Uint8Array(32);M(q,k,R,I);for(var J=new Uint8Array(8),le=0;le<8;le++)J[le]=k[le+16];return c(h,w,y,s,_,J,q)}var m=function(h){this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0;var w,y,s,_,k,R,q,J;w=h[0]&255|(h[1]&255)<<8,this.r[0]=w&8191,y=h[2]&255|(h[3]&255)<<8,this.r[1]=(w>>>13|y<<3)&8191,s=h[4]&255|(h[5]&255)<<8,this.r[2]=(y>>>10|s<<6)&7939,_=h[6]&255|(h[7]&255)<<8,this.r[3]=(s>>>7|_<<9)&8191,k=h[8]&255|(h[9]&255)<<8,this.r[4]=(_>>>4|k<<12)&255,this.r[5]=k>>>1&8190,R=h[10]&255|(h[11]&255)<<8,this.r[6]=(k>>>14|R<<2)&8191,q=h[12]&255|(h[13]&255)<<8,this.r[7]=(R>>>11|q<<5)&8065,J=h[14]&255|(h[15]&255)<<8,this.r[8]=(q>>>8|J<<8)&8191,this.r[9]=J>>>5&127,this.pad[0]=h[16]&255|(h[17]&255)<<8,this.pad[1]=h[18]&255|(h[19]&255)<<8,this.pad[2]=h[20]&255|(h[21]&255)<<8,this.pad[3]=h[22]&255|(h[23]&255)<<8,this.pad[4]=h[24]&255|(h[25]&255)<<8,this.pad[5]=h[26]&255|(h[27]&255)<<8,this.pad[6]=h[28]&255|(h[29]&255)<<8,this.pad[7]=h[30]&255|(h[31]&255)<<8};m.prototype.blocks=function(h,w,y){for(var s=this.fin?0:2048,_,k,R,q,J,le,oe,Ve,ce,we,xe,Ae,Se,Ee,Pe,_e,ue,me,fe,he=this.h[0],de=this.h[1],ae=this.h[2],G=this.h[3],z=this.h[4],re=this.h[5],Y=this.h[6],W=this.h[7],ie=this.h[8],be=this.h[9],$e=this.r[0],Re=this.r[1],Ce=this.r[2],C=this.r[3],Ke=this.r[4],Je=this.r[5],Qe=this.r[6],ze=this.r[7],Ye=this.r[8],We=this.r[9];y>=16;)_=h[w+0]&255|(h[w+1]&255)<<8,he+=_&8191,k=h[w+2]&255|(h[w+3]&255)<<8,de+=(_>>>13|k<<3)&8191,R=h[w+4]&255|(h[w+5]&255)<<8,ae+=(k>>>10|R<<6)&8191,q=h[w+6]&255|(h[w+7]&255)<<8,G+=(R>>>7|q<<9)&8191,J=h[w+8]&255|(h[w+9]&255)<<8,z+=(q>>>4|J<<12)&8191,re+=J>>>1&8191,le=h[w+10]&255|(h[w+11]&255)<<8,Y+=(J>>>14|le<<2)&8191,oe=h[w+12]&255|(h[w+13]&255)<<8,W+=(le>>>11|oe<<5)&8191,Ve=h[w+14]&255|(h[w+15]&255)<<8,ie+=(oe>>>8|Ve<<8)&8191,be+=Ve>>>5|s,ce=0,we=ce,we+=he*$e,we+=de*(5*We),we+=ae*(5*Ye),we+=G*(5*ze),we+=z*(5*Qe),ce=we>>>13,we&=8191,we+=re*(5*Je),we+=Y*(5*Ke),we+=W*(5*C),we+=ie*(5*Ce),we+=be*(5*Re),ce+=we>>>13,we&=8191,xe=ce,xe+=he*Re,xe+=de*$e,xe+=ae*(5*We),xe+=G*(5*Ye),xe+=z*(5*ze),ce=xe>>>13,xe&=8191,xe+=re*(5*Qe),xe+=Y*(5*Je),xe+=W*(5*Ke),xe+=ie*(5*C),xe+=be*(5*Ce),ce+=xe>>>13,xe&=8191,Ae=ce,Ae+=he*Ce,Ae+=de*Re,Ae+=ae*$e,Ae+=G*(5*We),Ae+=z*(5*Ye),ce=Ae>>>13,Ae&=8191,Ae+=re*(5*ze),Ae+=Y*(5*Qe),Ae+=W*(5*Je),Ae+=ie*(5*Ke),Ae+=be*(5*C),ce+=Ae>>>13,Ae&=8191,Se=ce,Se+=he*C,Se+=de*Ce,Se+=ae*Re,Se+=G*$e,Se+=z*(5*We),ce=Se>>>13,Se&=8191,Se+=re*(5*Ye),Se+=Y*(5*ze),Se+=W*(5*Qe),Se+=ie*(5*Je),Se+=be*(5*Ke),ce+=Se>>>13,Se&=8191,Ee=ce,Ee+=he*Ke,Ee+=de*C,Ee+=ae*Ce,Ee+=G*Re,Ee+=z*$e,ce=Ee>>>13,Ee&=8191,Ee+=re*(5*We),Ee+=Y*(5*Ye),Ee+=W*(5*ze),Ee+=ie*(5*Qe),Ee+=be*(5*Je),ce+=Ee>>>13,Ee&=8191,Pe=ce,Pe+=he*Je,Pe+=de*Ke,Pe+=ae*C,Pe+=G*Ce,Pe+=z*Re,ce=Pe>>>13,Pe&=8191,Pe+=re*$e,Pe+=Y*(5*We),Pe+=W*(5*Ye),Pe+=ie*(5*ze),Pe+=be*(5*Qe),ce+=Pe>>>13,Pe&=8191,_e=ce,_e+=he*Qe,_e+=de*Je,_e+=ae*Ke,_e+=G*C,_e+=z*Ce,ce=_e>>>13,_e&=8191,_e+=re*Re,_e+=Y*$e,_e+=W*(5*We),_e+=ie*(5*Ye),_e+=be*(5*ze),ce+=_e>>>13,_e&=8191,ue=ce,ue+=he*ze,ue+=de*Qe,ue+=ae*Je,ue+=G*Ke,ue+=z*C,ce=ue>>>13,ue&=8191,ue+=re*Ce,ue+=Y*Re,ue+=W*$e,ue+=ie*(5*We),ue+=be*(5*Ye),ce+=ue>>>13,ue&=8191,me=ce,me+=he*Ye,me+=de*ze,me+=ae*Qe,me+=G*Je,me+=z*Ke,ce=me>>>13,me&=8191,me+=re*C,me+=Y*Ce,me+=W*Re,me+=ie*$e,me+=be*(5*We),ce+=me>>>13,me&=8191,fe=ce,fe+=he*We,fe+=de*Ye,fe+=ae*ze,fe+=G*Qe,fe+=z*Je,ce=fe>>>13,fe&=8191,fe+=re*Ke,fe+=Y*C,fe+=W*Ce,fe+=ie*Re,fe+=be*$e,ce+=fe>>>13,fe&=8191,ce=(ce<<2)+ce|0,ce=ce+we|0,we=ce&8191,ce=ce>>>13,xe+=ce,he=we,de=xe,ae=Ae,G=Se,z=Ee,re=Pe,Y=_e,W=ue,ie=me,be=fe,w+=16,y-=16;this.h[0]=he,this.h[1]=de,this.h[2]=ae,this.h[3]=G,this.h[4]=z,this.h[5]=re,this.h[6]=Y,this.h[7]=W,this.h[8]=ie,this.h[9]=be},m.prototype.finish=function(h,w){var y=new Uint16Array(10),s,_,k,R;if(this.leftover){for(R=this.leftover,this.buffer[R++]=1;R<16;R++)this.buffer[R]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(s=this.h[1]>>>13,this.h[1]&=8191,R=2;R<10;R++)this.h[R]+=s,s=this.h[R]>>>13,this.h[R]&=8191;for(this.h[0]+=s*5,s=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=s,s=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=s,y[0]=this.h[0]+5,s=y[0]>>>13,y[0]&=8191,R=1;R<10;R++)y[R]=this.h[R]+s,s=y[R]>>>13,y[R]&=8191;for(y[9]-=8192,_=(s^1)-1,R=0;R<10;R++)y[R]&=_;for(_=~_,R=0;R<10;R++)this.h[R]=this.h[R]&_|y[R];for(this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535,k=this.h[0]+this.pad[0],this.h[0]=k&65535,R=1;R<8;R++)k=(this.h[R]+this.pad[R]|0)+(k>>>16)|0,this.h[R]=k&65535;h[w+0]=this.h[0]>>>0&255,h[w+1]=this.h[0]>>>8&255,h[w+2]=this.h[1]>>>0&255,h[w+3]=this.h[1]>>>8&255,h[w+4]=this.h[2]>>>0&255,h[w+5]=this.h[2]>>>8&255,h[w+6]=this.h[3]>>>0&255,h[w+7]=this.h[3]>>>8&255,h[w+8]=this.h[4]>>>0&255,h[w+9]=this.h[4]>>>8&255,h[w+10]=this.h[5]>>>0&255,h[w+11]=this.h[5]>>>8&255,h[w+12]=this.h[6]>>>0&255,h[w+13]=this.h[6]>>>8&255,h[w+14]=this.h[7]>>>0&255,h[w+15]=this.h[7]>>>8&255},m.prototype.update=function(h,w,y){var s,_;if(this.leftover){for(_=16-this.leftover,_>y&&(_=y),s=0;s<_;s++)this.buffer[this.leftover+s]=h[w+s];if(y-=_,w+=_,this.leftover+=_,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(y>=16&&(_=y-y%16,this.blocks(h,w,_),w+=_,y-=_),y){for(s=0;s<y;s++)this.buffer[this.leftover+s]=h[w+s];this.leftover+=y}};function i(h,w,y,s,_,k){var R=new m(k);return R.update(y,s,_),R.finish(h,w),0}function f(h,w,y,s,_,k){var R=new Uint8Array(16);return i(R,0,y,s,_,k),V(h,w,R,0)}function l(h,w,y,s,_){var k;if(y<32)return-1;for(D(h,0,w,0,y,s,_),i(h,16,h,32,y-32,h),k=0;k<16;k++)h[k]=0;return 0}function p(h,w,y,s,_){var k,R=new Uint8Array(32);if(y<32||(B(R,0,32,s,_),f(w,16,w,32,y-32,R)!==0))return-1;for(D(h,0,w,0,y,s,_),k=0;k<32;k++)h[k]=0;return 0}function x(h,w){var y;for(y=0;y<16;y++)h[y]=w[y]|0}function P(h){var w,y,s=1;for(w=0;w<16;w++)y=h[w]+s+65535,s=Math.floor(y/65536),h[w]=y-s*65536;h[0]+=s-1+37*(s-1)}function F(h,w,y){for(var s,_=~(y-1),k=0;k<16;k++)s=_&(h[k]^w[k]),h[k]^=s,w[k]^=s}function E(h,w){var y,s,_,k=t(),R=t();for(y=0;y<16;y++)R[y]=w[y];for(P(R),P(R),P(R),s=0;s<2;s++){for(k[0]=R[0]-65517,y=1;y<15;y++)k[y]=R[y]-65535-(k[y-1]>>16&1),k[y-1]&=65535;k[15]=R[15]-32767-(k[14]>>16&1),_=k[15]>>16&1,k[14]&=65535,F(R,k,1-_)}for(y=0;y<16;y++)h[2*y]=R[y]&255,h[2*y+1]=R[y]>>8}function u(h,w){var y=new Uint8Array(32),s=new Uint8Array(32);return E(y,h),E(s,w),ne(y,0,s,0)}function S(h){var w=new Uint8Array(32);return E(w,h),w[0]&1}function ee(h,w){var y;for(y=0;y<16;y++)h[y]=w[2*y]+(w[2*y+1]<<8);h[15]&=32767}function K(h,w,y){for(var s=0;s<16;s++)h[s]=w[s]+y[s]}function X(h,w,y){for(var s=0;s<16;s++)h[s]=w[s]-y[s]}function Z(h,w,y){var s,_,k=0,R=0,q=0,J=0,le=0,oe=0,Ve=0,ce=0,we=0,xe=0,Ae=0,Se=0,Ee=0,Pe=0,_e=0,ue=0,me=0,fe=0,he=0,de=0,ae=0,G=0,z=0,re=0,Y=0,W=0,ie=0,be=0,$e=0,Re=0,Ce=0,C=y[0],Ke=y[1],Je=y[2],Qe=y[3],ze=y[4],Ye=y[5],We=y[6],Ot=y[7],st=y[8],It=y[9],$t=y[10],Ct=y[11],Ht=y[12],Gt=y[13],zt=y[14],jt=y[15];s=w[0],k+=s*C,R+=s*Ke,q+=s*Je,J+=s*Qe,le+=s*ze,oe+=s*Ye,Ve+=s*We,ce+=s*Ot,we+=s*st,xe+=s*It,Ae+=s*$t,Se+=s*Ct,Ee+=s*Ht,Pe+=s*Gt,_e+=s*zt,ue+=s*jt,s=w[1],R+=s*C,q+=s*Ke,J+=s*Je,le+=s*Qe,oe+=s*ze,Ve+=s*Ye,ce+=s*We,we+=s*Ot,xe+=s*st,Ae+=s*It,Se+=s*$t,Ee+=s*Ct,Pe+=s*Ht,_e+=s*Gt,ue+=s*zt,me+=s*jt,s=w[2],q+=s*C,J+=s*Ke,le+=s*Je,oe+=s*Qe,Ve+=s*ze,ce+=s*Ye,we+=s*We,xe+=s*Ot,Ae+=s*st,Se+=s*It,Ee+=s*$t,Pe+=s*Ct,_e+=s*Ht,ue+=s*Gt,me+=s*zt,fe+=s*jt,s=w[3],J+=s*C,le+=s*Ke,oe+=s*Je,Ve+=s*Qe,ce+=s*ze,we+=s*Ye,xe+=s*We,Ae+=s*Ot,Se+=s*st,Ee+=s*It,Pe+=s*$t,_e+=s*Ct,ue+=s*Ht,me+=s*Gt,fe+=s*zt,he+=s*jt,s=w[4],le+=s*C,oe+=s*Ke,Ve+=s*Je,ce+=s*Qe,we+=s*ze,xe+=s*Ye,Ae+=s*We,Se+=s*Ot,Ee+=s*st,Pe+=s*It,_e+=s*$t,ue+=s*Ct,me+=s*Ht,fe+=s*Gt,he+=s*zt,de+=s*jt,s=w[5],oe+=s*C,Ve+=s*Ke,ce+=s*Je,we+=s*Qe,xe+=s*ze,Ae+=s*Ye,Se+=s*We,Ee+=s*Ot,Pe+=s*st,_e+=s*It,ue+=s*$t,me+=s*Ct,fe+=s*Ht,he+=s*Gt,de+=s*zt,ae+=s*jt,s=w[6],Ve+=s*C,ce+=s*Ke,we+=s*Je,xe+=s*Qe,Ae+=s*ze,Se+=s*Ye,Ee+=s*We,Pe+=s*Ot,_e+=s*st,ue+=s*It,me+=s*$t,fe+=s*Ct,he+=s*Ht,de+=s*Gt,ae+=s*zt,G+=s*jt,s=w[7],ce+=s*C,we+=s*Ke,xe+=s*Je,Ae+=s*Qe,Se+=s*ze,Ee+=s*Ye,Pe+=s*We,_e+=s*Ot,ue+=s*st,me+=s*It,fe+=s*$t,he+=s*Ct,de+=s*Ht,ae+=s*Gt,G+=s*zt,z+=s*jt,s=w[8],we+=s*C,xe+=s*Ke,Ae+=s*Je,Se+=s*Qe,Ee+=s*ze,Pe+=s*Ye,_e+=s*We,ue+=s*Ot,me+=s*st,fe+=s*It,he+=s*$t,de+=s*Ct,ae+=s*Ht,G+=s*Gt,z+=s*zt,re+=s*jt,s=w[9],xe+=s*C,Ae+=s*Ke,Se+=s*Je,Ee+=s*Qe,Pe+=s*ze,_e+=s*Ye,ue+=s*We,me+=s*Ot,fe+=s*st,he+=s*It,de+=s*$t,ae+=s*Ct,G+=s*Ht,z+=s*Gt,re+=s*zt,Y+=s*jt,s=w[10],Ae+=s*C,Se+=s*Ke,Ee+=s*Je,Pe+=s*Qe,_e+=s*ze,ue+=s*Ye,me+=s*We,fe+=s*Ot,he+=s*st,de+=s*It,ae+=s*$t,G+=s*Ct,z+=s*Ht,re+=s*Gt,Y+=s*zt,W+=s*jt,s=w[11],Se+=s*C,Ee+=s*Ke,Pe+=s*Je,_e+=s*Qe,ue+=s*ze,me+=s*Ye,fe+=s*We,he+=s*Ot,de+=s*st,ae+=s*It,G+=s*$t,z+=s*Ct,re+=s*Ht,Y+=s*Gt,W+=s*zt,ie+=s*jt,s=w[12],Ee+=s*C,Pe+=s*Ke,_e+=s*Je,ue+=s*Qe,me+=s*ze,fe+=s*Ye,he+=s*We,de+=s*Ot,ae+=s*st,G+=s*It,z+=s*$t,re+=s*Ct,Y+=s*Ht,W+=s*Gt,ie+=s*zt,be+=s*jt,s=w[13],Pe+=s*C,_e+=s*Ke,ue+=s*Je,me+=s*Qe,fe+=s*ze,he+=s*Ye,de+=s*We,ae+=s*Ot,G+=s*st,z+=s*It,re+=s*$t,Y+=s*Ct,W+=s*Ht,ie+=s*Gt,be+=s*zt,$e+=s*jt,s=w[14],_e+=s*C,ue+=s*Ke,me+=s*Je,fe+=s*Qe,he+=s*ze,de+=s*Ye,ae+=s*We,G+=s*Ot,z+=s*st,re+=s*It,Y+=s*$t,W+=s*Ct,ie+=s*Ht,be+=s*Gt,$e+=s*zt,Re+=s*jt,s=w[15],ue+=s*C,me+=s*Ke,fe+=s*Je,he+=s*Qe,de+=s*ze,ae+=s*Ye,G+=s*We,z+=s*Ot,re+=s*st,Y+=s*It,W+=s*$t,ie+=s*Ct,be+=s*Ht,$e+=s*Gt,Re+=s*zt,Ce+=s*jt,k+=38*me,R+=38*fe,q+=38*he,J+=38*de,le+=38*ae,oe+=38*G,Ve+=38*z,ce+=38*re,we+=38*Y,xe+=38*W,Ae+=38*ie,Se+=38*be,Ee+=38*$e,Pe+=38*Re,_e+=38*Ce,_=1,s=k+_+65535,_=Math.floor(s/65536),k=s-_*65536,s=R+_+65535,_=Math.floor(s/65536),R=s-_*65536,s=q+_+65535,_=Math.floor(s/65536),q=s-_*65536,s=J+_+65535,_=Math.floor(s/65536),J=s-_*65536,s=le+_+65535,_=Math.floor(s/65536),le=s-_*65536,s=oe+_+65535,_=Math.floor(s/65536),oe=s-_*65536,s=Ve+_+65535,_=Math.floor(s/65536),Ve=s-_*65536,s=ce+_+65535,_=Math.floor(s/65536),ce=s-_*65536,s=we+_+65535,_=Math.floor(s/65536),we=s-_*65536,s=xe+_+65535,_=Math.floor(s/65536),xe=s-_*65536,s=Ae+_+65535,_=Math.floor(s/65536),Ae=s-_*65536,s=Se+_+65535,_=Math.floor(s/65536),Se=s-_*65536,s=Ee+_+65535,_=Math.floor(s/65536),Ee=s-_*65536,s=Pe+_+65535,_=Math.floor(s/65536),Pe=s-_*65536,s=_e+_+65535,_=Math.floor(s/65536),_e=s-_*65536,s=ue+_+65535,_=Math.floor(s/65536),ue=s-_*65536,k+=_-1+37*(_-1),_=1,s=k+_+65535,_=Math.floor(s/65536),k=s-_*65536,s=R+_+65535,_=Math.floor(s/65536),R=s-_*65536,s=q+_+65535,_=Math.floor(s/65536),q=s-_*65536,s=J+_+65535,_=Math.floor(s/65536),J=s-_*65536,s=le+_+65535,_=Math.floor(s/65536),le=s-_*65536,s=oe+_+65535,_=Math.floor(s/65536),oe=s-_*65536,s=Ve+_+65535,_=Math.floor(s/65536),Ve=s-_*65536,s=ce+_+65535,_=Math.floor(s/65536),ce=s-_*65536,s=we+_+65535,_=Math.floor(s/65536),we=s-_*65536,s=xe+_+65535,_=Math.floor(s/65536),xe=s-_*65536,s=Ae+_+65535,_=Math.floor(s/65536),Ae=s-_*65536,s=Se+_+65535,_=Math.floor(s/65536),Se=s-_*65536,s=Ee+_+65535,_=Math.floor(s/65536),Ee=s-_*65536,s=Pe+_+65535,_=Math.floor(s/65536),Pe=s-_*65536,s=_e+_+65535,_=Math.floor(s/65536),_e=s-_*65536,s=ue+_+65535,_=Math.floor(s/65536),ue=s-_*65536,k+=_-1+37*(_-1),h[0]=k,h[1]=R,h[2]=q,h[3]=J,h[4]=le,h[5]=oe,h[6]=Ve,h[7]=ce,h[8]=we,h[9]=xe,h[10]=Ae,h[11]=Se,h[12]=Ee,h[13]=Pe,h[14]=_e,h[15]=ue}function se(h,w){Z(h,w,w)}function ge(h,w){var y=t(),s;for(s=0;s<16;s++)y[s]=w[s];for(s=253;s>=0;s--)se(y,y),s!==2&&s!==4&&Z(y,y,w);for(s=0;s<16;s++)h[s]=y[s]}function Be(h,w){var y=t(),s;for(s=0;s<16;s++)y[s]=w[s];for(s=250;s>=0;s--)se(y,y),s!==1&&Z(y,y,w);for(s=0;s<16;s++)h[s]=y[s]}function pe(h,w,y){var s=new Uint8Array(32),_=new Float64Array(80),k,R,q=t(),J=t(),le=t(),oe=t(),Ve=t(),ce=t();for(R=0;R<31;R++)s[R]=w[R];for(s[31]=w[31]&127|64,s[0]&=248,ee(_,y),R=0;R<16;R++)J[R]=_[R],oe[R]=q[R]=le[R]=0;for(q[0]=oe[0]=1,R=254;R>=0;--R)k=s[R>>>3]>>>(R&7)&1,F(q,J,k),F(le,oe,k),K(Ve,q,le),X(q,q,le),K(le,J,oe),X(J,J,oe),se(oe,Ve),se(ce,q),Z(q,le,q),Z(le,J,Ve),K(Ve,q,le),X(q,q,le),se(J,q),X(le,oe,ce),Z(q,le,b),K(q,q,oe),Z(le,le,q),Z(q,oe,ce),Z(oe,J,_),se(J,Ve),F(q,J,k),F(le,oe,k);for(R=0;R<16;R++)_[R+16]=q[R],_[R+32]=le[R],_[R+48]=J[R],_[R+64]=oe[R];var we=_.subarray(32),xe=_.subarray(16);return ge(we,we),Z(xe,xe,we),E(h,xe),0}function ve(h,w){return pe(h,w,a)}function et(h,w){return n(w,32),ve(h,w)}function ye(h,w,y){var s=new Uint8Array(32);return pe(s,y,w),M(h,o,s,I)}var De=l,er=p;function ot(h,w,y,s,_,k){var R=new Uint8Array(32);return ye(R,_,k),De(h,w,y,s,R)}function ut(h,w,y,s,_,k){var R=new Uint8Array(32);return ye(R,_,k),er(h,w,y,s,R)}var ur=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function dt(h,w,y,s){for(var _=new Int32Array(16),k=new Int32Array(16),R,q,J,le,oe,Ve,ce,we,xe,Ae,Se,Ee,Pe,_e,ue,me,fe,he,de,ae,G,z,re,Y,W,ie,be=h[0],$e=h[1],Re=h[2],Ce=h[3],C=h[4],Ke=h[5],Je=h[6],Qe=h[7],ze=w[0],Ye=w[1],We=w[2],Ot=w[3],st=w[4],It=w[5],$t=w[6],Ct=w[7],Ht=0;s>=128;){for(de=0;de<16;de++)ae=8*de+Ht,_[de]=y[ae+0]<<24|y[ae+1]<<16|y[ae+2]<<8|y[ae+3],k[de]=y[ae+4]<<24|y[ae+5]<<16|y[ae+6]<<8|y[ae+7];for(de=0;de<80;de++)if(R=be,q=$e,J=Re,le=Ce,oe=C,Ve=Ke,ce=Je,we=Qe,xe=ze,Ae=Ye,Se=We,Ee=Ot,Pe=st,_e=It,ue=$t,me=Ct,G=Qe,z=Ct,re=z&65535,Y=z>>>16,W=G&65535,ie=G>>>16,G=(C>>>14|st<<32-14)^(C>>>18|st<<32-18)^(st>>>41-32|C<<32-(41-32)),z=(st>>>14|C<<32-14)^(st>>>18|C<<32-18)^(C>>>41-32|st<<32-(41-32)),re+=z&65535,Y+=z>>>16,W+=G&65535,ie+=G>>>16,G=C&Ke^~C&Je,z=st&It^~st&$t,re+=z&65535,Y+=z>>>16,W+=G&65535,ie+=G>>>16,G=ur[de*2],z=ur[de*2+1],re+=z&65535,Y+=z>>>16,W+=G&65535,ie+=G>>>16,G=_[de%16],z=k[de%16],re+=z&65535,Y+=z>>>16,W+=G&65535,ie+=G>>>16,Y+=re>>>16,W+=Y>>>16,ie+=W>>>16,fe=W&65535|ie<<16,he=re&65535|Y<<16,G=fe,z=he,re=z&65535,Y=z>>>16,W=G&65535,ie=G>>>16,G=(be>>>28|ze<<32-28)^(ze>>>34-32|be<<32-(34-32))^(ze>>>39-32|be<<32-(39-32)),z=(ze>>>28|be<<32-28)^(be>>>34-32|ze<<32-(34-32))^(be>>>39-32|ze<<32-(39-32)),re+=z&65535,Y+=z>>>16,W+=G&65535,ie+=G>>>16,G=be&$e^be&Re^$e&Re,z=ze&Ye^ze&We^Ye&We,re+=z&65535,Y+=z>>>16,W+=G&65535,ie+=G>>>16,Y+=re>>>16,W+=Y>>>16,ie+=W>>>16,we=W&65535|ie<<16,me=re&65535|Y<<16,G=le,z=Ee,re=z&65535,Y=z>>>16,W=G&65535,ie=G>>>16,G=fe,z=he,re+=z&65535,Y+=z>>>16,W+=G&65535,ie+=G>>>16,Y+=re>>>16,W+=Y>>>16,ie+=W>>>16,le=W&65535|ie<<16,Ee=re&65535|Y<<16,$e=R,Re=q,Ce=J,C=le,Ke=oe,Je=Ve,Qe=ce,be=we,Ye=xe,We=Ae,Ot=Se,st=Ee,It=Pe,$t=_e,Ct=ue,ze=me,de%16===15)for(ae=0;ae<16;ae++)G=_[ae],z=k[ae],re=z&65535,Y=z>>>16,W=G&65535,ie=G>>>16,G=_[(ae+9)%16],z=k[(ae+9)%16],re+=z&65535,Y+=z>>>16,W+=G&65535,ie+=G>>>16,fe=_[(ae+1)%16],he=k[(ae+1)%16],G=(fe>>>1|he<<32-1)^(fe>>>8|he<<32-8)^fe>>>7,z=(he>>>1|fe<<32-1)^(he>>>8|fe<<32-8)^(he>>>7|fe<<32-7),re+=z&65535,Y+=z>>>16,W+=G&65535,ie+=G>>>16,fe=_[(ae+14)%16],he=k[(ae+14)%16],G=(fe>>>19|he<<32-19)^(he>>>61-32|fe<<32-(61-32))^fe>>>6,z=(he>>>19|fe<<32-19)^(fe>>>61-32|he<<32-(61-32))^(he>>>6|fe<<32-6),re+=z&65535,Y+=z>>>16,W+=G&65535,ie+=G>>>16,Y+=re>>>16,W+=Y>>>16,ie+=W>>>16,_[ae]=W&65535|ie<<16,k[ae]=re&65535|Y<<16;G=be,z=ze,re=z&65535,Y=z>>>16,W=G&65535,ie=G>>>16,G=h[0],z=w[0],re+=z&65535,Y+=z>>>16,W+=G&65535,ie+=G>>>16,Y+=re>>>16,W+=Y>>>16,ie+=W>>>16,h[0]=be=W&65535|ie<<16,w[0]=ze=re&65535|Y<<16,G=$e,z=Ye,re=z&65535,Y=z>>>16,W=G&65535,ie=G>>>16,G=h[1],z=w[1],re+=z&65535,Y+=z>>>16,W+=G&65535,ie+=G>>>16,Y+=re>>>16,W+=Y>>>16,ie+=W>>>16,h[1]=$e=W&65535|ie<<16,w[1]=Ye=re&65535|Y<<16,G=Re,z=We,re=z&65535,Y=z>>>16,W=G&65535,ie=G>>>16,G=h[2],z=w[2],re+=z&65535,Y+=z>>>16,W+=G&65535,ie+=G>>>16,Y+=re>>>16,W+=Y>>>16,ie+=W>>>16,h[2]=Re=W&65535|ie<<16,w[2]=We=re&65535|Y<<16,G=Ce,z=Ot,re=z&65535,Y=z>>>16,W=G&65535,ie=G>>>16,G=h[3],z=w[3],re+=z&65535,Y+=z>>>16,W+=G&65535,ie+=G>>>16,Y+=re>>>16,W+=Y>>>16,ie+=W>>>16,h[3]=Ce=W&65535|ie<<16,w[3]=Ot=re&65535|Y<<16,G=C,z=st,re=z&65535,Y=z>>>16,W=G&65535,ie=G>>>16,G=h[4],z=w[4],re+=z&65535,Y+=z>>>16,W+=G&65535,ie+=G>>>16,Y+=re>>>16,W+=Y>>>16,ie+=W>>>16,h[4]=C=W&65535|ie<<16,w[4]=st=re&65535|Y<<16,G=Ke,z=It,re=z&65535,Y=z>>>16,W=G&65535,ie=G>>>16,G=h[5],z=w[5],re+=z&65535,Y+=z>>>16,W+=G&65535,ie+=G>>>16,Y+=re>>>16,W+=Y>>>16,ie+=W>>>16,h[5]=Ke=W&65535|ie<<16,w[5]=It=re&65535|Y<<16,G=Je,z=$t,re=z&65535,Y=z>>>16,W=G&65535,ie=G>>>16,G=h[6],z=w[6],re+=z&65535,Y+=z>>>16,W+=G&65535,ie+=G>>>16,Y+=re>>>16,W+=Y>>>16,ie+=W>>>16,h[6]=Je=W&65535|ie<<16,w[6]=$t=re&65535|Y<<16,G=Qe,z=Ct,re=z&65535,Y=z>>>16,W=G&65535,ie=G>>>16,G=h[7],z=w[7],re+=z&65535,Y+=z>>>16,W+=G&65535,ie+=G>>>16,Y+=re>>>16,W+=Y>>>16,ie+=W>>>16,h[7]=Qe=W&65535|ie<<16,w[7]=Ct=re&65535|Y<<16,Ht+=128,s-=128}return s}function nt(h,w,y){var s=new Int32Array(8),_=new Int32Array(8),k=new Uint8Array(256),R,q=y;for(s[0]=1779033703,s[1]=3144134277,s[2]=1013904242,s[3]=2773480762,s[4]=1359893119,s[5]=2600822924,s[6]=528734635,s[7]=1541459225,_[0]=4089235720,_[1]=2227873595,_[2]=4271175723,_[3]=1595750129,_[4]=2917565137,_[5]=725511199,_[6]=4215389547,_[7]=327033209,dt(s,_,w,y),y%=128,R=0;R<y;R++)k[R]=w[q-y+R];for(k[y]=128,y=256-128*(y<112?1:0),k[y-9]=0,j(k,y-8,q/536870912|0,q<<3),dt(s,_,k,y),R=0;R<8;R++)j(h,8*R,s[R],_[R]);return 0}function yt(h,w){var y=t(),s=t(),_=t(),k=t(),R=t(),q=t(),J=t(),le=t(),oe=t();X(y,h[1],h[0]),X(oe,w[1],w[0]),Z(y,y,oe),K(s,h[0],h[1]),K(oe,w[0],w[1]),Z(s,s,oe),Z(_,h[3],w[3]),Z(_,_,A),Z(k,h[2],w[2]),K(k,k,k),X(R,s,y),X(q,k,_),K(J,k,_),K(le,s,y),Z(h[0],R,q),Z(h[1],le,J),Z(h[2],J,q),Z(h[3],R,le)}function Ge(h,w,y){var s;for(s=0;s<4;s++)F(h[s],w[s],y)}function Oe(h,w){var y=t(),s=t(),_=t();ge(_,w[2]),Z(y,w[0],_),Z(s,w[1],_),E(h,s),h[31]^=S(y)<<7}function _t(h,w,y){var s,_;for(x(h[0],g),x(h[1],d),x(h[2],d),x(h[3],g),_=255;_>=0;--_)s=y[_/8|0]>>(_&7)&1,Ge(h,w,s),yt(w,h),yt(h,h),Ge(h,w,s)}function Me(h,w){var y=[t(),t(),t(),t()];x(y[0],H),x(y[1],O),x(y[2],d),Z(y[3],H,O),_t(h,y,w)}function ke(h,w,y){var s=new Uint8Array(64),_=[t(),t(),t(),t()],k;for(y||n(w,32),nt(s,w,32),s[0]&=248,s[31]&=127,s[31]|=64,Me(_,s),Oe(h,_),k=0;k<32;k++)w[k+32]=h[k];return 0}var wt=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function Le(h,w){var y,s,_,k;for(s=63;s>=32;--s){for(y=0,_=s-32,k=s-12;_<k;++_)w[_]+=y-16*w[s]*wt[_-(s-32)],y=Math.floor((w[_]+128)/256),w[_]-=y*256;w[_]+=y,w[s]=0}for(y=0,_=0;_<32;_++)w[_]+=y-(w[31]>>4)*wt[_],y=w[_]>>8,w[_]&=255;for(_=0;_<32;_++)w[_]-=y*wt[_];for(s=0;s<32;s++)w[s+1]+=w[s]>>8,h[s]=w[s]&255}function He(h){var w=new Float64Array(64),y;for(y=0;y<64;y++)w[y]=h[y];for(y=0;y<64;y++)h[y]=0;Le(h,w)}function At(h,w,y,s){var _=new Uint8Array(64),k=new Uint8Array(64),R=new Uint8Array(64),q,J,le=new Float64Array(64),oe=[t(),t(),t(),t()];nt(_,s,32),_[0]&=248,_[31]&=127,_[31]|=64;var Ve=y+64;for(q=0;q<y;q++)h[64+q]=w[q];for(q=0;q<32;q++)h[32+q]=_[32+q];for(nt(R,h.subarray(32),y+32),He(R),Me(oe,R),Oe(h,oe),q=32;q<64;q++)h[q]=s[q];for(nt(k,h,y+64),He(k),q=0;q<64;q++)le[q]=0;for(q=0;q<32;q++)le[q]=R[q];for(q=0;q<32;q++)for(J=0;J<32;J++)le[q+J]+=k[q]*_[J];return Le(h.subarray(32),le),Ve}function je(h,w){var y=t(),s=t(),_=t(),k=t(),R=t(),q=t(),J=t();return x(h[2],d),ee(h[1],w),se(_,h[1]),Z(k,_,T),X(_,_,h[2]),K(k,h[2],k),se(R,k),se(q,R),Z(J,q,R),Z(y,J,_),Z(y,y,k),Be(y,y),Z(y,y,_),Z(y,y,k),Z(y,y,k),Z(h[0],y,k),se(s,h[0]),Z(s,s,k),u(s,_)&&Z(h[0],h[0],U),se(s,h[0]),Z(s,s,k),u(s,_)?-1:(S(h[0])===w[31]>>7&&X(h[0],g,h[0]),Z(h[3],h[0],h[1]),0)}function Ne(h,w,y,s){var _,k=new Uint8Array(32),R=new Uint8Array(64),q=[t(),t(),t(),t()],J=[t(),t(),t(),t()];if(y<64||je(J,s))return-1;for(_=0;_<y;_++)h[_]=w[_];for(_=0;_<32;_++)h[_+32]=s[_];if(nt(R,h,y),He(R),_t(q,J,R),Me(J,w.subarray(32)),yt(q,J),Oe(k,q),y-=64,ne(w,0,k,0)){for(_=0;_<y;_++)h[_]=0;return-1}for(_=0;_<y;_++)h[_]=w[_+64];return y}var Pt=32,Ie=24,Te=32,mt=16,gt=32,bt=32,br=32,pt=32,xt=32,tn=Ie,Tt=Te,Mt=mt,tr=64,ht=32,lt=64,Hr=32,Et=64;e.lowlevel={crypto_core_hsalsa20:M,crypto_stream_xor:D,crypto_stream:B,crypto_stream_salsa20_xor:c,crypto_stream_salsa20:v,crypto_onetimeauth:i,crypto_onetimeauth_verify:f,crypto_verify_16:V,crypto_verify_32:ne,crypto_secretbox:l,crypto_secretbox_open:p,crypto_scalarmult:pe,crypto_scalarmult_base:ve,crypto_box_beforenm:ye,crypto_box_afternm:De,crypto_box:ot,crypto_box_open:ut,crypto_box_keypair:et,crypto_hash:nt,crypto_sign:At,crypto_sign_keypair:ke,crypto_sign_open:Ne,crypto_secretbox_KEYBYTES:Pt,crypto_secretbox_NONCEBYTES:Ie,crypto_secretbox_ZEROBYTES:Te,crypto_secretbox_BOXZEROBYTES:mt,crypto_scalarmult_BYTES:gt,crypto_scalarmult_SCALARBYTES:bt,crypto_box_PUBLICKEYBYTES:br,crypto_box_SECRETKEYBYTES:pt,crypto_box_BEFORENMBYTES:xt,crypto_box_NONCEBYTES:tn,crypto_box_ZEROBYTES:Tt,crypto_box_BOXZEROBYTES:Mt,crypto_sign_BYTES:tr,crypto_sign_PUBLICKEYBYTES:ht,crypto_sign_SECRETKEYBYTES:lt,crypto_sign_SEEDBYTES:Hr,crypto_hash_BYTES:Et,gf:t,D:T,L:wt,pack25519:E,unpack25519:ee,M:Z,A:K,S:se,Z:X,pow2523:Be,add:yt,set25519:x,modL:Le,scalarmult:_t,scalarbase:Me};function Dt(h,w){if(h.length!==Pt)throw new Error("bad key size");if(w.length!==Ie)throw new Error("bad nonce size")}function wn(h,w){if(h.length!==br)throw new Error("bad public key size");if(w.length!==pt)throw new Error("bad secret key size")}function Ze(){for(var h=0;h<arguments.length;h++)if(!(arguments[h]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function St(h){for(var w=0;w<h.length;w++)h[w]=0}e.randomBytes=function(h){var w=new Uint8Array(h);return n(w,h),w},e.secretbox=function(h,w,y){Ze(h,w,y),Dt(y,w);for(var s=new Uint8Array(Te+h.length),_=new Uint8Array(s.length),k=0;k<h.length;k++)s[k+Te]=h[k];return l(_,s,s.length,w,y),_.subarray(mt)},e.secretbox.open=function(h,w,y){Ze(h,w,y),Dt(y,w);for(var s=new Uint8Array(mt+h.length),_=new Uint8Array(s.length),k=0;k<h.length;k++)s[k+mt]=h[k];return s.length<32||p(_,s,s.length,w,y)!==0?null:_.subarray(Te)},e.secretbox.keyLength=Pt,e.secretbox.nonceLength=Ie,e.secretbox.overheadLength=mt,e.scalarMult=function(h,w){if(Ze(h,w),h.length!==bt)throw new Error("bad n size");if(w.length!==gt)throw new Error("bad p size");var y=new Uint8Array(gt);return pe(y,h,w),y},e.scalarMult.base=function(h){if(Ze(h),h.length!==bt)throw new Error("bad n size");var w=new Uint8Array(gt);return ve(w,h),w},e.scalarMult.scalarLength=bt,e.scalarMult.groupElementLength=gt,e.box=function(h,w,y,s){var _=e.box.before(y,s);return e.secretbox(h,w,_)},e.box.before=function(h,w){Ze(h,w),wn(h,w);var y=new Uint8Array(xt);return ye(y,h,w),y},e.box.after=e.secretbox,e.box.open=function(h,w,y,s){var _=e.box.before(y,s);return e.secretbox.open(h,w,_)},e.box.open.after=e.secretbox.open,e.box.keyPair=function(){var h=new Uint8Array(br),w=new Uint8Array(pt);return et(h,w),{publicKey:h,secretKey:w}},e.box.keyPair.fromSecretKey=function(h){if(Ze(h),h.length!==pt)throw new Error("bad secret key size");var w=new Uint8Array(br);return ve(w,h),{publicKey:w,secretKey:new Uint8Array(h)}},e.box.publicKeyLength=br,e.box.secretKeyLength=pt,e.box.sharedKeyLength=xt,e.box.nonceLength=tn,e.box.overheadLength=e.secretbox.overheadLength,e.sign=function(h,w){if(Ze(h,w),w.length!==lt)throw new Error("bad secret key size");var y=new Uint8Array(tr+h.length);return At(y,h,h.length,w),y},e.sign.open=function(h,w){if(Ze(h,w),w.length!==ht)throw new Error("bad public key size");var y=new Uint8Array(h.length),s=Ne(y,h,h.length,w);if(s<0)return null;for(var _=new Uint8Array(s),k=0;k<_.length;k++)_[k]=y[k];return _},e.sign.detached=function(h,w){for(var y=e.sign(h,w),s=new Uint8Array(tr),_=0;_<s.length;_++)s[_]=y[_];return s},e.sign.detached.verify=function(h,w,y){if(Ze(h,w,y),w.length!==tr)throw new Error("bad signature size");if(y.length!==ht)throw new Error("bad public key size");var s=new Uint8Array(tr+h.length),_=new Uint8Array(tr+h.length),k;for(k=0;k<tr;k++)s[k]=w[k];for(k=0;k<h.length;k++)s[k+tr]=h[k];return Ne(_,s,s.length,y)>=0},e.sign.keyPair=function(){var h=new Uint8Array(ht),w=new Uint8Array(lt);return ke(h,w),{publicKey:h,secretKey:w}},e.sign.keyPair.fromSecretKey=function(h){if(Ze(h),h.length!==lt)throw new Error("bad secret key size");for(var w=new Uint8Array(ht),y=0;y<w.length;y++)w[y]=h[32+y];return{publicKey:w,secretKey:new Uint8Array(h)}},e.sign.keyPair.fromSeed=function(h){if(Ze(h),h.length!==Hr)throw new Error("bad seed size");for(var w=new Uint8Array(ht),y=new Uint8Array(lt),s=0;s<32;s++)y[s]=h[s];return ke(w,y,!0),{publicKey:w,secretKey:y}},e.sign.publicKeyLength=ht,e.sign.secretKeyLength=lt,e.sign.seedLength=Hr,e.sign.signatureLength=tr,e.hash=function(h){Ze(h);var w=new Uint8Array(Et);return nt(w,h,h.length),w},e.hash.hashLength=Et,e.verify=function(h,w){return Ze(h,w),h.length===0||w.length===0||h.length!==w.length?!1:Q(h,0,w,0,h.length)===0},e.setPRNG=function(h){n=h},function(){var h=typeof self<"u"?self.crypto||self.msCrypto:null;if(h&&h.getRandomValues){var w=65536;e.setPRNG(function(y,s){var _,k=new Uint8Array(s);for(_=0;_<s;_+=w)h.getRandomValues(k.subarray(_,_+Math.min(s-_,w)));for(_=0;_<s;_++)y[_]=k[_];St(k)})}else typeof Ca<"u"&&(h=Fa,h&&h.randomBytes&&e.setPRNG(function(y,s){var _,k=h.randomBytes(s);for(_=0;_<s;_++)y[_]=k[_];St(k)}))}()})(r.exports?r.exports:self.nacl=self.nacl||{})})(lo);var Bp=lo.exports,mo={exports:{}};(function(r){(function(e,t){r.exports?r.exports=t():(e.nacl||(e.nacl={}),e.nacl.util=t())})(Bt,function(){var e={};function t(n){if(!/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/.test(n))throw new TypeError("invalid encoding")}return e.decodeUTF8=function(n){if(typeof n!="string")throw new TypeError("expected string");var o,a=unescape(encodeURIComponent(n)),g=new Uint8Array(a.length);for(o=0;o<a.length;o++)g[o]=a.charCodeAt(o);return g},e.encodeUTF8=function(n){var o,a=[];for(o=0;o<n.length;o++)a.push(String.fromCharCode(n[o]));return decodeURIComponent(escape(a.join("")))},typeof atob>"u"?typeof te.from<"u"?(e.encodeBase64=function(n){return te.from(n).toString("base64")},e.decodeBase64=function(n){return t(n),new Uint8Array(Array.prototype.slice.call(te.from(n,"base64"),0))}):(e.encodeBase64=function(n){return new te(n).toString("base64")},e.decodeBase64=function(n){return t(n),new Uint8Array(Array.prototype.slice.call(new te(n,"base64"),0))}):(e.encodeBase64=function(n){var o,a=[],g=n.length;for(o=0;o<g;o++)a.push(String.fromCharCode(n[o]));return btoa(a.join(""))},e.decodeBase64=function(n){t(n);var o,a=atob(n),g=new Uint8Array(a.length);for(o=0;o<a.length;o++)g[o]=a.charCodeAt(o);return g}),e})})(mo);var Op=mo.exports,kp=Bt&&Bt.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var o=Object.getOwnPropertyDescriptor(e,t);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,o)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Lp=Bt&&Bt.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),go=Bt&&Bt.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&kp(e,r,t);return Lp(e,r),e};Object.defineProperty(ir,"__esModule",{value:!0});ir.getEncryptionPublicKey=ir.decryptSafely=ir.decrypt=ir.encryptSafely=ir.encrypt=void 0;const Fr=go(Bp),or=go(Op),mr=Lt;function po({publicKey:r,data:e,version:t}){if((0,mr.isNullish)(r))throw new Error("Missing publicKey parameter");if((0,mr.isNullish)(e))throw new Error("Missing data parameter");if((0,mr.isNullish)(t))throw new Error("Missing version parameter");switch(t){case"x25519-xsalsa20-poly1305":{if(typeof e!="string")throw new Error("Message data must be given as a string");const n=Fr.box.keyPair();let o;try{o=or.decodeBase64(r)}catch{throw new Error("Bad public key")}const a=or.decodeUTF8(e),g=Fr.randomBytes(Fr.box.nonceLength),d=Fr.box(a,g,o,n.secretKey);return{version:"x25519-xsalsa20-poly1305",nonce:or.encodeBase64(g),ephemPublicKey:or.encodeBase64(n.publicKey),ciphertext:or.encodeBase64(d)}}default:throw new Error("Encryption type/version not supported")}}ir.encrypt=po;function Hp({publicKey:r,data:e,version:t}){if((0,mr.isNullish)(r))throw new Error("Missing publicKey parameter");if((0,mr.isNullish)(e))throw new Error("Missing data parameter");if((0,mr.isNullish)(t))throw new Error("Missing version parameter");const n=2**11,o=16;if(typeof e=="object"&&e&&"toJSON"in e)throw new Error("Cannot encrypt with toJSON property.  Please remove toJSON property");const a={data:e,padding:""},d=te.byteLength(JSON.stringify(a),"utf-8")%n;let b=0;d>0&&(b=n-d-o),a.padding="0".repeat(b);const T=JSON.stringify(a);return po({publicKey:r,data:T,version:t})}ir.encryptSafely=Hp;function vo({encryptedData:r,privateKey:e}){if((0,mr.isNullish)(r))throw new Error("Missing encryptedData parameter");if((0,mr.isNullish)(e))throw new Error("Missing privateKey parameter");switch(r.version){case"x25519-xsalsa20-poly1305":{const t=bo(e),n=Fr.box.keyPair.fromSecretKey(t).secretKey,o=or.decodeBase64(r.nonce),a=or.decodeBase64(r.ciphertext),g=or.decodeBase64(r.ephemPublicKey),d=Fr.box.open(a,o,g,n);try{if(!d)throw new Error;const b=or.encodeUTF8(d);if(!b)throw new Error;return b}catch(b){throw b&&typeof b.message=="string"&&b.message.length?new Error(`Decryption failed: ${b.message}`):new Error("Decryption failed.")}}default:throw new Error("Encryption type/version not supported.")}}ir.decrypt=vo;function Np({encryptedData:r,privateKey:e}){if((0,mr.isNullish)(r))throw new Error("Missing encryptedData parameter");if((0,mr.isNullish)(e))throw new Error("Missing privateKey parameter");return JSON.parse(vo({encryptedData:r,privateKey:e})).data}ir.decryptSafely=Np;function Rp(r){const e=bo(r),t=Fr.box.keyPair.fromSecretKey(e).publicKey;return or.encodeBase64(t)}ir.getEncryptionPublicKey=Rp;function bo(r){const e=te.from(r,"hex").toString("base64");return or.decodeBase64(e)}(function(r){var e=Bt&&Bt.__createBinding||(Object.create?function(o,a,g,d){d===void 0&&(d=g);var b=Object.getOwnPropertyDescriptor(a,g);(!b||("get"in b?!a.__esModule:b.writable||b.configurable))&&(b={enumerable:!0,get:function(){return a[g]}}),Object.defineProperty(o,d,b)}:function(o,a,g,d){d===void 0&&(d=g),o[d]=a[g]}),t=Bt&&Bt.__exportStar||function(o,a){for(var g in o)g!=="default"&&!Object.prototype.hasOwnProperty.call(a,g)&&e(a,o,g)};Object.defineProperty(r,"__esModule",{value:!0}),r.normalize=r.concatSig=void 0,t(Pr,r),t(fo,r),t(ir,r);var n=Lt;Object.defineProperty(r,"concatSig",{enumerable:!0,get:function(){return n.concatSig}}),Object.defineProperty(r,"normalize",{enumerable:!0,get:function(){return n.normalize}})})(Zt);var vr={},kt={},yo=Ai,_i=kt.ValidationError=function(e,t,n,o,a,g){if(Array.isArray(o)?(this.path=o,this.property=o.reduce(function(b,T){return b+wo(T)},"instance")):o!==void 0&&(this.property=o),e&&(this.message=e),n){var d=n.$id||n.id;this.schema=d||n}t!==void 0&&(this.instance=t),this.name=a,this.argument=g,this.stack=this.toString()};_i.prototype.toString=function(){return this.property+" "+this.message};var Qn=kt.ValidatorResult=function(e,t,n,o){this.instance=e,this.schema=t,this.options=n,this.path=o.path,this.propertyPath=o.propertyPath,this.errors=[],this.throwError=n&&n.throwError,this.throwFirst=n&&n.throwFirst,this.throwAll=n&&n.throwAll,this.disableFormat=n&&n.disableFormat===!0};Qn.prototype.addError=function(e){var t;if(typeof e=="string")t=new _i(e,this.instance,this.schema,this.path);else{if(!e)throw new Error("Missing error detail");if(!e.message)throw new Error("Missing error message");if(!e.name)throw new Error("Missing validator type");t=new _i(e.message,this.instance,this.schema,this.path,e.name,e.argument)}if(this.errors.push(t),this.throwFirst)throw new Br(this);if(this.throwError)throw t;return t};Qn.prototype.importErrors=function(e){typeof e=="string"||e&&e.validatorType?this.addError(e):e&&e.errors&&(this.errors=this.errors.concat(e.errors))};function Up(r,e){return e+": "+r.toString()+`
`}Qn.prototype.toString=function(e){return this.errors.map(Up).join("")};Object.defineProperty(Qn.prototype,"valid",{get:function(){return!this.errors.length}});kt.ValidatorResultError=Br;function Br(r){Error.captureStackTrace&&Error.captureStackTrace(this,Br),this.instance=r.instance,this.schema=r.schema,this.options=r.options,this.errors=r.errors}Br.prototype=new Error;Br.prototype.constructor=Br;Br.prototype.name="Validation Error";var ga=kt.SchemaError=function r(e,t){this.message=e,this.schema=t,Error.call(this,e),Error.captureStackTrace(this,r)};ga.prototype=Object.create(Error.prototype,{constructor:{value:ga,enumerable:!1},name:{value:"SchemaError",enumerable:!1}});var Pi=kt.SchemaContext=function(e,t,n,o,a){this.schema=e,this.options=t,Array.isArray(n)?(this.path=n,this.propertyPath=n.reduce(function(g,d){return g+wo(d)},"instance")):this.propertyPath=n,this.base=o,this.schemas=a};Pi.prototype.resolve=function(e){return yo.resolve(this.base,e)};Pi.prototype.makeChild=function(e,t){var n=t===void 0?this.path:this.path.concat([t]),o=e.$id||e.id,a=yo.resolve(this.base,o||""),g=new Pi(e,this.options,n,a,Object.create(this.schemas));return o&&!g.schemas[a]&&(g.schemas[a]=e),g};var sr=kt.FORMAT_REGEXPS={"date-time":/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-(3[01]|0[1-9]|[12][0-9])[tT ](2[0-4]|[01][0-9]):([0-5][0-9]):(60|[0-5][0-9])(\.\d+)?([zZ]|[+-]([0-5][0-9]):(60|[0-5][0-9]))$/,date:/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-(3[01]|0[1-9]|[12][0-9])$/,time:/^(2[0-4]|[01][0-9]):([0-5][0-9]):(60|[0-5][0-9])$/,duration:/P(T\d+(H(\d+M(\d+S)?)?|M(\d+S)?|S)|\d+(D|M(\d+D)?|Y(\d+M(\d+D)?)?)(T\d+(H(\d+M(\d+S)?)?|M(\d+S)?|S))?|\d+W)/i,email:/^(?:[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+\.)*[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+@(?:(?:(?:[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!\.)){0,61}[a-zA-Z0-9]?\.)+[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!$)){0,61}[a-zA-Z0-9]?)|(?:\[(?:(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\.){3}(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\]))$/,"idn-email":/^("(?:[!#-\[\]-\u{10FFFF}]|\\[\t -\u{10FFFF}])*"|[!#-'*+\-/-9=?A-Z\^-\u{10FFFF}](?:\.?[!#-'*+\-/-9=?A-Z\^-\u{10FFFF}])*)@([!#-'*+\-/-9=?A-Z\^-\u{10FFFF}](?:\.?[!#-'*+\-/-9=?A-Z\^-\u{10FFFF}])*|\[[!-Z\^-\u{10FFFF}]*\])$/u,"ip-address":/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/,ipv6:/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,uri:/^[a-zA-Z][a-zA-Z0-9+.-]*:[^\s]*$/,"uri-reference":/^(((([A-Za-z][+\-.0-9A-Za-z]*(:%[0-9A-Fa-f]{2}|:[!$&-.0-;=?-Z_a-z~]|[/?])|\?)(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|([A-Za-z][+\-.0-9A-Za-z]*:?)?)|([A-Za-z][+\-.0-9A-Za-z]*:)?\/((%[0-9A-Fa-f]{2}|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?[/?]|[!$&-.0-;=?-Z_a-z~])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|(\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?)?))#(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|(([A-Za-z][+\-.0-9A-Za-z]*)?%[0-9A-Fa-f]{2}|[!$&-.0-9;=@_~]|[A-Za-z][+\-.0-9A-Za-z]*[!$&-*,;=@_~])(%[0-9A-Fa-f]{2}|[!$&-.0-9;=@-Z_a-z~])*((([/?](%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*)?#|[/?])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*)?|([A-Za-z][+\-.0-9A-Za-z]*(:%[0-9A-Fa-f]{2}|:[!$&-.0-;=?-Z_a-z~]|[/?])|\?)(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|([A-Za-z][+\-.0-9A-Za-z]*:)?\/((%[0-9A-Fa-f]{2}|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?[/?]|[!$&-.0-;=?-Z_a-z~])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+(:\d*)?|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?:\d*|\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?)?|[A-Za-z][+\-.0-9A-Za-z]*:?)?$/,iri:/^[a-zA-Z][a-zA-Z0-9+.-]*:[^\s]*$/,"iri-reference":/^(((([A-Za-z][+\-.0-9A-Za-z]*(:%[0-9A-Fa-f]{2}|:[!$&-.0-;=?-Z_a-z~-\u{10FFFF}]|[/?])|\?)(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*|([A-Za-z][+\-.0-9A-Za-z]*:?)?)|([A-Za-z][+\-.0-9A-Za-z]*:)?\/((%[0-9A-Fa-f]{2}|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~-\u{10FFFF}])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~-\u{10FFFF}]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?[/?]|[!$&-.0-;=?-Z_a-z~-\u{10FFFF}])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*|(\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~-\u{10FFFF}])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~-\u{10FFFF}]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?)?))#(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*|(([A-Za-z][+\-.0-9A-Za-z]*)?%[0-9A-Fa-f]{2}|[!$&-.0-9;=@_~-\u{10FFFF}]|[A-Za-z][+\-.0-9A-Za-z]*[!$&-*,;=@_~-\u{10FFFF}])(%[0-9A-Fa-f]{2}|[!$&-.0-9;=@-Z_a-z~-\u{10FFFF}])*((([/?](%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*)?#|[/?])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*)?|([A-Za-z][+\-.0-9A-Za-z]*(:%[0-9A-Fa-f]{2}|:[!$&-.0-;=?-Z_a-z~-\u{10FFFF}]|[/?])|\?)(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*|([A-Za-z][+\-.0-9A-Za-z]*:)?\/((%[0-9A-Fa-f]{2}|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~-\u{10FFFF}])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~-\u{10FFFF}]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?[/?]|[!$&-.0-;=?-Z_a-z~-\u{10FFFF}])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~-\u{10FFFF}])+(:\d*)?|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~-\u{10FFFF}]+)?|[.0-:A-Fa-f]+)\])?:\d*|\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~-\u{10FFFF}]+)?|[.0-:A-Fa-f]+)\])?)?|[A-Za-z][+\-.0-9A-Za-z]*:?)?$/u,uuid:/^[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i,"uri-template":/(%[0-9a-f]{2}|[!#$&(-;=?@\[\]_a-z~]|\{[!#&+,./;=?@|]?(%[0-9a-f]{2}|[0-9_a-z])(\.?(%[0-9a-f]{2}|[0-9_a-z]))*(:[1-9]\d{0,3}|\*)?(,(%[0-9a-f]{2}|[0-9_a-z])(\.?(%[0-9a-f]{2}|[0-9_a-z]))*(:[1-9]\d{0,3}|\*)?)*\})*/iu,"json-pointer":/^(\/([\x00-\x2e0-@\[-}\x7f]|~[01])*)*$/iu,"relative-json-pointer":/^\d+(#|(\/([\x00-\x2e0-@\[-}\x7f]|~[01])*)*)$/iu,hostname:/^(?=.{1,255}$)[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?(?:\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?)*\.?$/,"host-name":/^(?=.{1,255}$)[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?(?:\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?)*\.?$/,"utc-millisec":function(r){return typeof r=="string"&&parseFloat(r)===parseInt(r,10)&&!isNaN(r)},regex:function(r){var e=!0;try{new RegExp(r)}catch{e=!1}return e},style:/[\r\n\t ]*[^\r\n\t ][^:]*:[\r\n\t ]*[^\r\n\t ;]*[\r\n\t ]*;?/,color:/^(#?([0-9A-Fa-f]{3}){1,2}\b|aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow|(rgb\(\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*\))|(rgb\(\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*\)))$/,phone:/^\+(?:[0-9] ?){6,14}[0-9]$/,alpha:/^[a-zA-Z]+$/,alphanumeric:/^[a-zA-Z0-9]+$/};sr.regexp=sr.regex;sr.pattern=sr.regex;sr.ipv4=sr["ip-address"];kt.isFormat=function(e,t,n){if(typeof e=="string"&&sr[t]!==void 0){if(sr[t]instanceof RegExp)return sr[t].test(e);if(typeof sr[t]=="function")return sr[t](e)}else if(n&&n.customFormats&&typeof n.customFormats[t]=="function")return n.customFormats[t](e);return!0};var wo=kt.makeSuffix=function(e){return e=e.toString(),!e.match(/[.\s\[\]]/)&&!e.match(/^[\d]/)?"."+e:e.match(/^\d+$/)?"["+e+"]":"["+JSON.stringify(e)+"]"};kt.deepCompareStrict=function r(e,t){if(typeof e!=typeof t)return!1;if(Array.isArray(e))return!Array.isArray(t)||e.length!==t.length?!1:e.every(function(a,g){return r(e[g],t[g])});if(typeof e=="object"){if(!e||!t)return e===t;var n=Object.keys(e),o=Object.keys(t);return n.length!==o.length?!1:n.every(function(a){return r(e[a],t[a])})}return e===t};function Gp(r,e,t,n){typeof t=="object"?e[n]=Li(r[n],t):r.indexOf(t)===-1&&e.push(t)}function zp(r,e,t){e[t]=r[t]}function jp(r,e,t,n){typeof e[n]!="object"||!e[n]?t[n]=e[n]:r[n]?t[n]=Li(r[n],e[n]):t[n]=e[n]}function Li(r,e){var t=Array.isArray(e),n=t&&[]||{};return t?(r=r||[],n=n.concat(r),e.forEach(Gp.bind(null,r,n))):(r&&typeof r=="object"&&Object.keys(r).forEach(zp.bind(null,r,n)),Object.keys(e).forEach(jp.bind(null,r,e,n))),n}kt.deepMerge=Li;kt.objectGetPath=function(e,t){for(var n=t.split("/").slice(1),o;typeof(o=n.shift())=="string";){var a=decodeURIComponent(o.replace(/~0/,"~").replace(/~1/g,"/"));if(!(a in e))return;e=e[a]}return e};function Kp(r){return"/"+encodeURIComponent(r).replace(/~/g,"%7E")}kt.encodePath=function(e){return e.map(Kp).join("")};kt.getDecimalPlaces=function(e){var t=0;if(isNaN(e))return t;typeof e!="number"&&(e=Number(e));var n=e.toString().split("e");if(n.length===2){if(n[1][0]!=="-")return t;t=Number(n[1].slice(1))}var o=n[0].split(".");return o.length===2&&(t+=o[1].length),t};kt.isSchema=function(e){return typeof e=="object"&&e||typeof e=="boolean"};var Qt=kt,tt=Qt.ValidatorResult,Ar=Qt.SchemaError,Hi={};Hi.ignoreProperties={id:!0,default:!0,description:!0,title:!0,additionalItems:!0,then:!0,else:!0,$schema:!0,$ref:!0,extends:!0};var rt=Hi.validators={};rt.type=function(e,t,n,o){if(e===void 0)return null;var a=new tt(e,t,n,o),g=Array.isArray(t.type)?t.type:[t.type];if(!g.some(this.testType.bind(this,e,t,n,o))){var d=g.map(function(b){if(b){var T=b.$id||b.id;return T?"<"+T+">":b+""}});a.addError({name:"type",argument:d,message:"is not of a type(s) "+d})}return a};function Ni(r,e,t,n,o){var a=e.throwError,g=e.throwAll;e.throwError=!1,e.throwAll=!1;var d=this.validateSchema(r,o,e,t);return e.throwError=a,e.throwAll=g,!d.valid&&n instanceof Function&&n(d),d.valid}rt.anyOf=function(e,t,n,o){if(e===void 0)return null;var a=new tt(e,t,n,o),g=new tt(e,t,n,o);if(!Array.isArray(t.anyOf))throw new Ar("anyOf must be an array");if(!t.anyOf.some(Ni.bind(this,e,n,o,function(b){g.importErrors(b)}))){var d=t.anyOf.map(function(b,T){var A=b.$id||b.id;return A?"<"+A+">":b.title&&JSON.stringify(b.title)||b.$ref&&"<"+b.$ref+">"||"[subschema "+T+"]"});n.nestedErrors&&a.importErrors(g),a.addError({name:"anyOf",argument:d,message:"is not any of "+d.join(",")})}return a};rt.allOf=function(e,t,n,o){if(e===void 0)return null;if(!Array.isArray(t.allOf))throw new Ar("allOf must be an array");var a=new tt(e,t,n,o),g=this;return t.allOf.forEach(function(d,b){var T=g.validateSchema(e,d,n,o);if(!T.valid){var A=d.$id||d.id,H=A||d.title&&JSON.stringify(d.title)||d.$ref&&"<"+d.$ref+">"||"[subschema "+b+"]";a.addError({name:"allOf",argument:{id:H,length:T.errors.length,valid:T},message:"does not match allOf schema "+H+" with "+T.errors.length+" error[s]:"}),a.importErrors(T)}}),a};rt.oneOf=function(e,t,n,o){if(e===void 0)return null;if(!Array.isArray(t.oneOf))throw new Ar("oneOf must be an array");var a=new tt(e,t,n,o),g=new tt(e,t,n,o),d=t.oneOf.filter(Ni.bind(this,e,n,o,function(T){g.importErrors(T)})).length,b=t.oneOf.map(function(T,A){var H=T.$id||T.id;return H||T.title&&JSON.stringify(T.title)||T.$ref&&"<"+T.$ref+">"||"[subschema "+A+"]"});return d!==1&&(n.nestedErrors&&a.importErrors(g),a.addError({name:"oneOf",argument:b,message:"is not exactly one from "+b.join(",")})),a};rt.if=function(e,t,n,o){if(e===void 0)return null;if(!Qt.isSchema(t.if))throw new Error('Expected "if" keyword to be a schema');var a=Ni.call(this,e,n,o,null,t.if),g=new tt(e,t,n,o),d;if(a){if(t.then===void 0)return;if(!Qt.isSchema(t.then))throw new Error('Expected "then" keyword to be a schema');d=this.validateSchema(e,t.then,n,o.makeChild(t.then)),g.importErrors(d)}else{if(t.else===void 0)return;if(!Qt.isSchema(t.else))throw new Error('Expected "else" keyword to be a schema');d=this.validateSchema(e,t.else,n,o.makeChild(t.else)),g.importErrors(d)}return g};function Ri(r,e){if(Object.hasOwnProperty.call(r,e))return r[e];if(e in r){for(;r=Object.getPrototypeOf(r);)if(Object.propertyIsEnumerable.call(r,e))return r[e]}}rt.propertyNames=function(e,t,n,o){if(this.types.object(e)){var a=new tt(e,t,n,o),g=t.propertyNames!==void 0?t.propertyNames:{};if(!Qt.isSchema(g))throw new Ar('Expected "propertyNames" to be a schema (object or boolean)');for(var d in e)if(Ri(e,d)!==void 0){var b=this.validateSchema(d,g,n,o.makeChild(g));a.importErrors(b)}return a}};rt.properties=function(e,t,n,o){if(this.types.object(e)){var a=new tt(e,t,n,o),g=t.properties||{};for(var d in g){var b=g[d];if(b!==void 0){if(b===null)throw new Ar('Unexpected null, expected schema in "properties"');typeof n.preValidateProperty=="function"&&n.preValidateProperty(e,d,b,n,o);var T=Ri(e,d),A=this.validateSchema(T,b,n,o.makeChild(b,d));A.instance!==a.instance[d]&&(a.instance[d]=A.instance),a.importErrors(A)}}return a}};function xo(r,e,t,n,o,a){if(this.types.object(r)&&!(e.properties&&e.properties[o]!==void 0))if(e.additionalProperties===!1)a.addError({name:"additionalProperties",argument:o,message:"is not allowed to have the additional property "+JSON.stringify(o)});else{var g=e.additionalProperties||{};typeof t.preValidateProperty=="function"&&t.preValidateProperty(r,o,g,t,n);var d=this.validateSchema(r[o],g,t,n.makeChild(g,o));d.instance!==a.instance[o]&&(a.instance[o]=d.instance),a.importErrors(d)}}rt.patternProperties=function(e,t,n,o){if(this.types.object(e)){var a=new tt(e,t,n,o),g=t.patternProperties||{};for(var d in e){var b=!0;for(var T in g){var A=g[T];if(A!==void 0){if(A===null)throw new Ar('Unexpected null, expected schema in "patternProperties"');try{var H=new RegExp(T,"u")}catch{H=new RegExp(T)}if(H.test(d)){b=!1,typeof n.preValidateProperty=="function"&&n.preValidateProperty(e,d,A,n,o);var O=this.validateSchema(e[d],A,n,o.makeChild(A,d));O.instance!==a.instance[d]&&(a.instance[d]=O.instance),a.importErrors(O)}}}b&&xo.call(this,e,t,n,o,d,a)}return a}};rt.additionalProperties=function(e,t,n,o){if(this.types.object(e)){if(t.patternProperties)return null;var a=new tt(e,t,n,o);for(var g in e)xo.call(this,e,t,n,o,g,a);return a}};rt.minProperties=function(e,t,n,o){if(this.types.object(e)){var a=new tt(e,t,n,o),g=Object.keys(e);return g.length>=t.minProperties||a.addError({name:"minProperties",argument:t.minProperties,message:"does not meet minimum property length of "+t.minProperties}),a}};rt.maxProperties=function(e,t,n,o){if(this.types.object(e)){var a=new tt(e,t,n,o),g=Object.keys(e);return g.length<=t.maxProperties||a.addError({name:"maxProperties",argument:t.maxProperties,message:"does not meet maximum property length of "+t.maxProperties}),a}};rt.items=function(e,t,n,o){var a=this;if(this.types.array(e)&&t.items!==void 0){var g=new tt(e,t,n,o);return e.every(function(d,b){if(Array.isArray(t.items))var T=t.items[b]===void 0?t.additionalItems:t.items[b];else var T=t.items;if(T===void 0)return!0;if(T===!1)return g.addError({name:"items",message:"additionalItems not permitted"}),!1;var A=a.validateSchema(d,T,n,o.makeChild(T,b));return A.instance!==g.instance[b]&&(g.instance[b]=A.instance),g.importErrors(A),!0}),g}};rt.contains=function(e,t,n,o){var a=this;if(this.types.array(e)&&t.contains!==void 0){if(!Qt.isSchema(t.contains))throw new Error('Expected "contains" keyword to be a schema');var g=new tt(e,t,n,o),d=e.some(function(b,T){var A=a.validateSchema(b,t.contains,n,o.makeChild(t.contains,T));return A.errors.length===0});return d===!1&&g.addError({name:"contains",argument:t.contains,message:"must contain an item matching given schema"}),g}};rt.minimum=function(e,t,n,o){if(this.types.number(e)){var a=new tt(e,t,n,o);return t.exclusiveMinimum&&t.exclusiveMinimum===!0?e>t.minimum||a.addError({name:"minimum",argument:t.minimum,message:"must be greater than "+t.minimum}):e>=t.minimum||a.addError({name:"minimum",argument:t.minimum,message:"must be greater than or equal to "+t.minimum}),a}};rt.maximum=function(e,t,n,o){if(this.types.number(e)){var a=new tt(e,t,n,o);return t.exclusiveMaximum&&t.exclusiveMaximum===!0?e<t.maximum||a.addError({name:"maximum",argument:t.maximum,message:"must be less than "+t.maximum}):e<=t.maximum||a.addError({name:"maximum",argument:t.maximum,message:"must be less than or equal to "+t.maximum}),a}};rt.exclusiveMinimum=function(e,t,n,o){if(typeof t.exclusiveMinimum!="boolean"&&this.types.number(e)){var a=new tt(e,t,n,o),g=e>t.exclusiveMinimum;return g||a.addError({name:"exclusiveMinimum",argument:t.exclusiveMinimum,message:"must be strictly greater than "+t.exclusiveMinimum}),a}};rt.exclusiveMaximum=function(e,t,n,o){if(typeof t.exclusiveMaximum!="boolean"&&this.types.number(e)){var a=new tt(e,t,n,o),g=e<t.exclusiveMaximum;return g||a.addError({name:"exclusiveMaximum",argument:t.exclusiveMaximum,message:"must be strictly less than "+t.exclusiveMaximum}),a}};var Eo=function(e,t,n,o,a,g){if(this.types.number(e)){var d=t[a];if(d==0)throw new Ar(a+" cannot be zero");var b=new tt(e,t,n,o),T=Qt.getDecimalPlaces(e),A=Qt.getDecimalPlaces(d),H=Math.max(T,A),O=Math.pow(10,H);return Math.round(e*O)%Math.round(d*O)!==0&&b.addError({name:a,argument:d,message:g+JSON.stringify(d)}),b}};rt.multipleOf=function(e,t,n,o){return Eo.call(this,e,t,n,o,"multipleOf","is not a multiple of (divisible by) ")};rt.divisibleBy=function(e,t,n,o){return Eo.call(this,e,t,n,o,"divisibleBy","is not divisible by (multiple of) ")};rt.required=function(e,t,n,o){var a=new tt(e,t,n,o);return e===void 0&&t.required===!0?a.addError({name:"required",message:"is required"}):this.types.object(e)&&Array.isArray(t.required)&&t.required.forEach(function(g){Ri(e,g)===void 0&&a.addError({name:"required",argument:g,message:"requires property "+JSON.stringify(g)})}),a};rt.pattern=function(e,t,n,o){if(this.types.string(e)){var a=new tt(e,t,n,o),g=t.pattern;try{var d=new RegExp(g,"u")}catch{d=new RegExp(g)}return e.match(d)||a.addError({name:"pattern",argument:t.pattern,message:"does not match pattern "+JSON.stringify(t.pattern.toString())}),a}};rt.format=function(e,t,n,o){if(e!==void 0){var a=new tt(e,t,n,o);return!a.disableFormat&&!Qt.isFormat(e,t.format,this)&&a.addError({name:"format",argument:t.format,message:"does not conform to the "+JSON.stringify(t.format)+" format"}),a}};rt.minLength=function(e,t,n,o){if(this.types.string(e)){var a=new tt(e,t,n,o),g=e.match(/[\uDC00-\uDFFF]/g),d=e.length-(g?g.length:0);return d>=t.minLength||a.addError({name:"minLength",argument:t.minLength,message:"does not meet minimum length of "+t.minLength}),a}};rt.maxLength=function(e,t,n,o){if(this.types.string(e)){var a=new tt(e,t,n,o),g=e.match(/[\uDC00-\uDFFF]/g),d=e.length-(g?g.length:0);return d<=t.maxLength||a.addError({name:"maxLength",argument:t.maxLength,message:"does not meet maximum length of "+t.maxLength}),a}};rt.minItems=function(e,t,n,o){if(this.types.array(e)){var a=new tt(e,t,n,o);return e.length>=t.minItems||a.addError({name:"minItems",argument:t.minItems,message:"does not meet minimum length of "+t.minItems}),a}};rt.maxItems=function(e,t,n,o){if(this.types.array(e)){var a=new tt(e,t,n,o);return e.length<=t.maxItems||a.addError({name:"maxItems",argument:t.maxItems,message:"does not meet maximum length of "+t.maxItems}),a}};function qp(r,e,t){var n,o=t.length;for(n=e+1,o;n<o;n++)if(Qt.deepCompareStrict(r,t[n]))return!1;return!0}rt.uniqueItems=function(e,t,n,o){if(t.uniqueItems===!0&&this.types.array(e)){var a=new tt(e,t,n,o);return e.every(qp)||a.addError({name:"uniqueItems",message:"contains duplicate item"}),a}};rt.dependencies=function(e,t,n,o){if(this.types.object(e)){var a=new tt(e,t,n,o);for(var g in t.dependencies)if(e[g]!==void 0){var d=t.dependencies[g],b=o.makeChild(d,g);if(typeof d=="string"&&(d=[d]),Array.isArray(d))d.forEach(function(A){e[A]===void 0&&a.addError({name:"dependencies",argument:b.propertyPath,message:"property "+A+" not found, required by "+b.propertyPath})});else{var T=this.validateSchema(e,d,n,b);a.instance!==T.instance&&(a.instance=T.instance),T&&T.errors.length&&(a.addError({name:"dependencies",argument:b.propertyPath,message:"does not meet dependency required by "+b.propertyPath}),a.importErrors(T))}}return a}};rt.enum=function(e,t,n,o){if(e===void 0)return null;if(!Array.isArray(t.enum))throw new Ar("enum expects an array",t);var a=new tt(e,t,n,o);return t.enum.some(Qt.deepCompareStrict.bind(null,e))||a.addError({name:"enum",argument:t.enum,message:"is not one of enum values: "+t.enum.map(String).join(",")}),a};rt.const=function(e,t,n,o){if(e===void 0)return null;var a=new tt(e,t,n,o);return Qt.deepCompareStrict(t.const,e)||a.addError({name:"const",argument:t.const,message:"does not exactly match expected constant: "+t.const}),a};rt.not=rt.disallow=function(e,t,n,o){var a=this;if(e===void 0)return null;var g=new tt(e,t,n,o),d=t.not||t.disallow;return d?(Array.isArray(d)||(d=[d]),d.forEach(function(b){if(a.testType(e,t,n,o,b)){var T=b&&(b.$id||b.id),A=T||b;g.addError({name:"not",argument:A,message:"is of prohibited type "+A})}}),g):null};var Vp=Hi,yn={},pa=Ai,Zp=kt;yn.SchemaScanResult=_o;function _o(r,e){this.id=r,this.ref=e}yn.scan=function(e,t){function n(b,T){if(!(!T||typeof T!="object")){if(T.$ref){var A=pa.resolve(b,T.$ref);d[A]=d[A]?d[A]+1:0;return}var H=T.$id||T.id,O=H?pa.resolve(b,H):b;if(O){if(O.indexOf("#")<0&&(O+="#"),g[O]){if(!Zp.deepCompareStrict(g[O],T))throw new Error("Schema <"+O+"> already exists with different definition");return g[O]}g[O]=T,O[O.length-1]=="#"&&(g[O.substring(0,O.length-1)]=T)}o(O+"/items",Array.isArray(T.items)?T.items:[T.items]),o(O+"/extends",Array.isArray(T.extends)?T.extends:[T.extends]),n(O+"/additionalItems",T.additionalItems),a(O+"/properties",T.properties),n(O+"/additionalProperties",T.additionalProperties),a(O+"/definitions",T.definitions),a(O+"/patternProperties",T.patternProperties),a(O+"/dependencies",T.dependencies),o(O+"/disallow",T.disallow),o(O+"/allOf",T.allOf),o(O+"/anyOf",T.anyOf),o(O+"/oneOf",T.oneOf),n(O+"/not",T.not)}}function o(b,T){if(Array.isArray(T))for(var A=0;A<T.length;A++)n(b+"/"+A,T[A])}function a(b,T){if(!(!T||typeof T!="object"))for(var A in T)n(b+"/"+A,T[A])}var g={},d={};return n(e,t),new _o(g,d)};var Po=Ai,Do=Vp,Lr=kt,So=yn.scan,Ao=Lr.ValidatorResult,Yp=Lr.ValidatorResultError,un=Lr.SchemaError,To=Lr.SchemaContext,Mo="/",Nt=function r(){this.customFormats=Object.create(r.prototype.customFormats),this.schemas={},this.unresolvedRefs=[],this.types=Object.create(gr),this.attributes=Object.create(Do.validators)};Nt.prototype.customFormats={};Nt.prototype.schemas=null;Nt.prototype.types=null;Nt.prototype.attributes=null;Nt.prototype.unresolvedRefs=null;Nt.prototype.addSchema=function(e,t){var n=this;if(!e)return null;var o=So(t||Mo,e),a=t||e.$id||e.id;for(var g in o.id)this.schemas[g]=o.id[g];for(var g in o.ref)this.unresolvedRefs.push(g);return this.unresolvedRefs=this.unresolvedRefs.filter(function(d){return typeof n.schemas[d]>"u"}),this.schemas[a]};Nt.prototype.addSubSchemaArray=function(e,t){if(Array.isArray(t))for(var n=0;n<t.length;n++)this.addSubSchema(e,t[n])};Nt.prototype.addSubSchemaObject=function(e,t){if(!(!t||typeof t!="object"))for(var n in t)this.addSubSchema(e,t[n])};Nt.prototype.setSchemas=function(e){this.schemas=e};Nt.prototype.getSchema=function(e){return this.schemas[e]};Nt.prototype.validate=function(e,t,n,o){if(typeof t!="boolean"&&typeof t!="object"||t===null)throw new un("Expected `schema` to be an object or boolean");n||(n={});var a=t.$id||t.id,g=Po.resolve(n.base||Mo,a||"");if(!o){o=new To(t,n,[],g,Object.create(this.schemas)),o.schemas[g]||(o.schemas[g]=t);var d=So(g,t);for(var b in d.id){var T=d.id[b];o.schemas[b]=T}}if(n.required&&e===void 0){var A=new Ao(e,t,n,o);return A.addError("is required, but is undefined"),A}var A=this.validateSchema(e,t,n,o);if(A){if(n.throwAll&&A.errors.length)throw new Yp(A)}else throw new Error("Result undefined");return A};function Io(r){var e=typeof r=="string"?r:r.$ref;return typeof e=="string"?e:!1}Nt.prototype.validateSchema=function(e,t,n,o){var a=new Ao(e,t,n,o);if(typeof t=="boolean")t===!0?t={}:t===!1&&(t={type:[]});else if(!t)throw new Error("schema is undefined");if(t.extends)if(Array.isArray(t.extends)){var g={schema:t,ctx:o};t.extends.forEach(this.schemaTraverser.bind(this,g)),t=g.schema,g.schema=null,g.ctx=null,g=null}else t=Lr.deepMerge(t,this.superResolve(t.extends,o));var d=Io(t);if(d){var b=this.resolve(t,d,o),T=new To(b.subschema,n,o.path,b.switchSchema,o.schemas);return this.validateSchema(e,b.subschema,n,T)}var A=n&&n.skipAttributes||[];for(var H in t)if(!Do.ignoreProperties[H]&&A.indexOf(H)<0){var O=null,U=this.attributes[H];if(U)O=U.call(this,e,t,n,o);else if(n.allowUnknownAttributes===!1)throw new un("Unsupported attribute: "+H,t);O&&a.importErrors(O)}if(typeof n.rewrite=="function"){var j=n.rewrite.call(this,e,t,n,o);a.instance=j}return a};Nt.prototype.schemaTraverser=function(e,t){e.schema=Lr.deepMerge(e.schema,this.superResolve(t,e.ctx))};Nt.prototype.superResolve=function(e,t){var n=Io(e);return n?this.resolve(e,n,t).subschema:e};Nt.prototype.resolve=function(e,t,n){if(t=n.resolve(t),n.schemas[t])return{subschema:n.schemas[t],switchSchema:t};var o=Po.parse(t),a=o&&o.hash,g=a&&a.length&&t.substr(0,t.length-a.length);if(!g||!n.schemas[g])throw new un("no such schema <"+t+">",e);var d=Lr.objectGetPath(n.schemas[g],a.substr(1));if(d===void 0)throw new un("no such schema "+a+" located in <"+g+">",e);return{subschema:d,switchSchema:t}};Nt.prototype.testType=function(e,t,n,o,a){if(a!==void 0){if(a===null)throw new un('Unexpected null in "type" keyword');if(typeof this.types[a]=="function")return this.types[a].call(this,e);if(a&&typeof a=="object"){var g=this.validateSchema(e,a,n,o);return g===void 0||!(g&&g.errors.length)}return!0}};var gr=Nt.prototype.types={};gr.string=function(e){return typeof e=="string"};gr.number=function(e){return typeof e=="number"&&isFinite(e)};gr.integer=function(e){return typeof e=="number"&&e%1===0};gr.boolean=function(e){return typeof e=="boolean"};gr.array=function(e){return Array.isArray(e)};gr.null=function(e){return e===null};gr.date=function(e){return e instanceof Date};gr.any=function(e){return!0};gr.object=function(e){return e&&typeof e=="object"&&!Array.isArray(e)&&!(e instanceof Date)};var Wp=Nt,Xp=vr.Validator=Wp;vr.ValidatorResult=kt.ValidatorResult;vr.ValidatorResultError=kt.ValidatorResultError;vr.ValidationError=kt.ValidationError;vr.SchemaError=kt.SchemaError;vr.SchemaScanResult=yn.SchemaScanResult;vr.scan=yn.scan;vr.validate=function(r,e,t){var n=new Xp;return n.validate(r,e,t)};function va(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),t.push.apply(t,n)}return t}function yr(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?va(Object(t),!0).forEach(function(n){Yt(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):va(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function ba(r){return r.length===2+20*2}function Jp(r){let{getAccounts:e,getPrivateKey:t,processDecryptMessage:n,processEncryptionPublicKey:o,processEthSignMessage:a,processPersonalMessage:g,processTransaction:d,processSignTransaction:b,processTypedMessage:T,processTypedMessageV3:A,processTypedMessageV4:H}=r;if(!e)throw new Error("opts.getAccounts is required");async function O(B,D){if(typeof B=="string"&&B.length>0){const i=(await e(D)).map(l=>l.toLowerCase()),f=B.toLowerCase();if(i.includes(f))return f}throw Fe.ethErrors.rpc.invalidParams({message:"Invalid parameters: must provide an Ethereum address."})}async function U(B,D){D.result=await e(B)}async function j(B,D){const m=await e(B);D.result=m[0]||null}async function Q(B,D){if(!d)throw Fe.ethErrors.rpc.methodNotSupported();const m=B.params[0]||{from:""};m.from=await O(m.from,B),D.result=await d(m,B)}async function V(B,D){if(!b)throw Fe.ethErrors.rpc.methodNotSupported();const m=B.params[0]||{from:""};m.from=await O(m.from,B),D.result=await b(m,B)}async function ne(B,D){if(!a)throw Fe.ethErrors.rpc.methodNotSupported();const m=await O(B.params[0],B),i=B.params[1],f=B.params[2]||{},l=yr(yr({},f),{},{from:m,data:i});D.result=await a(l,B)}async function L(B,D){if(!T)throw Fe.ethErrors.rpc.methodNotSupported();const m=B.params[0],i=await O(B.params[1],B),f="V1",l=B.params[2]||{},p=yr(yr({},l),{},{from:i,data:m});D.result=await T(p,B,f)}async function N(B,D){if(!A)throw Fe.ethErrors.rpc.methodNotSupported();const m=await O(B.params[0],B),i=B.params[1],f="V3",l={data:i,from:m,version:f};D.result=await A(l,B,f)}async function $(B,D){if(!H)throw Fe.ethErrors.rpc.methodNotSupported();const m=await O(B.params[0],B),i=B.params[1],f="V4",l={data:i,from:m,version:f};D.result=await H(l,B,f)}async function M(B,D){if(!g)throw Fe.ethErrors.rpc.methodNotSupported();const m=B.params[0],i=B.params[1],f=B.params[2]||{};let l,p;if(ba(m)&&!ba(i)){let P="The eth_personalSign method requires params ordered ";P+="[message, address]. This was previously handled incorrectly, ",P+="and has been corrected automatically. ",P+="Please switch this param order for smooth behavior in the future.",D.warning=P,l=m,p=i}else p=m,l=i;l=await O(l,B);const x=yr(yr({},f),{},{from:l,data:p});D.result=await g(x,B)}async function I(B,D){if(!o)throw Fe.ethErrors.rpc.methodNotSupported();const m=await O(B.params[0],B);D.result=await o(m,B)}async function c(B,D){if(!n)throw Fe.ethErrors.rpc.methodNotSupported();const m=B.params[0],i=await O(B.params[1],B),f=B.params[2]||{},l=yr(yr({},f),{},{from:i,data:m});D.result=n(l,B)}async function v(B,D){if(!t)throw Fe.ethErrors.rpc.methodNotSupported();D.result=t(B)}return kn({eth_accounts:Vt(U),eth_private_key:Vt(v),private_key:Vt(v),eth_coinbase:Vt(j),eth_sendTransaction:Vt(Q),eth_signTransaction:Vt(V),eth_sign:Vt(ne),eth_signTypedData:Vt(L),eth_signTypedData_v3:Vt(N),eth_signTypedData_v4:Vt($),personal_sign:Vt(M),eth_getEncryptionPublicKey:Vt(I),eth_decrypt:Vt(c)})}function Ui(r){const{getAccounts:e,getPrivateKey:t,processTransaction:n,processSignTransaction:o,processEthSignMessage:a,processTypedMessage:g,processTypedMessageV3:d,processTypedMessageV4:b,processPersonalMessage:T,processEncryptionPublicKey:A,processDecryptMessage:H}=r;return Oa([kn({eth_syncing:!1}),Jp({getAccounts:e,getPrivateKey:t,processTransaction:n,processEthSignMessage:a,processSignTransaction:o,processTypedMessage:g,processTypedMessageV3:d,processTypedMessageV4:b,processPersonalMessage:T,processEncryptionPublicKey:A,processDecryptMessage:H})])}function $o(r){let{addChain:e,switchChain:t}=r;async function n(a,g){var d;const b=(d=a.params)!==null&&d!==void 0&&d.length?a.params[0]:void 0;if(!b)throw Fe.ethErrors.rpc.invalidParams("Missing chain params");if(!b.chainId)throw Fe.ethErrors.rpc.invalidParams("Missing chainId in chainParams");if(!b.rpcUrls||b.rpcUrls.length===0)throw Fe.ethErrors.rpc.invalidParams("Missing rpcUrls in chainParams");if(!b.nativeCurrency)throw Fe.ethErrors.rpc.invalidParams("Missing nativeCurrency in chainParams");g.result=await e(b)}async function o(a,g){var d;const b=(d=a.params)!==null&&d!==void 0&&d.length?a.params[0]:void 0;if(!b)throw Fe.ethErrors.rpc.invalidParams("Missing chainId");g.result=await t(b)}return kn({wallet_addEthereumChain:Vt(n),wallet_switchEthereumChain:Vt(o)})}function Qp(r){let{updatePrivatekey:e}=r;async function t(n,o){var a;const g=(a=n.params)!==null&&a!==void 0&&a.length?n.params[0]:void 0;if(!(g!=null&&g.privateKey))throw Fe.ethErrors.rpc.invalidParams("Missing privateKey");o.result=await e(g)}return kn({wallet_updateAccount:Vt(t)})}function ev(r){return(e,t,n,o)=>e.method==="eth_chainId"?(t.result=r,o()):n()}function tv(r){return(e,t,n,o)=>e.method==="eth_provider_config"?(t.result=r,o()):n()}function Gi(r){const{chainId:e,rpcTarget:t}=r,n=Yo({rpcTarget:t});return{networkMiddleware:Oa([ev(e),tv(r),n]),fetchMiddleware:n}}function rv(r){let{connector:e}=r;return{getPrivateKey:async()=>{throw Fe.ethErrors.rpc.methodNotSupported()},getAccounts:async t=>{const{accounts:n}=e;if(n&&n.length)return n;throw new Error("Failed to get accounts")},processTransaction:async(t,n)=>await e.sendTransaction(t),processSignTransaction:async(t,n)=>await e.signTransaction(t),processEthSignMessage:async(t,n)=>await e.signMessage([t.from,t.data]),processPersonalMessage:async(t,n)=>await e.signPersonalMessage([t.data,t.from]),processTypedMessage:async(t,n)=>await e.signTypedData([t.from,t.data]),processTypedMessageV3:async t=>await e.signTypedData([t.from,t.data]),processTypedMessageV4:async t=>await e.signTypedData([t.from,t.data]),processEncryptionPublicKey:async t=>{throw Fe.ethErrors.rpc.methodNotSupported()},processDecryptMessage:t=>{throw Fe.ethErrors.rpc.methodNotSupported()}}}function ya(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),t.push.apply(t,n)}return t}function Kr(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ya(Object(t),!0).forEach(function(n){Yt(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):ya(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}class wa extends Mi{constructor(e){let{config:t,state:n,connector:o}=e;super({config:{chainConfig:Kr(Kr({},t.chainConfig),{},{chainNamespace:pr.EIP155}),skipLookupNetwork:!!t.skipLookupNetwork},state:Kr(Kr({},n||{}),{},{chainId:"loading",accounts:[]})}),Yt(this,"connector",null),this.connector=o||null}async enable(){if(!this.connector)throw Fe.ethErrors.provider.custom({message:"Connector is not initialized, pass wallet connect connector in constructor",code:4902});return await this.setupProvider(this.connector),this._providerEngineProxy.request({method:"eth_accounts"})}async setupProvider(e){this.onConnectorStateUpdate(e),await this.setupEngine(e)}async switchChain(e){let{chainId:t,addChain:n=!0,lookup:o=!0}=e;if(!this.connector)throw Fe.ethErrors.provider.custom({message:"Connector is not initialized, pass wallet connect connector in constructor",code:4902});const a=this.getChainConfig(t);this.update({chainId:"loading"});const{rpcTarget:g,displayName:d}=a;if(n)try{await this.connector.sendCustomRequest({method:"wallet_addEthereumChain",params:[{chainId:t,chainName:d,rpcUrls:[g],blockExplorerUrls:[a.blockExplorer],nativeCurrency:{name:a.tickerName,symbol:a.ticker,decimals:a.decimals||18}}]})}catch(b){nr.error(b)}try{await this.connector.sendCustomRequest({method:"wallet_switchEthereumChain",params:[{chainId:t}]})}catch(b){if(nr.error(b),b.message!=="JSON RPC response format is invalid")throw b}this.configure({chainConfig:a}),o&&await this.lookupNetwork(this.connector)}async addChain(e){if(!this.connector)throw zi.notReady("Wallet adapter is not ready yet");const{rpcTarget:t,displayName:n}=e;try{await this.connector.sendCustomRequest({method:"wallet_addEthereumChain",params:[{chainId:e.chainId,chainName:n,rpcUrls:[t],blockExplorerUrls:[e.blockExplorer],nativeCurrency:{name:e.tickerName,symbol:e.ticker,decimals:e.decimals||18}}]}),super.addChain(e)}catch(o){throw nr.error(o),o}}async lookupNetwork(e){if(!e.connected)throw Mn.notConnectedError("Wallet connect connector is not connected");if(!this.provider)throw Fe.ethErrors.provider.custom({message:"Provider is not initialized",code:4902});const{chainId:t}=this.config.chainConfig,n=sn(e.chainId.toString())?e.chainId:`0x${e.chainId.toString(16)}`;if(t!==n)throw zi.rpcConnectionError(`Invalid network, net_version is: ${n}, expected: ${t}`);return this.provider.emit("connect",{chainId:t}),this.provider.emit("chainChanged",this.state.chainId),n}async setupEngine(e){const t=rv({connector:e});this.update({accounts:e.accounts||[]});const n=Ui(t),o=new Di,{networkMiddleware:a}=Gi(this.config.chainConfig);o.push(n),o.push(a);const g=Ti(o);this.updateProviderEngineProxy(g),this.config.skipLookupNetwork||await this.lookupNetwork(e)}async onConnectorStateUpdate(e){e.on("session_update",async(t,n)=>{if(!this.provider)throw Mn.notConnectedError("Wallet connect connector is not connected");if(t){this.provider.emit("error",t);return}const{accounts:o,chainId:a,rpcUrl:g}=n.params[0];o!=null&&o.length&&this.state.accounts[0]!==o[0]&&(this.update({accounts:o}),this.provider.emit("accountsChanged",o));const d=`0x${a.toString(16)}`;if(a&&this.state.chainId!==d){const b=Ba(pr.EIP155,a)||{};this.configure({chainConfig:Kr(Kr({},b),{},{chainId:d,rpcTarget:g,chainNamespace:pr.EIP155})}),await this.setupEngine(e)}})}}Yt(wa,"getProviderInstance",async r=>{const e=new wa({config:{chainConfig:r.chainConfig,skipLookupNetwork:r.skipLookupNetwork}});return await e.setupProvider(r.connector),e});async function Co(r){if(r.session.length){const e=r.session.keys.length-1;return r.session.get(r.session.keys[e])}return null}async function Ir(r,e,t,n){const o=await Co(r);if(!o)throw Fe.ethErrors.provider.disconnected();return r.request({topic:o.topic,chainId:`eip155:${e}`,request:{method:t,params:n}})}async function Fo(r){const e=await Co(r);if(!e)throw Fe.ethErrors.provider.disconnected();const t=eo(e.namespaces);if(t&&t.length)return[...new Set(t.map(n=>Fi(n).address))];throw new Error("Failed to get accounts")}function nv(r){let{connector:e,chainId:t}=r;return{getPrivateKey:async()=>{throw Fe.ethErrors.rpc.methodNotSupported()},getAccounts:async n=>Fo(e),processTransaction:async(n,o)=>await Ir(e,t,"eth_sendTransaction",[n]),processSignTransaction:async(n,o)=>await Ir(e,t,"eth_signTransaction",[n]),processEthSignMessage:async(n,o)=>await Ir(e,t,"eth_sign",[n.from,n.data]),processPersonalMessage:async(n,o)=>await Ir(e,t,"personal_sign",[n.from,n.data]),processTypedMessage:async(n,o)=>await Ir(e,t,"eth_signTypedData",[n.data,n.from]),processTypedMessageV3:async n=>await Ir(e,t,"eth_signTypedData_v3",[n.from,n.data]),processTypedMessageV4:async n=>await Ir(e,t,"eth_signTypedData_v4",[n.from,n.data]),processEncryptionPublicKey:async n=>{throw Fe.ethErrors.rpc.methodNotSupported()},processDecryptMessage:n=>{throw Fe.ethErrors.rpc.methodNotSupported()}}}function xa(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),t.push.apply(t,n)}return t}function qr(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?xa(Object(t),!0).forEach(function(n){Yt(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):xa(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}class Ea extends Mi{constructor(e){let{config:t,state:n,connector:o}=e;super({config:{chainConfig:qr(qr({},t.chainConfig),{},{chainNamespace:pr.EIP155}),skipLookupNetwork:!!t.skipLookupNetwork},state:qr(qr({},n||{}),{},{chainId:"loading",accounts:[]})}),Yt(this,"connector",null),this.connector=o||null}async enable(){if(!this.connector)throw Fe.ethErrors.provider.custom({message:"Connector is not initialized, pass wallet connect connector in constructor",code:4902});return await this.setupProvider(this.connector),this._providerEngineProxy.request({method:"eth_accounts"})}async setupProvider(e){this.onConnectorStateUpdate(e),await this.setupEngine(e)}async switchChain(e){let{chainId:t}=e;if(!this.connector)throw Fe.ethErrors.provider.custom({message:"Connector is not initialized, pass wallet connect connector in constructor",code:4902});const n=this.getChainConfig(t);this.configure({chainConfig:n}),await this.setupEngine(this.connector)}async addChain(e){super.addChain(e)}async lookupNetwork(e){return this.config.chainConfig.chainId}async setupEngine(e){const{chainId:t}=this.config.chainConfig,n=parseInt(t,16),o=nv({connector:e,chainId:n}),a=await Fo(e);this.update({accounts:a||[]});const g=Ui(o),d=this.getChainSwitchMiddleware(),b=new Di,{networkMiddleware:T}=Gi(this.config.chainConfig);b.push(g),b.push(d),b.push(T);const A=Ti(b);this.updateProviderEngineProxy(A)}getChainSwitchMiddleware(){return $o({addChain:async n=>{const{chainId:o,chainName:a,rpcUrls:g,blockExplorerUrls:d,nativeCurrency:b}=n;this.addChain({chainNamespace:pr.EIP155,chainId:o,ticker:b?.symbol||"ETH",tickerName:b?.name||"Ether",displayName:a,rpcTarget:g[0],blockExplorer:d?.[0]||"",decimals:b?.decimals||18})},switchChain:async n=>{const{chainId:o}=n;await this.switchChain({chainId:o})}})}connectedTopic(){var e,t;if(!this.connector)throw Mn.notConnectedError("Wallet connect connector is not connected");if((e=this.connector)!==null&&e!==void 0&&(t=e.session)!==null&&t!==void 0&&t.length){var n;const o=this.connector.session.keys.length-1;return(n=this.connector.session.get(this.connector.session.keys[o]))===null||n===void 0?void 0:n.topic}}checkIfChainIdAllowed(e){if(!this.connector||!this.connectedTopic())return!1;const t=this.connector.session.get(this.connectedTopic()),n=Tf(t.namespaces);let o=!1;for(const a of n){const g=_f(a);if(Number.parseInt(g.reference,10)===Number.parseInt(e,10)){o=!0;break}}return o}checkIfAccountAllowed(e){if(!this.connector||!this.connectedTopic())return!1;const t=this.connector.session.get(this.connectedTopic()),n=eo(t.namespaces);let o=!1;for(const g of n){var a;if(((a=Fi(g).address)===null||a===void 0?void 0:a.toLowerCase())===e?.toLowerCase()){o=!0;break}}return o}async onConnectorStateUpdate(e){e.events.on("session_event",async t=>{if(nr.debug("session_event data",t),!this.provider)throw Mn.notConnectedError("Wallet connect connector is not connected");const{event:n}=t.params,{name:o,data:a}=n||{};if(o==="accountsChanged"&&a!==null&&a!==void 0&&a.length&&this.state.accounts[0]!==a[0]&&this.checkIfAccountAllowed(a[0])&&(this.update({accounts:a}),this.provider.emit("accountsChanged",a)),n.name==="chainChanged"){const{chainId:g,rpcUrl:d}=a,b=`0x${g.toString(16)}`;if(!this.checkIfChainIdAllowed(b))return;if(b&&this.state.chainId!==b){const T=Ba(pr.EIP155,b)||{};this.configure({chainConfig:qr(qr({},T),{},{chainId:b,rpcTarget:d,chainNamespace:pr.EIP155})}),await this.setupEngine(e)}}})}}Yt(Ea,"getProviderInstance",async r=>{const e=new Ea({config:{chainConfig:r.chainConfig,skipLookupNetwork:r.skipLookupNetwork}});return await e.setupProvider(r.connector),e});const Bo=new ar("1e18"),Oo=new ar("1e9"),ko=new ar("1"),iv={hex:r=>typeof r=="string"?new ar(ct.stripHexPrefix(r),16):new ar(r,16),dec:r=>new ar(r,10)},av={WEI:r=>r.div(Bo),GWEI:r=>r.div(Oo),ETH:r=>r.div(ko)},ov={WEI:r=>r.times(Bo).dp(0,ar.ROUND_HALF_UP),GWEI:r=>r.times(Oo).dp(9,ar.ROUND_HALF_UP),ETH:r=>r.times(ko).dp(9,ar.ROUND_HALF_UP)},sv={hex:r=>r.toString(16),dec:r=>new ar(r).toString(10)},fv=r=>{const{value:e,fromNumericBase:t,fromDenomination:n,toNumericBase:o,toDenomination:a,numberOfDecimals:g}=r;let d=iv[t](e);return n&&(d=av[n](d)),a&&(d=ov[a](d)),g&&(d=d.dp(g,ar.ROUND_HALF_DOWN)),o&&(d=sv[o](d)),d},Lo=(r,e)=>{let{fromNumericBase:t="hex",toNumericBase:n,fromDenomination:o,toDenomination:a,numberOfDecimals:g}=e;return fv({fromNumericBase:t,toNumericBase:n,fromDenomination:o,toDenomination:a,numberOfDecimals:g,value:r||"0"})};function Zr(r){return Lo(r,{fromNumericBase:"dec",toNumericBase:"hex",fromDenomination:"GWEI",toDenomination:"WEI"})}function Ho(r){return Lo(r,{fromNumericBase:"hex",toNumericBase:"dec",fromDenomination:"WEI",toDenomination:"GWEI"})}function _a(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),t.push.apply(t,n)}return t}function wr(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?_a(Object(t),!0).forEach(function(n){Yt(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):_a(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function $r(r){const e=Zr(r);return Ho(e)}async function cv(r){const e=await ka(r);return wr(wr({},e),{},{estimatedBaseFee:$r(e.estimatedBaseFee),low:wr(wr({},e.low),{},{suggestedMaxPriorityFeePerGas:$r(e.low.suggestedMaxPriorityFeePerGas),suggestedMaxFeePerGas:$r(e.low.suggestedMaxFeePerGas)}),medium:wr(wr({},e.medium),{},{suggestedMaxPriorityFeePerGas:$r(e.medium.suggestedMaxPriorityFeePerGas),suggestedMaxFeePerGas:$r(e.medium.suggestedMaxFeePerGas)}),high:wr(wr({},e.high),{},{suggestedMaxPriorityFeePerGas:$r(e.high.suggestedMaxPriorityFeePerGas),suggestedMaxFeePerGas:$r(e.high.suggestedMaxFeePerGas)})})}async function uv(r){const e=await ka(r,{referrer:r,referrerPolicy:"no-referrer-when-downgrade",method:"GET",mode:"cors"});return{low:e.SafeGasPrice,medium:e.ProposeGasPrice,high:e.FastGasPrice}}const hi=(r,e)=>{var t;try{Wt.ok(r&&typeof r=="object","Params must be an object."),Wt.ok("data"in r,'Params must include a "data" field.'),Wt.ok("from"in r,'Params must include a "from" field.'),Wt.ok(typeof r.from=="string"&&ct.isValidAddress(r.from),'"from" field must be a valid, lowercase, hexadecimal Ethereum address string.');let n=null,o=null;switch(r.version){case Zt.SignTypedDataVersion.V1:typeof r.data=="string"?Wt.doesNotThrow(()=>{n=JSON.parse(r.data)},'"data" must be a valid JSON string.'):n=r.data,Wt.ok(Array.isArray(n),"params.data must be an array."),Wt.doesNotThrow(()=>{Zt.typedSignatureHash(n)},"Signing data must be valid EIP-712 typed data.");break;case Zt.SignTypedDataVersion.V3:case Zt.SignTypedDataVersion.V4:typeof r.data=="string"?Wt.doesNotThrow(()=>{n=JSON.parse(r.data)},'"data" must be a valid JSON string.'):n=r.data,Wt.ok(n.primaryType in n.types,`Primary type of "${n.primaryType}" has no type definition.`);const a=vr.validate(n,Zt.TYPED_MESSAGE_SCHEMA.properties);Wt.strictEqual(a.errors.length,0,"Signing data must conform to EIP-712 schema. See https://git.io/fNtcx."),o=(t=n.domain)===null||t===void 0?void 0:t.chainId,o&&(Wt.ok(!Number.isNaN(e),`Cannot sign messages for chainId "${o}", because Web3Auth is switching networks.`),typeof o=="string"&&(o=Number.parseInt(o,sn(o)?16:10)),Wt.strictEqual(o,e,`Provided chainId "${o}" must match the active chainId "${e}"`));break;default:Wt.fail(`Unknown typed data version "${r.version}"`)}}catch(n){throw Fe.ethErrors.rpc.invalidInput({message:n?.message})}};function Pa(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),t.push.apply(t,n)}return t}function Da(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Pa(Object(t),!0).forEach(function(n){Yt(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):Pa(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}async function Sa(r,e,t){const n=await t.formatTransaction(r),o=await t.getCommonConfiguration();return to.TransactionFactory.fromTxData(n,{common:o}).sign(te.from(e,"hex")).serialize()}function hv(r){let{txFormatter:e,privKey:t,getProviderEngineProxy:n}=r;return{getAccounts:async o=>[`0x${ct.privateToAddress(te.from(t,"hex")).toString("hex")}`],getPrivateKey:async o=>t,processTransaction:async(o,a)=>{const g=n();if(!g)throw Fe.ethErrors.provider.custom({message:"Provider is not initialized",code:4902});const d=await Sa(o,t,e);return await g.request({method:"eth_sendRawTransaction",params:["0x".concat(d.toString("hex"))]})},processSignTransaction:async(o,a)=>{if(!n())throw Fe.ethErrors.provider.custom({message:"Provider is not initialized",code:4902});return`0x${(await Sa(o,t,e)).toString("hex")}`},processEthSignMessage:async(o,a)=>Zo(t,o.data),processPersonalMessage:async(o,a)=>{const g=te.from(t,"hex");return Zt.personalSign({privateKey:g,data:o.data})},processTypedMessage:async(o,a)=>{nr.debug("processTypedMessage",o);const g=te.from(t,"hex"),d=n();if(!d)throw Fe.ethErrors.provider.custom({message:"Provider is not initialized",code:4902});const b=await d.request({method:"eth_chainId"}),T=Number.parseInt(b,sn(b)?16:10),A=Da(Da({},o),{},{version:Zt.SignTypedDataVersion.V1});hi(A,T);const H=typeof A.data=="string"?JSON.parse(A.data):A.data;return Zt.signTypedData({privateKey:g,data:H,version:Zt.SignTypedDataVersion.V1})},processTypedMessageV3:async(o,a)=>{nr.debug("processTypedMessageV3",o);const g=te.from(t,"hex"),d=n();if(!d)throw Fe.ethErrors.provider.custom({message:"Provider is not initialized",code:4902});const b=await d.request({method:"eth_chainId"}),T=Number.parseInt(b,sn(b)?16:10);hi(o,T);const A=typeof o.data=="string"?JSON.parse(o.data):o.data;return Zt.signTypedData({privateKey:g,data:A,version:Zt.SignTypedDataVersion.V3})},processTypedMessageV4:async(o,a)=>{nr.debug("processTypedMessageV4",o);const g=te.from(t,"hex"),d=n();if(!d)throw Fe.ethErrors.provider.custom({message:"Provider is not initialized",code:4902});const b=await d.request({method:"eth_chainId"}),T=Number.parseInt(b,sn(b)?16:10);hi(o,T);const A=typeof o.data=="string"?JSON.parse(o.data):o.data;return Zt.signTypedData({privateKey:g,data:A,version:Zt.SignTypedDataVersion.V4})},processEncryptionPublicKey:async(o,a)=>(nr.info("processEncryptionPublicKey",o),Zt.getEncryptionPublicKey(t)),processDecryptMessage:(o,a)=>{nr.info("processDecryptMessage",o);const g=ct.stripHexPrefix(o.data),d=te.from(g,"hex");return Zt.decrypt({encryptedData:JSON.parse(d.toString("utf8")),privateKey:t})}}}function dv(r,e){return r==null||e===null||e===void 0?null:new ar(r,10).lt(e,10)}function An(r){return ct.addHexPrefix(r.toString(16))}function di(r){return In.isBN(r)?r:new In(ct.stripHexPrefix(r),16)}function lv(r,e,t){const n=new In(e),o=new In(t);return r.mul(n).div(o)}const mv="https://gas-api.metaswap.codefi.network/networks/<chain_id>/gasPrices",gv="https://gas-api.metaswap.codefi.network/networks/<chain_id>/suggestedGasFees",Aa={LEGACY:"0x0",ACCESS_LIST:"0x1",FEE_MARKET:"0x2"},Tn={SENT_ETHER:"sentEther",CONTRACT_INTERACTION:"contractInteraction",DEPLOY_CONTRACT:"contractDeployment",STANDARD_TRANSACTION:"transaction"},Vr={FEE_MARKET:"fee-market",LEGACY:"legacy",ETH_GASPRICE:"eth_gasPrice",NONE:"none"};function Ta(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),t.push.apply(t,n)}return t}function li(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Ta(Object(t),!0).forEach(function(n){Yt(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):Ta(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}class pv{constructor(e){let{getProviderEngineProxy:t}=e;Yt(this,"chainConfig",null),Yt(this,"getProviderEngineProxy",void 0),Yt(this,"isEIP1559Compatible",!1),this.getProviderEngineProxy=t}get providerProxy(){return this.getProviderEngineProxy()}async init(){this.chainConfig=await this.providerProxy.request({method:"eth_provider_config",params:[]}),this.isEIP1559Compatible=await this.getEIP1559Compatibility()}async getCommonConfiguration(){if(!this.chainConfig)throw new Error("Chain config not initialized");const{displayName:e,chainId:t}=this.chainConfig,n=this.isEIP1559Compatible?fn.Hardfork.London:fn.Hardfork.Berlin,o={name:e,chainId:t==="loading"?0:Number.parseInt(t,16),networkId:t==="loading"?0:Number.parseInt(t,16),defaultHardfork:n};return fn.Common.custom(o)}async formatTransaction(e){if(!this.chainConfig)throw new Error("Chain config not initialized");const t=li({},e);if(t.nonce===void 0&&(t.nonce=await this.providerProxy.request({method:"eth_getTransactionCount",params:[e.from,"latest"]})),!this.isEIP1559Compatible&&t.gasPrice){if(t.maxFeePerGas&&delete t.maxFeePerGas,t.maxPriorityFeePerGas&&delete t.maxPriorityFeePerGas,t.gas)t.gasLimit=t.gas;else{const g=await this.getDefaultGasLimit(t);g&&(t.gasLimit=g)}return t}if(t.gas)t.gasLimit=t.gas;else{const g=await this.getDefaultGasLimit(t);g&&(t.gasLimit=g)}const{gasPrice:n,maxFeePerGas:o,maxPriorityFeePerGas:a}=await this.getDefaultGasFees(t);return this.isEIP1559Compatible?(t.gasPrice&&!t.maxFeePerGas&&!t.maxPriorityFeePerGas?(t.maxFeePerGas=t.gasPrice,t.maxPriorityFeePerGas=dv(typeof a=="string"?ct.stripHexPrefix(a):a,typeof t.gasPrice=="string"?ct.stripHexPrefix(t.gasPrice):t.gasPrice)?a:t.gasPrice):(o&&!t.maxFeePerGas&&(t.maxFeePerGas=o),a&&!t.maxPriorityFeePerGas&&(t.maxPriorityFeePerGas=a),n&&!t.maxFeePerGas&&(t.maxFeePerGas=n),t.maxFeePerGas&&!t.maxPriorityFeePerGas&&(t.maxPriorityFeePerGas=t.maxFeePerGas)),delete t.gasPrice):(delete t.maxPriorityFeePerGas,delete t.maxFeePerGas),n&&!t.gasPrice&&!t.maxPriorityFeePerGas&&!t.maxFeePerGas&&(t.gasPrice=n),t.type=this.isEIP1559Compatible?Aa.FEE_MARKET:Aa.LEGACY,t.chainId=this.chainConfig.chainId,t}async fetchEthGasPriceEstimate(){const e=await this.providerProxy.request({method:"eth_gasPrice",params:[]});return{gasPrice:Ho(e).toString()}}async getEIP1559Compatibility(){const e=await this.providerProxy.request({method:"eth_getBlockByNumber",params:["latest",!1]});return!!(e&&e.baseFeePerGas!==void 0)}async fetchGasFeeEstimateData(){if(!this.chainConfig)throw new Error("Chain config not initialized");const e=this.chainConfig.chainId==="0x1",t=Number.parseInt(this.chainConfig.chainId,16);let n;try{if(this.isEIP1559Compatible)n={gasFeeEstimates:await cv(gv.replace("<chain_id>",`${t}`)),gasEstimateType:Vr.FEE_MARKET};else if(e)n={gasFeeEstimates:await uv(mv.replace("<chain_id>",`${t}`)),gasEstimateType:Vr.LEGACY};else throw new Error("Main gas fee/price estimation failed. Use fallback")}catch{try{n={gasFeeEstimates:await this.fetchEthGasPriceEstimate(),gasEstimateType:Vr.ETH_GASPRICE}}catch(a){throw new Error(`Gas fee/price estimation failed. Message: ${a.message}`)}}return n}async getDefaultGasFees(e){if(!this.isEIP1559Compatible&&e.gasPrice||this.isEIP1559Compatible&&e.maxFeePerGas&&e.maxPriorityFeePerGas)return{};try{const{gasFeeEstimates:n,gasEstimateType:o}=await this.fetchGasFeeEstimateData();if(this.isEIP1559Compatible&&o===Vr.FEE_MARKET){const{medium:{suggestedMaxPriorityFeePerGas:a,suggestedMaxFeePerGas:g}={}}=n;if(a&&g)return{maxFeePerGas:ct.addHexPrefix(Zr(g)),maxPriorityFeePerGas:ct.addHexPrefix(Zr(a))}}else{if(o===Vr.LEGACY)return{gasPrice:ct.addHexPrefix(Zr(n.medium))};if(o===Vr.ETH_GASPRICE)return{gasPrice:ct.addHexPrefix(Zr(n.gasPrice))}}}catch(n){nr.error(n)}const{gasPrice:t}=await this.fetchEthGasPriceEstimate();return{gasPrice:ct.addHexPrefix(Zr(t))}}async estimateTxGas(e){const t=li({},e);return delete t.gasPrice,delete t.maxFeePerGas,delete t.maxPriorityFeePerGas,await this.providerProxy.request({method:"eth_estimateGas",params:[t]})}async analyzeGasUsage(e){const t=await this.providerProxy.request({method:"eth_getBlockByNumber",params:["latest",!1]}),n=di(t.gasLimit),o=lv(n,19,20);let a=An(o);try{a=await this.estimateTxGas(e)}catch(g){nr.warn(g)}return{blockGasLimit:t.gasLimit,estimatedGasHex:a}}addGasBuffer(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1.5;const o=di(e),g=di(t).muln(.9),d=o.muln(n);return o.gt(g)?An(o):d.lt(g)?An(d):An(g)}async determineTransactionCategory(e){const{data:t,to:n}=e;let o="",a;if(t&&!n)a=Tn.DEPLOY_CONTRACT;else{try{o=await this.providerProxy.request({method:"eth_getCode",params:[n,"latest"]})}catch(d){nr.warn(d)}a=!o||o==="0x"||o==="0x0"?Tn.SENT_ETHER:Tn.CONTRACT_INTERACTION}return{transactionCategory:a,code:o}}async getDefaultGasLimit(e){const{transactionCategory:t}=await this.determineTransactionCategory(li({},e));if(e.gas)return e.gas;if(e.to&&t===Tn.SENT_ETHER){if(e.data)throw Error("TxGasUtil - Trying to call a function on a non-contract address");const g=21e3;return ct.addHexPrefix(g.toString(16))}const{blockGasLimit:n,estimatedGasHex:o}=await this.analyzeGasUsage(e);return this.addGasBuffer(ct.addHexPrefix(o),n)}}function Ma(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),t.push.apply(t,n)}return t}function Ia(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Ma(Object(t),!0).forEach(function(n){Yt(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):Ma(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}class $a extends Mi{constructor(e){let{config:t,state:n}=e;super({config:{chainConfig:Ia(Ia({},t.chainConfig),{},{chainNamespace:pr.EIP155})},state:n})}async enable(){if(!this.state.privateKey)throw Fe.ethErrors.provider.custom({message:"Private key is not found in state, plz pass it in constructor state param",code:4902});return await this.setupProvider(this.state.privateKey),this._providerEngineProxy.request({method:"eth_accounts"})}async setupProvider(e){const t=new pv({getProviderEngineProxy:this.getProviderEngineProxy.bind(this)}),n=hv({txFormatter:t,privKey:e,getProviderEngineProxy:this.getProviderEngineProxy.bind(this)}),o=Ui(n),a=this.getChainSwitchMiddleware(),g=new Di,{networkMiddleware:d}=Gi(this.config.chainConfig);g.push(o),g.push(a),g.push(this.getAccountMiddleware()),g.push(d);const b=Ti(g);this.updateProviderEngineProxy(b),await t.init(),await this.lookupNetwork()}async updateAccount(e){if(!this._providerEngineProxy)throw Fe.ethErrors.provider.custom({message:"Provider is not initialized",code:4902});await this._providerEngineProxy.request({method:"eth_private_key"})!==e.privateKey&&(await this.setupProvider(e.privateKey),this._providerEngineProxy.emit("accountsChanged",{accounts:await this._providerEngineProxy.request({method:"eth_accounts"})}))}async switchChain(e){if(!this._providerEngineProxy)throw Fe.ethErrors.provider.custom({message:"Provider is not initialized",code:4902});const t=this.getChainConfig(e.chainId);this.update({chainId:"loading"}),this.configure({chainConfig:t});const n=await this._providerEngineProxy.request({method:"eth_private_key"});await this.setupProvider(n)}async lookupNetwork(){if(!this._providerEngineProxy)throw Fe.ethErrors.provider.custom({message:"Provider is not initialized",code:4902});const{chainId:e}=this.config.chainConfig;if(!e)throw Fe.ethErrors.rpc.invalidParams("chainId is required while lookupNetwork");const t=await this._providerEngineProxy.request({method:"net_version",params:[]});if(parseInt(e,16)!==parseInt(t,10))throw Fe.ethErrors.provider.chainDisconnected(`Invalid network, net_version is: ${t}`);return this.state.chainId!==e&&(this._providerEngineProxy.emit("chainChanged",e),this._providerEngineProxy.emit("connect",{chainId:e})),this.update({chainId:e}),t}getChainSwitchMiddleware(){return $o({addChain:async n=>{const{chainId:o,chainName:a,rpcUrls:g,blockExplorerUrls:d,nativeCurrency:b}=n;this.addChain({chainNamespace:pr.EIP155,chainId:o,ticker:b?.symbol||"ETH",tickerName:b?.name||"Ether",displayName:a,rpcTarget:g[0],blockExplorer:d?.[0]||"",decimals:b?.decimals||18})},switchChain:async n=>{const{chainId:o}=n;await this.switchChain({chainId:o})}})}getAccountMiddleware(){return Qp({updatePrivatekey:async t=>{const{privateKey:n}=t;await this.updateAccount({privateKey:n})}})}}Yt($a,"getProviderInstance",async r=>{const e=new $a({config:{chainConfig:r.chainConfig}});return await e.setupProvider(r.privKey),e});export{$a as EthereumPrivateKeyProvider,pv as TransactionFormatter,wa as WalletConnectProvider,Ea as WalletConnectV2Provider,hv as getProviderHandlers};
